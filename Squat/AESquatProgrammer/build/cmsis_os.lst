ARM GAS  /tmp/ccMNayS3.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"cmsis_os.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.makeFreeRtosPriority,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	makeFreeRtosPriority:
  25              	.LFB30:
  26              		.file 1 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c"
   1:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* ----------------------------------------------------------------------
   2:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * $Date:        5. February 2013
   3:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * $Revision:    V1.02
   4:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
   5:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Project:      CMSIS-RTOS API
   6:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Title:        cmsis_os.c
   7:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
   8:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 0.02
   9:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Initial Proposal Phase
  10:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 0.03
  11:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osKernelStart added, optional feature: main started as thread
  12:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osSemaphores have standard behavior
  13:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osTimerCreate does not start the timer, added osTimerStart
  14:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    osThreadPass is renamed to osThreadYield
  15:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 1.01
  16:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Support for C++ interface
  17:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *     - const attribute removed from the osXxxxDef_t typedef's
  18:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *     - const attribute added to the osXxxxDef macros
  19:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osTimerDelete, osMutexDelete, osSemaphoreDelete
  20:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osKernelInitialize
  21:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Version 1.02
  22:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Control functions for short timeouts in microsecond resolution:
  23:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Added: osKernelSysTick, osKernelSysTickFrequency, osKernelSysTickMicroSec
  24:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    Removed: osSignalGet 
  25:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    
  26:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  
  27:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *----------------------------------------------------------------------------
  28:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
  29:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Portions Copyright © 2016 STMicroelectronics International N.V. All rights reserved.
  30:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Portions Copyright (c) 2013 ARM LIMITED
  31:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * All rights reserved.
  32:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * Redistribution and use in source and binary forms, with or without
ARM GAS  /tmp/ccMNayS3.s 			page 2


  33:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * modification, are permitted provided that the following conditions are met:
  34:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Redistributions of source code must retain the above copyright
  35:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    notice, this list of conditions and the following disclaimer.
  36:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Redistributions in binary form must reproduce the above copyright
  37:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    notice, this list of conditions and the following disclaimer in the
  38:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    documentation and/or other materials provided with the distribution.
  39:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *  - Neither the name of ARM  nor the names of its contributors may be used
  40:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    to endorse or promote products derived from this software without
  41:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *    specific prior written permission.
  42:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *
  43:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  44:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  45:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  46:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  47:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  48:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  49:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  50:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  51:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  52:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  53:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * POSSIBILITY OF SUCH DAMAGE.
  54:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  *---------------------------------------------------------------------------*/
  55:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  56:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  /**
  57:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  58:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @file    cmsis_os.c
  59:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @author  MCD Application Team
  60:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @date    13-July-2017
  61:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @brief   CMSIS-RTOS API implementation for FreeRTOS V9.0.0
  62:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  63:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * @attention
  64:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  65:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * Redistribution and use in source and binary forms, with or without 
  66:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * modification, are permitted, provided that the following conditions are met:
  67:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  68:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 1. Redistribution of source code must retain the above copyright notice, 
  69:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this list of conditions and the following disclaimer.
  70:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 2. Redistributions in binary form must reproduce the above copyright notice,
  71:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this list of conditions and the following disclaimer in the documentation
  72:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    and/or other materials provided with the distribution.
  73:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 3. Neither the name of STMicroelectronics nor the names of other 
  74:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    contributors to this software may be used to endorse or promote products 
  75:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    derived from this software without specific written permission.
  76:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 4. This software, including modifications and/or derivative works of this 
  77:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    software, must execute solely and exclusively on microcontroller or
  78:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    microprocessor devices manufactured by or for STMicroelectronics.
  79:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * 5. Redistribution and use of this software other than as permitted under 
  80:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this license is void and will automatically terminate your rights under 
  81:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *    this license. 
  82:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  83:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * THIS SOFTWARE IS PROVIDED BY STMICROELECTRONICS AND CONTRIBUTORS "AS IS" 
  84:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * AND ANY EXPRESS, IMPLIED OR STATUTORY WARRANTIES, INCLUDING, BUT NOT 
  85:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A 
  86:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * PARTICULAR PURPOSE AND NON-INFRINGEMENT OF THIRD PARTY INTELLECTUAL PROPERTY
  87:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * RIGHTS ARE DISCLAIMED TO THE FULLEST EXTENT PERMITTED BY LAW. IN NO EVENT 
  88:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * SHALL STMICROELECTRONICS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
  89:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
ARM GAS  /tmp/ccMNayS3.s 			page 3


  90:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, 
  91:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
  92:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
  93:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
  94:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  95:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *
  96:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ******************************************************************************
  97:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   */ 
  98:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
  99:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include <string.h>
 100:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #include "cmsis_os.h"
 101:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 102:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 103:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * ARM Compiler 4/5
 104:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if   defined ( __CC_ARM )
 106:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 107:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __ASM            __asm                                      
 108:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __INLINE         __inline                                     
 109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __STATIC_INLINE  static __inline
 110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 111:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include "cmsis_armcc.h"
 112:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 113:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 114:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * GNU Compiler
 115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 116:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif defined ( __GNUC__ )
 117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __ASM            __asm                                      /*!< asm keyword for GNU Comp
 119:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __INLINE         inline                                     /*!< inline keyword for GNU C
 120:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #define __STATIC_INLINE  static inline
 121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 122:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include "cmsis_gcc.h"
 123:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 124:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 125:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*
 126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  * IAR Compiler
 127:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  */
 128:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif defined ( __ICCARM__ )
 129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 130:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __ASM
 131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __ASM                     __asm
 132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 133:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __INLINE
 134:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __INLINE                  inline
 135:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 136:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #ifndef   __STATIC_INLINE
 137:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     #define __STATIC_INLINE           static inline
 138:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #endif
 139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 140:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   #include <cmsis_iar.h>
 141:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 143:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** extern void xPortSysTickHandler(void);
 144:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 145:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Convert from CMSIS type osPriority to FreeRTOS priority number */
 146:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static unsigned portBASE_TYPE makeFreeRtosPriority (osPriority priority)
ARM GAS  /tmp/ccMNayS3.s 			page 4


 147:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  27              		.loc 1 147 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32 0000 80B4     		push	{r7}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 7, -4
  36 0002 85B0     		sub	sp, sp, #20
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 0346     		mov	r3, r0
  43 0008 FB80     		strh	r3, [r7, #6]	@ movhi
 148:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   unsigned portBASE_TYPE fpriority = tskIDLE_PRIORITY;
  44              		.loc 1 148 0
  45 000a 0023     		movs	r3, #0
  46 000c FB60     		str	r3, [r7, #12]
 149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 150:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (priority != osPriorityError) {
  47              		.loc 1 150 0
  48 000e B7F90630 		ldrsh	r3, [r7, #6]
  49 0012 842B     		cmp	r3, #132
  50 0014 05D0     		beq	.L2
 151:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     fpriority += (priority - osPriorityIdle);
  51              		.loc 1 151 0
  52 0016 B7F90620 		ldrsh	r2, [r7, #6]
  53 001a FB68     		ldr	r3, [r7, #12]
  54 001c 1344     		add	r3, r3, r2
  55 001e 0333     		adds	r3, r3, #3
  56 0020 FB60     		str	r3, [r7, #12]
  57              	.L2:
 152:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 153:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 154:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return fpriority;
  58              		.loc 1 154 0
  59 0022 FB68     		ldr	r3, [r7, #12]
 155:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
  60              		.loc 1 155 0
  61 0024 1846     		mov	r0, r3
  62 0026 1437     		adds	r7, r7, #20
  63              	.LCFI3:
  64              		.cfi_def_cfa_offset 4
  65 0028 BD46     		mov	sp, r7
  66              	.LCFI4:
  67              		.cfi_def_cfa_register 13
  68              		@ sp needed
  69 002a 5DF8047B 		ldr	r7, [sp], #4
  70              	.LCFI5:
  71              		.cfi_restore 7
  72              		.cfi_def_cfa_offset 0
  73 002e 7047     		bx	lr
  74              		.cfi_endproc
ARM GAS  /tmp/ccMNayS3.s 			page 5


  75              	.LFE30:
  77              		.section	.text.makeCmsisPriority,"ax",%progbits
  78              		.align	1
  79              		.syntax unified
  80              		.thumb
  81              		.thumb_func
  82              		.fpu fpv4-sp-d16
  84              	makeCmsisPriority:
  85              	.LFB31:
 156:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 157:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_uxTaskPriorityGet == 1)
 158:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Convert from FreeRTOS priority number to CMSIS type osPriority */
 159:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static osPriority makeCmsisPriority (unsigned portBASE_TYPE fpriority)
 160:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
  86              		.loc 1 160 0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 16
  89              		@ frame_needed = 1, uses_anonymous_args = 0
  90              		@ link register save eliminated.
  91 0000 80B4     		push	{r7}
  92              	.LCFI6:
  93              		.cfi_def_cfa_offset 4
  94              		.cfi_offset 7, -4
  95 0002 85B0     		sub	sp, sp, #20
  96              	.LCFI7:
  97              		.cfi_def_cfa_offset 24
  98 0004 00AF     		add	r7, sp, #0
  99              	.LCFI8:
 100              		.cfi_def_cfa_register 7
 101 0006 7860     		str	r0, [r7, #4]
 161:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPriority priority = osPriorityError;
 102              		.loc 1 161 0
 103 0008 8423     		movs	r3, #132
 104 000a FB81     		strh	r3, [r7, #14]	@ movhi
 162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 163:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((fpriority - tskIDLE_PRIORITY) <= (osPriorityRealtime - osPriorityIdle)) {
 105              		.loc 1 163 0
 106 000c 7B68     		ldr	r3, [r7, #4]
 107 000e 062B     		cmp	r3, #6
 108 0010 04D8     		bhi	.L5
 164:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     priority = (osPriority)((int)osPriorityIdle + (int)(fpriority - tskIDLE_PRIORITY));
 109              		.loc 1 164 0
 110 0012 7B68     		ldr	r3, [r7, #4]
 111 0014 9BB2     		uxth	r3, r3
 112 0016 033B     		subs	r3, r3, #3
 113 0018 9BB2     		uxth	r3, r3
 114 001a FB81     		strh	r3, [r7, #14]	@ movhi
 115              	.L5:
 165:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 166:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 167:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return priority;
 116              		.loc 1 167 0
 117 001c B7F90E30 		ldrsh	r3, [r7, #14]
 168:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 118              		.loc 1 168 0
 119 0020 1846     		mov	r0, r3
 120 0022 1437     		adds	r7, r7, #20
ARM GAS  /tmp/ccMNayS3.s 			page 6


 121              	.LCFI9:
 122              		.cfi_def_cfa_offset 4
 123 0024 BD46     		mov	sp, r7
 124              	.LCFI10:
 125              		.cfi_def_cfa_register 13
 126              		@ sp needed
 127 0026 5DF8047B 		ldr	r7, [sp], #4
 128              	.LCFI11:
 129              		.cfi_restore 7
 130              		.cfi_def_cfa_offset 0
 131 002a 7047     		bx	lr
 132              		.cfi_endproc
 133              	.LFE31:
 135              		.section	.text.inHandlerMode,"ax",%progbits
 136              		.align	1
 137              		.syntax unified
 138              		.thumb
 139              		.thumb_func
 140              		.fpu fpv4-sp-d16
 142              	inHandlerMode:
 143              	.LFB32:
 169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 170:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 171:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 172:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /* Determine whether we are in thread mode or handler mode. */
 173:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** static int inHandlerMode (void)
 174:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 144              		.loc 1 174 0
 145              		.cfi_startproc
 146              		@ args = 0, pretend = 0, frame = 8
 147              		@ frame_needed = 1, uses_anonymous_args = 0
 148              		@ link register save eliminated.
 149 0000 80B4     		push	{r7}
 150              	.LCFI12:
 151              		.cfi_def_cfa_offset 4
 152              		.cfi_offset 7, -4
 153 0002 83B0     		sub	sp, sp, #12
 154              	.LCFI13:
 155              		.cfi_def_cfa_offset 16
 156 0004 00AF     		add	r7, sp, #0
 157              	.LCFI14:
 158              		.cfi_def_cfa_register 7
 159              	.LBB8:
 160              	.LBB9:
 161              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS Cortex-M Core Function/Instruction Header File
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V4.30
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     20. October 2015
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Copyright (c) 2009 - 2015 ARM LIMITED
   8:Drivers/CMSIS/Include/cmsis_gcc.h **** 
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****    All rights reserved.
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****    Redistribution and use in source and binary forms, with or without
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****    modification, are permitted provided that the following conditions are met:
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Redistributions of source code must retain the above copyright
ARM GAS  /tmp/ccMNayS3.s 			page 7


  13:Drivers/CMSIS/Include/cmsis_gcc.h ****      notice, this list of conditions and the following disclaimer.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Redistributions in binary form must reproduce the above copyright
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****      notice, this list of conditions and the following disclaimer in the
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****      documentation and/or other materials provided with the distribution.
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Neither the name of ARM nor the names of its contributors may be used
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****      to endorse or promote products derived from this software without
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****      specific prior written permission.
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****    *
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  24:Drivers/CMSIS/Include/cmsis_gcc.h ****    ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  25:Drivers/CMSIS/Include/cmsis_gcc.h ****    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  26:Drivers/CMSIS/Include/cmsis_gcc.h ****    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  27:Drivers/CMSIS/Include/cmsis_gcc.h ****    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Drivers/CMSIS/Include/cmsis_gcc.h ****    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Drivers/CMSIS/Include/cmsis_gcc.h ****    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  30:Drivers/CMSIS/Include/cmsis_gcc.h ****    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:Drivers/CMSIS/Include/cmsis_gcc.h ****    POSSIBILITY OF SUCH DAMAGE.
  32:Drivers/CMSIS/Include/cmsis_gcc.h ****    ---------------------------------------------------------------------------*/
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  36:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** #if defined ( __GNUC__ )
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  41:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  44:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  47:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
  49:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
  51:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  53:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  54:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
  55:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
  57:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __enable_irq(void)
  59:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  60:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  62:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
  66:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
  67:Drivers/CMSIS/Include/cmsis_gcc.h ****   Can only be executed in Privileged modes.
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __disable_irq(void)
ARM GAS  /tmp/ccMNayS3.s 			page 8


  70:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
  72:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  73:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  74:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  75:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
  77:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
  78:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  80:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_CONTROL(void)
  81:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
  83:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
  85:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  87:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  88:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  89:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
  93:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_CONTROL(uint32_t control)
  95:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
  97:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  98:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  99:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 100:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 101:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 102:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 105:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_IPSR(void)
 106:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 108:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 109:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 162              		.loc 2 109 0
 163              		.syntax unified
 164              	@ 109 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 165 0006 EFF30583 		MRS r3, ipsr
 166              	@ 0 "" 2
 167              		.thumb
 168              		.syntax unified
 169 000a 7B60     		str	r3, [r7, #4]
 110:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 170              		.loc 2 110 0
 171 000c 7B68     		ldr	r3, [r7, #4]
 172              	.LBE9:
 173              	.LBE8:
 175:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return __get_IPSR() != 0;
 174              		.loc 1 175 0
 175 000e 002B     		cmp	r3, #0
 176 0010 14BF     		ite	ne
ARM GAS  /tmp/ccMNayS3.s 			page 9


 177 0012 0123     		movne	r3, #1
 178 0014 0023     		moveq	r3, #0
 179 0016 DBB2     		uxtb	r3, r3
 176:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 180              		.loc 1 176 0
 181 0018 1846     		mov	r0, r3
 182 001a 0C37     		adds	r7, r7, #12
 183              	.LCFI15:
 184              		.cfi_def_cfa_offset 4
 185 001c BD46     		mov	sp, r7
 186              	.LCFI16:
 187              		.cfi_def_cfa_register 13
 188              		@ sp needed
 189 001e 5DF8047B 		ldr	r7, [sp], #4
 190              	.LCFI17:
 191              		.cfi_restore 7
 192              		.cfi_def_cfa_offset 0
 193 0022 7047     		bx	lr
 194              		.cfi_endproc
 195              	.LFE32:
 197              		.section	.text.osKernelStart,"ax",%progbits
 198              		.align	1
 199              		.global	osKernelStart
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 203              		.fpu fpv4-sp-d16
 205              	osKernelStart:
 206              	.LFB33:
 177:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 178:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Kernel Control Functions *****************************/
 179:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Initialize the RTOS Kernel for creating objects.
 181:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
 182:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelInitialize shall be consistent in every CMSIS-RTOS.
 183:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 184:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osKernelInitialize (void);
 185:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 186:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Start the RTOS Kernel with executing the specified thread.
 188:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_def    thread definition referenced with \ref osThread.
 189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      pointer that is passed to the thread function as start argument.
 190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function
 191:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelStart shall be consistent in every CMSIS-RTOS.
 192:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 193:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osKernelStart (void)
 194:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 207              		.loc 1 194 0
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 0
 210              		@ frame_needed = 1, uses_anonymous_args = 0
 211 0000 80B5     		push	{r7, lr}
 212              	.LCFI18:
 213              		.cfi_def_cfa_offset 8
 214              		.cfi_offset 7, -8
 215              		.cfi_offset 14, -4
 216 0002 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccMNayS3.s 			page 10


 217              	.LCFI19:
 218              		.cfi_def_cfa_register 7
 195:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskStartScheduler();
 219              		.loc 1 195 0
 220 0004 FFF7FEFF 		bl	vTaskStartScheduler
 196:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 221              		.loc 1 197 0
 222 0008 0023     		movs	r3, #0
 198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 223              		.loc 1 198 0
 224 000a 1846     		mov	r0, r3
 225 000c 80BD     		pop	{r7, pc}
 226              		.cfi_endproc
 227              	.LFE33:
 229              		.section	.text.osKernelRunning,"ax",%progbits
 230              		.align	1
 231              		.global	osKernelRunning
 232              		.syntax unified
 233              		.thumb
 234              		.thumb_func
 235              		.fpu fpv4-sp-d16
 237              	osKernelRunning:
 238              	.LFB34:
 199:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 200:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 201:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Check if the RTOS kernel is already started
 202:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  None
 203:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval (0) RTOS is not started
 204:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *         (1) RTOS is started
 205:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *         (-1) if this feature is disabled in FreeRTOSConfig.h 
 206:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note  MUST REMAIN UNCHANGED: \b osKernelRunning shall be consistent in every CMSIS-RTOS.
 207:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 208:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osKernelRunning(void)
 209:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 239              		.loc 1 209 0
 240              		.cfi_startproc
 241              		@ args = 0, pretend = 0, frame = 0
 242              		@ frame_needed = 1, uses_anonymous_args = 0
 243 0000 80B5     		push	{r7, lr}
 244              	.LCFI20:
 245              		.cfi_def_cfa_offset 8
 246              		.cfi_offset 7, -8
 247              		.cfi_offset 14, -4
 248 0002 00AF     		add	r7, sp, #0
 249              	.LCFI21:
 250              		.cfi_def_cfa_register 7
 210:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( INCLUDE_xTaskGetSchedulerState == 1 ) || ( configUSE_TIMERS == 1 ) )
 211:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskGetSchedulerState() == taskSCHEDULER_NOT_STARTED)
 251              		.loc 1 211 0
 252 0004 FFF7FEFF 		bl	xTaskGetSchedulerState
 253 0008 0346     		mov	r3, r0
 254 000a 012B     		cmp	r3, #1
 255 000c 01D1     		bne	.L13
 212:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0;
 256              		.loc 1 212 0
 257 000e 0023     		movs	r3, #0
ARM GAS  /tmp/ccMNayS3.s 			page 11


 258 0010 00E0     		b	.L14
 259              	.L13:
 213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 1;
 260              		.loc 1 214 0
 261 0012 0123     		movs	r3, #1
 262              	.L14:
 215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return (-1);
 217:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif	
 218:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 263              		.loc 1 218 0
 264 0014 1846     		mov	r0, r3
 265 0016 80BD     		pop	{r7, pc}
 266              		.cfi_endproc
 267              	.LFE34:
 269              		.section	.text.osKernelSysTick,"ax",%progbits
 270              		.align	1
 271              		.global	osKernelSysTick
 272              		.syntax unified
 273              		.thumb
 274              		.thumb_func
 275              		.fpu fpv4-sp-d16
 277              	osKernelSysTick:
 278              	.LFB35:
 219:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 220:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_SysTick)  &&  (osFeature_SysTick != 0))     // System Timer available
 221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 222:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the value of the Kernel SysTick timer
 223:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  None
 224:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval None
 225:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osKernelSysTick shall be consistent in every CMSIS-RTOS.
 226:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 227:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osKernelSysTick(void)
 228:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 279              		.loc 1 228 0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 0
 282              		@ frame_needed = 1, uses_anonymous_args = 0
 283 0000 80B5     		push	{r7, lr}
 284              	.LCFI22:
 285              		.cfi_def_cfa_offset 8
 286              		.cfi_offset 7, -8
 287              		.cfi_offset 14, -4
 288 0002 00AF     		add	r7, sp, #0
 289              	.LCFI23:
 290              		.cfi_def_cfa_register 7
 229:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 291              		.loc 1 229 0
 292 0004 FFF7FEFF 		bl	inHandlerMode
 293 0008 0346     		mov	r3, r0
 294 000a 002B     		cmp	r3, #0
 295 000c 03D0     		beq	.L16
 230:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCountFromISR();
 296              		.loc 1 230 0
 297 000e FFF7FEFF 		bl	xTaskGetTickCountFromISR
 298 0012 0346     		mov	r3, r0
ARM GAS  /tmp/ccMNayS3.s 			page 12


 299 0014 02E0     		b	.L17
 300              	.L16:
 231:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 232:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 233:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTaskGetTickCount();
 301              		.loc 1 233 0
 302 0016 FFF7FEFF 		bl	xTaskGetTickCount
 303 001a 0346     		mov	r3, r0
 304              	.L17:
 234:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 235:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 305              		.loc 1 235 0
 306 001c 1846     		mov	r0, r3
 307 001e 80BD     		pop	{r7, pc}
 308              		.cfi_endproc
 309              	.LFE35:
 311              		.section	.text.osThreadCreate,"ax",%progbits
 312              		.align	1
 313              		.global	osThreadCreate
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 317              		.fpu fpv4-sp-d16
 319              	osThreadCreate:
 320              	.LFB36:
 236:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    // System Timer available
 237:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Thread Management *****************************/
 238:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 239:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create a thread and add it to Active Threads and set it to state READY.
 240:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_def    thread definition referenced with \ref osThread.
 241:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      pointer that is passed to the thread function as start argument.
 242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval thread ID for reference by other functions or NULL in case of error.
 243:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadCreate shall be consistent in every CMSIS-RTOS.
 244:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 245:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadId osThreadCreate (const osThreadDef_t *thread_def, void *argument)
 246:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 321              		.loc 1 246 0
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 16
 324              		@ frame_needed = 1, uses_anonymous_args = 0
 325 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 326              	.LCFI24:
 327              		.cfi_def_cfa_offset 20
 328              		.cfi_offset 4, -20
 329              		.cfi_offset 5, -16
 330              		.cfi_offset 6, -12
 331              		.cfi_offset 7, -8
 332              		.cfi_offset 14, -4
 333 0002 87B0     		sub	sp, sp, #28
 334              	.LCFI25:
 335              		.cfi_def_cfa_offset 48
 336 0004 02AF     		add	r7, sp, #8
 337              	.LCFI26:
 338              		.cfi_def_cfa 7, 40
 339 0006 7860     		str	r0, [r7, #4]
 340 0008 3960     		str	r1, [r7]
 247:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TaskHandle_t handle;
ARM GAS  /tmp/ccMNayS3.s 			page 13


 248:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 249:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) &&  ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 250:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if((thread_def->buffer != NULL) && (thread_def->controlblock != NULL)) {
 251:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     handle = xTaskCreateStatic((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->na
 252:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 253:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->buffer, thread_def->controlblock);
 254:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 255:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 256:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTaskCreate((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->name,
 257:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 258:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               &handle) != pdPASS)  {
 259:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 260:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     } 
 261:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif( configSUPPORT_STATIC_ALLOCATION == 1 )
 263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 264:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     handle = xTaskCreateStatic((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->na
 265:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 266:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****               thread_def->buffer, thread_def->controlblock);
 267:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskCreate((TaskFunction_t)thread_def->pthread,(const portCHAR *)thread_def->name,
 341              		.loc 1 268 0
 342 000a 7B68     		ldr	r3, [r7, #4]
 343 000c 5C68     		ldr	r4, [r3, #4]
 344 000e 7B68     		ldr	r3, [r7, #4]
 345 0010 1D68     		ldr	r5, [r3]
 269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 346              		.loc 1 269 0
 347 0012 7B68     		ldr	r3, [r7, #4]
 348 0014 1B69     		ldr	r3, [r3, #16]
 268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    thread_def->stacksize, argument, makeFreeRtosPriority(thread_def->tpriority),
 349              		.loc 1 268 0
 350 0016 9EB2     		uxth	r6, r3
 351 0018 7B68     		ldr	r3, [r7, #4]
 352 001a B3F90830 		ldrsh	r3, [r3, #8]
 353 001e 1846     		mov	r0, r3
 354 0020 FFF7FEFF 		bl	makeFreeRtosPriority
 355 0024 0246     		mov	r2, r0
 356 0026 07F10C03 		add	r3, r7, #12
 357 002a 0193     		str	r3, [sp, #4]
 358 002c 0092     		str	r2, [sp]
 359 002e 3B68     		ldr	r3, [r7]
 360 0030 3246     		mov	r2, r6
 361 0032 2946     		mov	r1, r5
 362 0034 2046     		mov	r0, r4
 363 0036 FFF7FEFF 		bl	xTaskCreate
 364 003a 0346     		mov	r3, r0
 365 003c 012B     		cmp	r3, #1
 366 003e 01D0     		beq	.L19
 270:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                    &handle) != pdPASS)  {
 271:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 367              		.loc 1 271 0
 368 0040 0023     		movs	r3, #0
 369 0042 00E0     		b	.L21
 370              	.L19:
 272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }     
 273:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
ARM GAS  /tmp/ccMNayS3.s 			page 14


 274:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return handle;
 371              		.loc 1 275 0
 372 0044 FB68     		ldr	r3, [r7, #12]
 373              	.L21:
 276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 374              		.loc 1 276 0 discriminator 1
 375 0046 1846     		mov	r0, r3
 376 0048 1437     		adds	r7, r7, #20
 377              	.LCFI27:
 378              		.cfi_def_cfa_offset 20
 379 004a BD46     		mov	sp, r7
 380              	.LCFI28:
 381              		.cfi_def_cfa_register 13
 382              		@ sp needed
 383 004c F0BD     		pop	{r4, r5, r6, r7, pc}
 384              		.cfi_endproc
 385              	.LFE36:
 387              		.section	.text.osThreadGetId,"ax",%progbits
 388              		.align	1
 389              		.global	osThreadGetId
 390              		.syntax unified
 391              		.thumb
 392              		.thumb_func
 393              		.fpu fpv4-sp-d16
 395              	osThreadGetId:
 396              	.LFB37:
 277:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 278:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 279:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Return the thread ID of the current running thread.
 280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval thread ID for reference by other functions or NULL in case of error.
 281:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadGetId shall be consistent in every CMSIS-RTOS.
 282:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 283:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadId osThreadGetId (void)
 284:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 397              		.loc 1 284 0
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 0
 400              		@ frame_needed = 1, uses_anonymous_args = 0
 401              		@ link register save eliminated.
 402 0000 80B4     		push	{r7}
 403              	.LCFI29:
 404              		.cfi_def_cfa_offset 4
 405              		.cfi_offset 7, -4
 406 0002 00AF     		add	r7, sp, #0
 407              	.LCFI30:
 408              		.cfi_def_cfa_register 7
 285:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( INCLUDE_xTaskGetCurrentTaskHandle == 1 ) || ( configUSE_MUTEXES == 1 ) )
 286:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTaskGetCurrentTaskHandle();
 287:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return NULL;
 409              		.loc 1 288 0
 410 0004 0023     		movs	r3, #0
 289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 290:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 411              		.loc 1 290 0
 412 0006 1846     		mov	r0, r3
ARM GAS  /tmp/ccMNayS3.s 			page 15


 413 0008 BD46     		mov	sp, r7
 414              	.LCFI31:
 415              		.cfi_def_cfa_register 13
 416              		@ sp needed
 417 000a 5DF8047B 		ldr	r7, [sp], #4
 418              	.LCFI32:
 419              		.cfi_restore 7
 420              		.cfi_def_cfa_offset 0
 421 000e 7047     		bx	lr
 422              		.cfi_endproc
 423              	.LFE37:
 425              		.section	.text.osThreadTerminate,"ax",%progbits
 426              		.align	1
 427              		.global	osThreadTerminate
 428              		.syntax unified
 429              		.thumb
 430              		.thumb_func
 431              		.fpu fpv4-sp-d16
 433              	osThreadTerminate:
 434              	.LFB38:
 291:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 292:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 293:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Terminate execution of a thread and remove it from Active Threads.
 294:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 295:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 296:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadTerminate shall be consistent in every CMSIS-RTOS.
 297:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 298:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadTerminate (osThreadId thread_id)
 299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 435              		.loc 1 299 0
 436              		.cfi_startproc
 437              		@ args = 0, pretend = 0, frame = 8
 438              		@ frame_needed = 1, uses_anonymous_args = 0
 439 0000 80B5     		push	{r7, lr}
 440              	.LCFI33:
 441              		.cfi_def_cfa_offset 8
 442              		.cfi_offset 7, -8
 443              		.cfi_offset 14, -4
 444 0002 82B0     		sub	sp, sp, #8
 445              	.LCFI34:
 446              		.cfi_def_cfa_offset 16
 447 0004 00AF     		add	r7, sp, #0
 448              	.LCFI35:
 449              		.cfi_def_cfa_register 7
 450 0006 7860     		str	r0, [r7, #4]
 300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskDelete == 1)
 301:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelete(thread_id);
 451              		.loc 1 301 0
 452 0008 7868     		ldr	r0, [r7, #4]
 453 000a FFF7FEFF 		bl	vTaskDelete
 302:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 454              		.loc 1 302 0
 455 000e 0023     		movs	r3, #0
 303:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 304:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorOS;
 305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 306:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
ARM GAS  /tmp/ccMNayS3.s 			page 16


 456              		.loc 1 306 0
 457 0010 1846     		mov	r0, r3
 458 0012 0837     		adds	r7, r7, #8
 459              	.LCFI36:
 460              		.cfi_def_cfa_offset 8
 461 0014 BD46     		mov	sp, r7
 462              	.LCFI37:
 463              		.cfi_def_cfa_register 13
 464              		@ sp needed
 465 0016 80BD     		pop	{r7, pc}
 466              		.cfi_endproc
 467              	.LFE38:
 469              		.section	.text.osThreadYield,"ax",%progbits
 470              		.align	1
 471              		.global	osThreadYield
 472              		.syntax unified
 473              		.thumb
 474              		.thumb_func
 475              		.fpu fpv4-sp-d16
 477              	osThreadYield:
 478              	.LFB39:
 307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 308:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 309:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Pass control to next thread that is in state \b READY.
 310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
 311:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadYield shall be consistent in every CMSIS-RTOS.
 312:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 313:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadYield (void)
 314:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 479              		.loc 1 314 0
 480              		.cfi_startproc
 481              		@ args = 0, pretend = 0, frame = 0
 482              		@ frame_needed = 1, uses_anonymous_args = 0
 483              		@ link register save eliminated.
 484 0000 80B4     		push	{r7}
 485              	.LCFI38:
 486              		.cfi_def_cfa_offset 4
 487              		.cfi_offset 7, -4
 488 0002 00AF     		add	r7, sp, #0
 489              	.LCFI39:
 490              		.cfi_def_cfa_register 7
 315:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskYIELD();
 491              		.loc 1 315 0
 492 0004 064B     		ldr	r3, .L28
 493 0006 4FF08052 		mov	r2, #268435456
 494 000a 1A60     		str	r2, [r3]
 495              		.syntax unified
 496              	@ 315 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 497 000c BFF34F8F 		dsb
 498              	@ 0 "" 2
 499              	@ 315 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 500 0010 BFF36F8F 		isb
 501              	@ 0 "" 2
 316:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 502              		.loc 1 317 0
 503              		.thumb
ARM GAS  /tmp/ccMNayS3.s 			page 17


 504              		.syntax unified
 505 0014 0023     		movs	r3, #0
 318:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 506              		.loc 1 318 0
 507 0016 1846     		mov	r0, r3
 508 0018 BD46     		mov	sp, r7
 509              	.LCFI40:
 510              		.cfi_def_cfa_register 13
 511              		@ sp needed
 512 001a 5DF8047B 		ldr	r7, [sp], #4
 513              	.LCFI41:
 514              		.cfi_restore 7
 515              		.cfi_def_cfa_offset 0
 516 001e 7047     		bx	lr
 517              	.L29:
 518              		.align	2
 519              	.L28:
 520 0020 04ED00E0 		.word	-536810236
 521              		.cfi_endproc
 522              	.LFE39:
 524              		.section	.text.osThreadSetPriority,"ax",%progbits
 525              		.align	1
 526              		.global	osThreadSetPriority
 527              		.syntax unified
 528              		.thumb
 529              		.thumb_func
 530              		.fpu fpv4-sp-d16
 532              	osThreadSetPriority:
 533              	.LFB40:
 319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 320:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 321:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Change priority of an active thread.
 322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   priority      new priority value for the thread function.
 324:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 325:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadSetPriority shall be consistent in every CMSIS-RTOS.
 326:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 327:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSetPriority (osThreadId thread_id, osPriority priority)
 328:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 534              		.loc 1 328 0
 535              		.cfi_startproc
 536              		@ args = 0, pretend = 0, frame = 8
 537              		@ frame_needed = 1, uses_anonymous_args = 0
 538 0000 80B5     		push	{r7, lr}
 539              	.LCFI42:
 540              		.cfi_def_cfa_offset 8
 541              		.cfi_offset 7, -8
 542              		.cfi_offset 14, -4
 543 0002 82B0     		sub	sp, sp, #8
 544              	.LCFI43:
 545              		.cfi_def_cfa_offset 16
 546 0004 00AF     		add	r7, sp, #0
 547              	.LCFI44:
 548              		.cfi_def_cfa_register 7
 549 0006 7860     		str	r0, [r7, #4]
 550 0008 0B46     		mov	r3, r1
 551 000a 7B80     		strh	r3, [r7, #2]	@ movhi
ARM GAS  /tmp/ccMNayS3.s 			page 18


 329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskPrioritySet == 1)
 330:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskPrioritySet(thread_id, makeFreeRtosPriority(priority));
 552              		.loc 1 330 0
 553 000c B7F90230 		ldrsh	r3, [r7, #2]
 554 0010 1846     		mov	r0, r3
 555 0012 FFF7FEFF 		bl	makeFreeRtosPriority
 556 0016 0346     		mov	r3, r0
 557 0018 1946     		mov	r1, r3
 558 001a 7868     		ldr	r0, [r7, #4]
 559 001c FFF7FEFF 		bl	vTaskPrioritySet
 331:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 560              		.loc 1 331 0
 561 0020 0023     		movs	r3, #0
 332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 333:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorOS;
 334:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 335:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 562              		.loc 1 335 0
 563 0022 1846     		mov	r0, r3
 564 0024 0837     		adds	r7, r7, #8
 565              	.LCFI45:
 566              		.cfi_def_cfa_offset 8
 567 0026 BD46     		mov	sp, r7
 568              	.LCFI46:
 569              		.cfi_def_cfa_register 13
 570              		@ sp needed
 571 0028 80BD     		pop	{r7, pc}
 572              		.cfi_endproc
 573              	.LFE40:
 575              		.section	.text.osThreadGetPriority,"ax",%progbits
 576              		.align	1
 577              		.global	osThreadGetPriority
 578              		.syntax unified
 579              		.thumb
 580              		.thumb_func
 581              		.fpu fpv4-sp-d16
 583              	osThreadGetPriority:
 584              	.LFB41:
 336:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 337:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 338:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Get current priority of an active thread.
 339:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 340:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  current priority value of the thread function.
 341:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osThreadGetPriority shall be consistent in every CMSIS-RTOS.
 342:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 343:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osPriority osThreadGetPriority (osThreadId thread_id)
 344:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 585              		.loc 1 344 0
 586              		.cfi_startproc
 587              		@ args = 0, pretend = 0, frame = 8
 588              		@ frame_needed = 1, uses_anonymous_args = 0
 589 0000 80B5     		push	{r7, lr}
 590              	.LCFI47:
 591              		.cfi_def_cfa_offset 8
 592              		.cfi_offset 7, -8
 593              		.cfi_offset 14, -4
 594 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/ccMNayS3.s 			page 19


 595              	.LCFI48:
 596              		.cfi_def_cfa_offset 16
 597 0004 00AF     		add	r7, sp, #0
 598              	.LCFI49:
 599              		.cfi_def_cfa_register 7
 600 0006 7860     		str	r0, [r7, #4]
 345:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_uxTaskPriorityGet == 1)
 346:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 601              		.loc 1 346 0
 602 0008 FFF7FEFF 		bl	inHandlerMode
 603 000c 0346     		mov	r3, r0
 604 000e 002B     		cmp	r3, #0
 605 0010 08D0     		beq	.L33
 347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 348:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return makeCmsisPriority(uxTaskPriorityGetFromISR(thread_id));  
 606              		.loc 1 348 0
 607 0012 7868     		ldr	r0, [r7, #4]
 608 0014 FFF7FEFF 		bl	uxTaskPriorityGetFromISR
 609 0018 0346     		mov	r3, r0
 610 001a 1846     		mov	r0, r3
 611 001c FFF7FEFF 		bl	makeCmsisPriority
 612 0020 0346     		mov	r3, r0
 613 0022 07E0     		b	.L34
 614              	.L33:
 349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 350:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 351:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {  
 352:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return makeCmsisPriority(uxTaskPriorityGet(thread_id));
 615              		.loc 1 352 0
 616 0024 7868     		ldr	r0, [r7, #4]
 617 0026 FFF7FEFF 		bl	uxTaskPriorityGet
 618 002a 0346     		mov	r3, r0
 619 002c 1846     		mov	r0, r3
 620 002e FFF7FEFF 		bl	makeCmsisPriority
 621 0032 0346     		mov	r3, r0
 622              	.L34:
 353:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 354:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 355:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osPriorityError;
 356:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 357:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 623              		.loc 1 357 0
 624 0034 1846     		mov	r0, r3
 625 0036 0837     		adds	r7, r7, #8
 626              	.LCFI50:
 627              		.cfi_def_cfa_offset 8
 628 0038 BD46     		mov	sp, r7
 629              	.LCFI51:
 630              		.cfi_def_cfa_register 13
 631              		@ sp needed
 632 003a 80BD     		pop	{r7, pc}
 633              		.cfi_endproc
 634              	.LFE41:
 636              		.section	.text.osDelay,"ax",%progbits
 637              		.align	1
 638              		.global	osDelay
 639              		.syntax unified
ARM GAS  /tmp/ccMNayS3.s 			page 20


 640              		.thumb
 641              		.thumb_func
 642              		.fpu fpv4-sp-d16
 644              	osDelay:
 645              	.LFB42:
 358:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 359:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*********************** Generic Wait Functions *******************************/
 360:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 361:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Wait for Timeout (Time Delay)
 362:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec      time delay value
 363:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 364:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 365:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osDelay (uint32_t millisec)
 366:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 646              		.loc 1 366 0
 647              		.cfi_startproc
 648              		@ args = 0, pretend = 0, frame = 16
 649              		@ frame_needed = 1, uses_anonymous_args = 0
 650 0000 80B5     		push	{r7, lr}
 651              	.LCFI52:
 652              		.cfi_def_cfa_offset 8
 653              		.cfi_offset 7, -8
 654              		.cfi_offset 14, -4
 655 0002 84B0     		sub	sp, sp, #16
 656              	.LCFI53:
 657              		.cfi_def_cfa_offset 24
 658 0004 00AF     		add	r7, sp, #0
 659              	.LCFI54:
 660              		.cfi_def_cfa_register 7
 661 0006 7860     		str	r0, [r7, #4]
 367:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_vTaskDelay
 368:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = millisec / portTICK_PERIOD_MS;
 662              		.loc 1 368 0
 663 0008 7B68     		ldr	r3, [r7, #4]
 664 000a FB60     		str	r3, [r7, #12]
 369:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 370:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelay(ticks ? ticks : 1);          /* Minimum delay = 1 tick */
 665              		.loc 1 370 0
 666 000c FB68     		ldr	r3, [r7, #12]
 667 000e 002B     		cmp	r3, #0
 668 0010 01D0     		beq	.L36
 669              		.loc 1 370 0 is_stmt 0 discriminator 1
 670 0012 FB68     		ldr	r3, [r7, #12]
 671 0014 00E0     		b	.L37
 672              	.L36:
 673              		.loc 1 370 0 discriminator 2
 674 0016 0123     		movs	r3, #1
 675              	.L37:
 676              		.loc 1 370 0 discriminator 4
 677 0018 1846     		mov	r0, r3
 678 001a FFF7FEFF 		bl	vTaskDelay
 371:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 372:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 679              		.loc 1 372 0 is_stmt 1 discriminator 4
 680 001e 0023     		movs	r3, #0
 373:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 374:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
ARM GAS  /tmp/ccMNayS3.s 			page 21


 375:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 376:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
 377:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 378:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 681              		.loc 1 378 0 discriminator 4
 682 0020 1846     		mov	r0, r3
 683 0022 1037     		adds	r7, r7, #16
 684              	.LCFI55:
 685              		.cfi_def_cfa_offset 8
 686 0024 BD46     		mov	sp, r7
 687              	.LCFI56:
 688              		.cfi_def_cfa_register 13
 689              		@ sp needed
 690 0026 80BD     		pop	{r7, pc}
 691              		.cfi_endproc
 692              	.LFE42:
 694              		.section	.text.osTimerCreate,"ax",%progbits
 695              		.align	1
 696              		.global	osTimerCreate
 697              		.syntax unified
 698              		.thumb
 699              		.thumb_func
 700              		.fpu fpv4-sp-d16
 702              	osTimerCreate:
 703              	.LFB43:
 379:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 380:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Wait)  &&  (osFeature_Wait != 0)) /* Generic Wait available */
 381:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 382:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Wait for Signal, Message, Mail, or Timeout
 383:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec  timeout value or 0 in case of no time-out
 384:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  event that contains signal, message, or mail information or error code.
 385:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osWait shall be consistent in every CMSIS-RTOS.
 386:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 387:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osWait (uint32_t millisec);
 388:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 389:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* Generic Wait available */
 390:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 391:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /***********************  Timer Management Functions ***************************/
 392:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 393:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create a timer.
 394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_def     timer object referenced with \ref osTimer.
 395:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  type          osTimerOnce for one-shot or osTimerPeriodic for periodic behavior.
 396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  argument      argument to the timer call back function.
 397:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  timer ID for reference by other functions or NULL in case of error.
 398:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerCreate shall be consistent in every CMSIS-RTOS.
 399:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 400:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osTimerId osTimerCreate (const osTimerDef_t *timer_def, os_timer_type type, void *argument)
 401:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 704              		.loc 1 401 0
 705              		.cfi_startproc
 706              		@ args = 0, pretend = 0, frame = 16
 707              		@ frame_needed = 1, uses_anonymous_args = 0
 708              		@ link register save eliminated.
 709 0000 80B4     		push	{r7}
 710              	.LCFI57:
 711              		.cfi_def_cfa_offset 4
 712              		.cfi_offset 7, -4
ARM GAS  /tmp/ccMNayS3.s 			page 22


 713 0002 85B0     		sub	sp, sp, #20
 714              	.LCFI58:
 715              		.cfi_def_cfa_offset 24
 716 0004 00AF     		add	r7, sp, #0
 717              	.LCFI59:
 718              		.cfi_def_cfa_register 7
 719 0006 F860     		str	r0, [r7, #12]
 720 0008 0B46     		mov	r3, r1
 721 000a 7A60     		str	r2, [r7, #4]
 722 000c FB72     		strb	r3, [r7, #11]
 402:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)
 403:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 404:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) ) 
 405:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(timer_def->controlblock != NULL) {
 406:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTimerCreateStatic((const char *)"",
 407:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 408:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 409:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 410:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer,
 411:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (StaticTimer_t *)timer_def->controlblock);
 412:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 413:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 414:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xTimerCreate((const char *)"",
 415:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 416:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 417:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 418:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer);
 419:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  }
 420:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif( configSUPPORT_STATIC_ALLOCATION == 1 )
 421:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTimerCreateStatic((const char *)"",
 422:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 423:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 424:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 425:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer,
 426:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (StaticTimer_t *)timer_def->controlblock);  
 427:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 428:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xTimerCreate((const char *)"",
 429:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       1, // period should be filled when starting the Timer using osTimerStart
 430:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (type == osTimerPeriodic) ? pdTRUE : pdFALSE,
 431:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (void *) argument,
 432:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****                       (TaskFunction_t)timer_def->ptimer);
 433:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 434:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 435:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 436:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return NULL;
 723              		.loc 1 436 0
 724 000e 0023     		movs	r3, #0
 437:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 438:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 725              		.loc 1 438 0
 726 0010 1846     		mov	r0, r3
 727 0012 1437     		adds	r7, r7, #20
 728              	.LCFI60:
 729              		.cfi_def_cfa_offset 4
 730 0014 BD46     		mov	sp, r7
 731              	.LCFI61:
 732              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccMNayS3.s 			page 23


 733              		@ sp needed
 734 0016 5DF8047B 		ldr	r7, [sp], #4
 735              	.LCFI62:
 736              		.cfi_restore 7
 737              		.cfi_def_cfa_offset 0
 738 001a 7047     		bx	lr
 739              		.cfi_endproc
 740              	.LFE43:
 742              		.section	.text.osTimerStart,"ax",%progbits
 743              		.align	1
 744              		.global	osTimerStart
 745              		.syntax unified
 746              		.thumb
 747              		.thumb_func
 748              		.fpu fpv4-sp-d16
 750              	osTimerStart:
 751              	.LFB44:
 439:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 440:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 441:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Start or restart a timer.
 442:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate.
 443:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      time delay value of the timer.
 444:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function
 445:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerStart shall be consistent in every CMSIS-RTOS.
 446:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 447:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerStart (osTimerId timer_id, uint32_t millisec)
 448:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 752              		.loc 1 448 0
 753              		.cfi_startproc
 754              		@ args = 0, pretend = 0, frame = 16
 755              		@ frame_needed = 1, uses_anonymous_args = 0
 756              		@ link register save eliminated.
 757 0000 80B4     		push	{r7}
 758              	.LCFI63:
 759              		.cfi_def_cfa_offset 4
 760              		.cfi_offset 7, -4
 761 0002 85B0     		sub	sp, sp, #20
 762              	.LCFI64:
 763              		.cfi_def_cfa_offset 24
 764 0004 00AF     		add	r7, sp, #0
 765              	.LCFI65:
 766              		.cfi_def_cfa_register 7
 767 0006 7860     		str	r0, [r7, #4]
 768 0008 3960     		str	r1, [r7]
 449:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 769              		.loc 1 449 0
 770 000a 0023     		movs	r3, #0
 771 000c FB60     		str	r3, [r7, #12]
 450:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)  
 451:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 452:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = millisec / portTICK_PERIOD_MS;
 453:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 454:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (ticks == 0)
 455:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = 1;
 456:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 457:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) 
 458:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
ARM GAS  /tmp/ccMNayS3.s 			page 24


 459:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerChangePeriodFromISR(timer_id, ticks, &taskWoken) != pdPASS)
 460:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 461:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 462:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 463:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else
 464:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 465:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       portEND_SWITCHING_ISR(taskWoken);     
 466:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 467:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 468:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else 
 469:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 470:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerChangePeriod(timer_id, ticks, 0) != pdPASS)
 471:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 472:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 473:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 474:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 475:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 772              		.loc 1 475 0
 773 000e FF23     		movs	r3, #255
 774 0010 FB60     		str	r3, [r7, #12]
 476:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 477:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 775              		.loc 1 477 0
 776 0012 FB68     		ldr	r3, [r7, #12]
 478:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 777              		.loc 1 478 0
 778 0014 1846     		mov	r0, r3
 779 0016 1437     		adds	r7, r7, #20
 780              	.LCFI66:
 781              		.cfi_def_cfa_offset 4
 782 0018 BD46     		mov	sp, r7
 783              	.LCFI67:
 784              		.cfi_def_cfa_register 13
 785              		@ sp needed
 786 001a 5DF8047B 		ldr	r7, [sp], #4
 787              	.LCFI68:
 788              		.cfi_restore 7
 789              		.cfi_def_cfa_offset 0
 790 001e 7047     		bx	lr
 791              		.cfi_endproc
 792              	.LFE44:
 794              		.section	.text.osTimerStop,"ax",%progbits
 795              		.align	1
 796              		.global	osTimerStop
 797              		.syntax unified
 798              		.thumb
 799              		.thumb_func
 800              		.fpu fpv4-sp-d16
 802              	osTimerStop:
 803              	.LFB45:
 479:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 480:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 481:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Stop a timer.
 482:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate
 483:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 484:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerStop shall be consistent in every CMSIS-RTOS.
 485:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
ARM GAS  /tmp/ccMNayS3.s 			page 25


 486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerStop (osTimerId timer_id)
 487:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 804              		.loc 1 487 0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 16
 807              		@ frame_needed = 1, uses_anonymous_args = 0
 808              		@ link register save eliminated.
 809 0000 80B4     		push	{r7}
 810              	.LCFI69:
 811              		.cfi_def_cfa_offset 4
 812              		.cfi_offset 7, -4
 813 0002 85B0     		sub	sp, sp, #20
 814              	.LCFI70:
 815              		.cfi_def_cfa_offset 24
 816 0004 00AF     		add	r7, sp, #0
 817              	.LCFI71:
 818              		.cfi_def_cfa_register 7
 819 0006 7860     		str	r0, [r7, #4]
 488:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 820              		.loc 1 488 0
 821 0008 0023     		movs	r3, #0
 822 000a FB60     		str	r3, [r7, #12]
 489:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)  
 490:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 491:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 492:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 493:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerStopFromISR(timer_id, &taskWoken) != pdPASS) {
 494:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 495:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 496:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 497:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 498:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 499:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTimerStop(timer_id, 0) != pdPASS) {
 500:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 501:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 502:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 503:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 504:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
 823              		.loc 1 504 0
 824 000c FF23     		movs	r3, #255
 825 000e FB60     		str	r3, [r7, #12]
 505:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif 
 506:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 826              		.loc 1 506 0
 827 0010 FB68     		ldr	r3, [r7, #12]
 507:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 828              		.loc 1 507 0
 829 0012 1846     		mov	r0, r3
 830 0014 1437     		adds	r7, r7, #20
 831              	.LCFI72:
 832              		.cfi_def_cfa_offset 4
 833 0016 BD46     		mov	sp, r7
 834              	.LCFI73:
 835              		.cfi_def_cfa_register 13
 836              		@ sp needed
 837 0018 5DF8047B 		ldr	r7, [sp], #4
 838              	.LCFI74:
ARM GAS  /tmp/ccMNayS3.s 			page 26


 839              		.cfi_restore 7
 840              		.cfi_def_cfa_offset 0
 841 001c 7047     		bx	lr
 842              		.cfi_endproc
 843              	.LFE45:
 845              		.section	.text.osTimerDelete,"ax",%progbits
 846              		.align	1
 847              		.global	osTimerDelete
 848              		.syntax unified
 849              		.thumb
 850              		.thumb_func
 851              		.fpu fpv4-sp-d16
 853              	osTimerDelete:
 854              	.LFB46:
 508:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 509:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 510:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Delete a timer.
 511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  timer_id      timer ID obtained by \ref osTimerCreate
 512:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 513:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osTimerDelete shall be consistent in every CMSIS-RTOS.
 514:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 515:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osTimerDelete (osTimerId timer_id)
 516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 855              		.loc 1 516 0
 856              		.cfi_startproc
 857              		@ args = 0, pretend = 0, frame = 16
 858              		@ frame_needed = 1, uses_anonymous_args = 0
 859              		@ link register save eliminated.
 860 0000 80B4     		push	{r7}
 861              	.LCFI75:
 862              		.cfi_def_cfa_offset 4
 863              		.cfi_offset 7, -4
 864 0002 85B0     		sub	sp, sp, #20
 865              	.LCFI76:
 866              		.cfi_def_cfa_offset 24
 867 0004 00AF     		add	r7, sp, #0
 868              	.LCFI77:
 869              		.cfi_def_cfa_register 7
 870 0006 7860     		str	r0, [r7, #4]
 517:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus result = osOK;
 871              		.loc 1 517 0
 872 0008 0023     		movs	r3, #0
 873 000a FB60     		str	r3, [r7, #12]
 518:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 519:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_TIMERS == 1)
 520:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 521:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****    if (inHandlerMode()) {
 522:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      return osErrorISR;
 523:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 524:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else { 
 525:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if ((xTimerDelete(timer_id, osWaitForever )) != pdPASS) {
 526:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 527:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 528:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
 529:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 530:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
 531:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   result = osErrorOS;
ARM GAS  /tmp/ccMNayS3.s 			page 27


 874              		.loc 1 531 0
 875 000c FF23     		movs	r3, #255
 876 000e FB60     		str	r3, [r7, #12]
 532:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif 
 533:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 534:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 877              		.loc 1 534 0
 878 0010 FB68     		ldr	r3, [r7, #12]
 535:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 879              		.loc 1 535 0
 880 0012 1846     		mov	r0, r3
 881 0014 1437     		adds	r7, r7, #20
 882              	.LCFI78:
 883              		.cfi_def_cfa_offset 4
 884 0016 BD46     		mov	sp, r7
 885              	.LCFI79:
 886              		.cfi_def_cfa_register 13
 887              		@ sp needed
 888 0018 5DF8047B 		ldr	r7, [sp], #4
 889              	.LCFI80:
 890              		.cfi_restore 7
 891              		.cfi_def_cfa_offset 0
 892 001c 7047     		bx	lr
 893              		.cfi_endproc
 894              	.LFE46:
 896              		.section	.text.osSignalSet,"ax",%progbits
 897              		.align	1
 898              		.global	osSignalSet
 899              		.syntax unified
 900              		.thumb
 901              		.thumb_func
 902              		.fpu fpv4-sp-d16
 904              	osSignalSet:
 905              	.LFB47:
 536:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 537:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /***************************  Signal Management ********************************/
 538:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 539:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Set the specified Signal Flags of an active thread.
 540:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id     thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 541:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals       specifies the signal flags of the thread that should be set.
 542:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval previous signal flags of the specified thread or 0x80000000 in case of incorrect paramete
 543:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalSet shall be consistent in every CMSIS-RTOS.
 544:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 545:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSignalSet (osThreadId thread_id, int32_t signal)
 546:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 906              		.loc 1 546 0
 907              		.cfi_startproc
 908              		@ args = 0, pretend = 0, frame = 16
 909              		@ frame_needed = 1, uses_anonymous_args = 0
 910 0000 80B5     		push	{r7, lr}
 911              	.LCFI81:
 912              		.cfi_def_cfa_offset 8
 913              		.cfi_offset 7, -8
 914              		.cfi_offset 14, -4
 915 0002 86B0     		sub	sp, sp, #24
 916              	.LCFI82:
 917              		.cfi_def_cfa_offset 32
ARM GAS  /tmp/ccMNayS3.s 			page 28


 918 0004 02AF     		add	r7, sp, #8
 919              	.LCFI83:
 920              		.cfi_def_cfa 7, 24
 921 0006 7860     		str	r0, [r7, #4]
 922 0008 3960     		str	r1, [r7]
 547:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )	
 548:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   BaseType_t xHigherPriorityTaskWoken = pdFALSE;
 923              		.loc 1 548 0
 924 000a 0023     		movs	r3, #0
 925 000c FB60     		str	r3, [r7, #12]
 549:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t ulPreviousNotificationValue = 0;
 926              		.loc 1 549 0
 927 000e 0023     		movs	r3, #0
 928 0010 BB60     		str	r3, [r7, #8]
 550:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 551:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 929              		.loc 1 551 0
 930 0012 FFF7FEFF 		bl	inHandlerMode
 931 0016 0346     		mov	r3, r0
 932 0018 002B     		cmp	r3, #0
 933 001a 1CD0     		beq	.L48
 552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 553:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if(xTaskGenericNotifyFromISR( thread_id , (uint32_t)signal, eSetBits, &ulPreviousNotificationVa
 934              		.loc 1 553 0
 935 001c 3968     		ldr	r1, [r7]
 936 001e 07F10802 		add	r2, r7, #8
 937 0022 07F10C03 		add	r3, r7, #12
 938 0026 0093     		str	r3, [sp]
 939 0028 1346     		mov	r3, r2
 940 002a 0122     		movs	r2, #1
 941 002c 7868     		ldr	r0, [r7, #4]
 942 002e FFF7FEFF 		bl	xTaskGenericNotifyFromISR
 943 0032 0346     		mov	r3, r0
 944 0034 012B     		cmp	r3, #1
 945 0036 02D0     		beq	.L49
 554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return 0x80000000;
 946              		.loc 1 554 0
 947 0038 4FF00043 		mov	r3, #-2147483648
 948 003c 19E0     		b	.L53
 949              	.L49:
 555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 556:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portYIELD_FROM_ISR( xHigherPriorityTaskWoken );
 950              		.loc 1 556 0
 951 003e FB68     		ldr	r3, [r7, #12]
 952 0040 002B     		cmp	r3, #0
 953 0042 15D0     		beq	.L52
 954              		.loc 1 556 0 is_stmt 0 discriminator 1
 955 0044 0D4B     		ldr	r3, .L54
 956 0046 4FF08052 		mov	r2, #268435456
 957 004a 1A60     		str	r2, [r3]
 958              		.syntax unified
 959              	@ 556 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 960 004c BFF34F8F 		dsb
 961              	@ 0 "" 2
 962              	@ 556 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 963 0050 BFF36F8F 		isb
 964              	@ 0 "" 2
ARM GAS  /tmp/ccMNayS3.s 			page 29


 965              		.thumb
 966              		.syntax unified
 967 0054 0CE0     		b	.L52
 968              	.L48:
 557:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 558:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if(xTaskGenericNotify( thread_id , (uint32_t)signal, eSetBits, &ulPreviousNotificationValue)
 969              		.loc 1 558 0 is_stmt 1
 970 0056 3968     		ldr	r1, [r7]
 971 0058 07F10803 		add	r3, r7, #8
 972 005c 0122     		movs	r2, #1
 973 005e 7868     		ldr	r0, [r7, #4]
 974 0060 FFF7FEFF 		bl	xTaskGenericNotify
 975 0064 0346     		mov	r3, r0
 976 0066 012B     		cmp	r3, #1
 977 0068 02D0     		beq	.L52
 559:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return 0x80000000;
 978              		.loc 1 559 0
 979 006a 4FF00043 		mov	r3, #-2147483648
 980 006e 00E0     		b	.L53
 981              	.L52:
 560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 561:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return ulPreviousNotificationValue;
 982              		.loc 1 561 0
 983 0070 BB68     		ldr	r3, [r7, #8]
 984              	.L53:
 562:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
 564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) signal;
 565:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 566:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return 0x80000000; /* Task Notification not supported */ 	
 567:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 568:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 985              		.loc 1 568 0 discriminator 1
 986 0072 1846     		mov	r0, r3
 987 0074 1037     		adds	r7, r7, #16
 988              	.LCFI84:
 989              		.cfi_def_cfa_offset 8
 990 0076 BD46     		mov	sp, r7
 991              	.LCFI85:
 992              		.cfi_def_cfa_register 13
 993              		@ sp needed
 994 0078 80BD     		pop	{r7, pc}
 995              	.L55:
 996 007a 00BF     		.align	2
 997              	.L54:
 998 007c 04ED00E0 		.word	-536810236
 999              		.cfi_endproc
 1000              	.LFE47:
 1002              		.section	.text.osSignalWait,"ax",%progbits
 1003              		.align	1
 1004              		.global	osSignalWait
 1005              		.syntax unified
 1006              		.thumb
 1007              		.thumb_func
 1008              		.fpu fpv4-sp-d16
 1010              	osSignalWait:
 1011              	.LFB48:
ARM GAS  /tmp/ccMNayS3.s 			page 30


 569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 570:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Clear the specified Signal Flags of an active thread.
 572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id  thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
 573:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals    specifies the signal flags of the thread that shall be cleared.
 574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  previous signal flags of the specified thread or 0x80000000 in case of incorrect paramet
 575:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalClear shall be consistent in every CMSIS-RTOS.
 576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 577:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSignalClear (osThreadId thread_id, int32_t signal);
 578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 579:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 580:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Wait for one or more Signal Flags to become signaled for the current \b RUNNING thread.
 581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  signals   wait until all specified signal flags set or 0 for any single signal flag.
 582:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
 583:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  event flag information or error code.
 584:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSignalWait shall be consistent in every CMSIS-RTOS.
 585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 586:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osSignalWait (int32_t signals, uint32_t millisec)
 587:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1012              		.loc 1 587 0
 1013              		.cfi_startproc
 1014              		@ args = 0, pretend = 0, frame = 32
 1015              		@ frame_needed = 1, uses_anonymous_args = 0
 1016 0000 90B5     		push	{r4, r7, lr}
 1017              	.LCFI86:
 1018              		.cfi_def_cfa_offset 12
 1019              		.cfi_offset 4, -12
 1020              		.cfi_offset 7, -8
 1021              		.cfi_offset 14, -4
 1022 0002 89B0     		sub	sp, sp, #36
 1023              	.LCFI87:
 1024              		.cfi_def_cfa_offset 48
 1025 0004 00AF     		add	r7, sp, #0
 1026              	.LCFI88:
 1027              		.cfi_def_cfa_register 7
 1028 0006 F860     		str	r0, [r7, #12]
 1029 0008 B960     		str	r1, [r7, #8]
 1030 000a 7A60     		str	r2, [r7, #4]
 588:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent ret;
 589:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 590:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
 591:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	
 592:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 593:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 594:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ret.value.signals = 0;  
 1031              		.loc 1 594 0
 1032 000c 0023     		movs	r3, #0
 1033 000e 7B61     		str	r3, [r7, #20]
 595:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 1034              		.loc 1 595 0
 1035 0010 0023     		movs	r3, #0
 1036 0012 FB61     		str	r3, [r7, #28]
 596:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1037              		.loc 1 596 0
 1038 0014 7B68     		ldr	r3, [r7, #4]
 1039 0016 B3F1FF3F 		cmp	r3, #-1
 1040 001a 03D1     		bne	.L57
ARM GAS  /tmp/ccMNayS3.s 			page 31


 597:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 1041              		.loc 1 597 0
 1042 001c 4FF0FF33 		mov	r3, #-1
 1043 0020 FB61     		str	r3, [r7, #28]
 1044 0022 09E0     		b	.L58
 1045              	.L57:
 598:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1046              		.loc 1 599 0
 1047 0024 7B68     		ldr	r3, [r7, #4]
 1048 0026 002B     		cmp	r3, #0
 1049 0028 06D0     		beq	.L58
 600:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 1050              		.loc 1 600 0
 1051 002a 7B68     		ldr	r3, [r7, #4]
 1052 002c FB61     		str	r3, [r7, #28]
 601:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 1053              		.loc 1 601 0
 1054 002e FB69     		ldr	r3, [r7, #28]
 1055 0030 002B     		cmp	r3, #0
 1056 0032 01D1     		bne	.L58
 602:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 1057              		.loc 1 602 0
 1058 0034 0123     		movs	r3, #1
 1059 0036 FB61     		str	r3, [r7, #28]
 1060              	.L58:
 603:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 604:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 605:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 606:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode())
 1061              		.loc 1 606 0
 1062 0038 FFF7FEFF 		bl	inHandlerMode
 1063 003c 0346     		mov	r3, r0
 1064 003e 002B     		cmp	r3, #0
 1065 0040 02D0     		beq	.L59
 607:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 608:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ret.status = osErrorISR;  /*Not allowed in ISR*/
 1066              		.loc 1 608 0
 1067 0042 8223     		movs	r3, #130
 1068 0044 3B61     		str	r3, [r7, #16]
 1069 0046 1BE0     		b	.L60
 1070              	.L59:
 609:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 610:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 611:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 612:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if(xTaskNotifyWait( 0,(uint32_t) signals, (uint32_t *)&ret.value.signals, ticks) != pdTRUE)
 1071              		.loc 1 612 0
 1072 0048 B968     		ldr	r1, [r7, #8]
 1073 004a 07F11003 		add	r3, r7, #16
 1074 004e 1A1D     		adds	r2, r3, #4
 1075 0050 FB69     		ldr	r3, [r7, #28]
 1076 0052 0020     		movs	r0, #0
 1077 0054 FFF7FEFF 		bl	xTaskNotifyWait
 1078 0058 0346     		mov	r3, r0
 1079 005a 012B     		cmp	r3, #1
 1080 005c 08D0     		beq	.L61
 613:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
ARM GAS  /tmp/ccMNayS3.s 			page 32


 614:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       if(ticks == 0)  ret.status = osOK;
 1081              		.loc 1 614 0
 1082 005e FB69     		ldr	r3, [r7, #28]
 1083 0060 002B     		cmp	r3, #0
 1084 0062 02D1     		bne	.L62
 1085              		.loc 1 614 0 is_stmt 0 discriminator 1
 1086 0064 0023     		movs	r3, #0
 1087 0066 3B61     		str	r3, [r7, #16]
 1088 0068 0AE0     		b	.L60
 1089              	.L62:
 615:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else  ret.status = osEventTimeout;
 1090              		.loc 1 615 0 is_stmt 1
 1091 006a 4023     		movs	r3, #64
 1092 006c 3B61     		str	r3, [r7, #16]
 1093 006e 07E0     		b	.L60
 1094              	.L61:
 616:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 617:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else if(ret.value.signals < 0)
 1095              		.loc 1 617 0
 1096 0070 7B69     		ldr	r3, [r7, #20]
 1097 0072 002B     		cmp	r3, #0
 1098 0074 02DA     		bge	.L64
 618:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
 619:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ret.status =  osErrorValue;     
 1099              		.loc 1 619 0
 1100 0076 8623     		movs	r3, #134
 1101 0078 3B61     		str	r3, [r7, #16]
 1102 007a 01E0     		b	.L60
 1103              	.L64:
 620:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 621:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else  ret.status =  osEventSignal;
 1104              		.loc 1 621 0
 1105 007c 0823     		movs	r3, #8
 1106 007e 3B61     		str	r3, [r7, #16]
 1107              	.L60:
 622:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 623:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 624:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) signals;
 625:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
 626:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	
 627:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ret.status =  osErrorOS;	/* Task Notification not supported */
 628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 629:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return ret;
 1108              		.loc 1 630 0
 1109 0080 FB68     		ldr	r3, [r7, #12]
 1110 0082 1C46     		mov	r4, r3
 1111 0084 07F11003 		add	r3, r7, #16
 1112 0088 93E80700 		ldm	r3, {r0, r1, r2}
 1113 008c 84E80700 		stm	r4, {r0, r1, r2}
 631:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1114              		.loc 1 631 0
 1115 0090 F868     		ldr	r0, [r7, #12]
 1116 0092 2437     		adds	r7, r7, #36
 1117              	.LCFI89:
 1118              		.cfi_def_cfa_offset 12
 1119 0094 BD46     		mov	sp, r7
ARM GAS  /tmp/ccMNayS3.s 			page 33


 1120              	.LCFI90:
 1121              		.cfi_def_cfa_register 13
 1122              		@ sp needed
 1123 0096 90BD     		pop	{r4, r7, pc}
 1124              		.cfi_endproc
 1125              	.LFE48:
 1127              		.section	.text.osMutexCreate,"ax",%progbits
 1128              		.align	1
 1129              		.global	osMutexCreate
 1130              		.syntax unified
 1131              		.thumb
 1132              		.thumb_func
 1133              		.fpu fpv4-sp-d16
 1135              	osMutexCreate:
 1136              	.LFB49:
 632:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /****************************  Mutex Management ********************************/
 634:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 635:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create and Initialize a Mutex object
 636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mutex_def     mutex definition referenced with \ref osMutex.
 637:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  mutex ID for reference by other functions or NULL in case of error.
 638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexCreate shall be consistent in every CMSIS-RTOS.
 639:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 640:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMutexId osMutexCreate (const osMutexDef_t *mutex_def)
 641:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1137              		.loc 1 641 0
 1138              		.cfi_startproc
 1139              		@ args = 0, pretend = 0, frame = 8
 1140              		@ frame_needed = 1, uses_anonymous_args = 0
 1141              		@ link register save eliminated.
 1142 0000 80B4     		push	{r7}
 1143              	.LCFI91:
 1144              		.cfi_def_cfa_offset 4
 1145              		.cfi_offset 7, -4
 1146 0002 83B0     		sub	sp, sp, #12
 1147              	.LCFI92:
 1148              		.cfi_def_cfa_offset 16
 1149 0004 00AF     		add	r7, sp, #0
 1150              	.LCFI93:
 1151              		.cfi_def_cfa_register 7
 1152 0006 7860     		str	r0, [r7, #4]
 642:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( configUSE_MUTEXES == 1)
 643:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 644:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 645:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 646:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_def->controlblock != NULL) {
 647:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutexStatic( mutex_def->controlblock );
 648:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      }
 649:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 650:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutex(); 
 651:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 652:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
 653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateMutexStatic( mutex_def->controlblock );
 654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  
 655:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateMutex(); 
 656:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
ARM GAS  /tmp/ccMNayS3.s 			page 34


 658:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 1153              		.loc 1 658 0
 1154 0008 0023     		movs	r3, #0
 659:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 660:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1155              		.loc 1 660 0
 1156 000a 1846     		mov	r0, r3
 1157 000c 0C37     		adds	r7, r7, #12
 1158              	.LCFI94:
 1159              		.cfi_def_cfa_offset 4
 1160 000e BD46     		mov	sp, r7
 1161              	.LCFI95:
 1162              		.cfi_def_cfa_register 13
 1163              		@ sp needed
 1164 0010 5DF8047B 		ldr	r7, [sp], #4
 1165              	.LCFI96:
 1166              		.cfi_restore 7
 1167              		.cfi_def_cfa_offset 0
 1168 0014 7047     		bx	lr
 1169              		.cfi_endproc
 1170              	.LFE49:
 1172              		.section	.text.osMutexWait,"ax",%progbits
 1173              		.align	1
 1174              		.global	osMutexWait
 1175              		.syntax unified
 1176              		.thumb
 1177              		.thumb_func
 1178              		.fpu fpv4-sp-d16
 1180              	osMutexWait:
 1181              	.LFB50:
 661:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 662:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 663:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Wait until a Mutex becomes available
 664:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id      mutex ID obtained by \ref osMutexCreate.
 665:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec      timeout value or 0 in case of no time-out.
 666:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 667:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexWait shall be consistent in every CMSIS-RTOS.
 668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 669:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexWait (osMutexId mutex_id, uint32_t millisec)
 670:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1182              		.loc 1 670 0
 1183              		.cfi_startproc
 1184              		@ args = 0, pretend = 0, frame = 16
 1185              		@ frame_needed = 1, uses_anonymous_args = 0
 1186 0000 80B5     		push	{r7, lr}
 1187              	.LCFI97:
 1188              		.cfi_def_cfa_offset 8
 1189              		.cfi_offset 7, -8
 1190              		.cfi_offset 14, -4
 1191 0002 84B0     		sub	sp, sp, #16
 1192              	.LCFI98:
 1193              		.cfi_def_cfa_offset 24
 1194 0004 00AF     		add	r7, sp, #0
 1195              	.LCFI99:
 1196              		.cfi_def_cfa_register 7
 1197 0006 7860     		str	r0, [r7, #4]
 1198 0008 3960     		str	r1, [r7]
ARM GAS  /tmp/ccMNayS3.s 			page 35


 671:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;  
 1199              		.loc 1 672 0
 1200 000a 0023     		movs	r3, #0
 1201 000c BB60     		str	r3, [r7, #8]
 673:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 674:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_id == NULL) {
 1202              		.loc 1 675 0
 1203 000e 7B68     		ldr	r3, [r7, #4]
 1204 0010 002B     		cmp	r3, #0
 1205 0012 01D1     		bne	.L69
 676:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 1206              		.loc 1 676 0
 1207 0014 8023     		movs	r3, #128
 1208 0016 3CE0     		b	.L77
 1209              	.L69:
 677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 678:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 1210              		.loc 1 679 0
 1211 0018 0023     		movs	r3, #0
 1212 001a FB60     		str	r3, [r7, #12]
 680:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1213              		.loc 1 680 0
 1214 001c 3B68     		ldr	r3, [r7]
 1215 001e B3F1FF3F 		cmp	r3, #-1
 1216 0022 03D1     		bne	.L71
 681:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 1217              		.loc 1 681 0
 1218 0024 4FF0FF33 		mov	r3, #-1
 1219 0028 FB60     		str	r3, [r7, #12]
 1220 002a 09E0     		b	.L72
 1221              	.L71:
 682:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 683:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1222              		.loc 1 683 0
 1223 002c 3B68     		ldr	r3, [r7]
 1224 002e 002B     		cmp	r3, #0
 1225 0030 06D0     		beq	.L72
 684:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 1226              		.loc 1 684 0
 1227 0032 3B68     		ldr	r3, [r7]
 1228 0034 FB60     		str	r3, [r7, #12]
 685:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 1229              		.loc 1 685 0
 1230 0036 FB68     		ldr	r3, [r7, #12]
 1231 0038 002B     		cmp	r3, #0
 1232 003a 01D1     		bne	.L72
 686:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 1233              		.loc 1 686 0
 1234 003c 0123     		movs	r3, #1
 1235 003e FB60     		str	r3, [r7, #12]
 1236              	.L72:
 687:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 688:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 689:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/ccMNayS3.s 			page 36


 690:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1237              		.loc 1 690 0
 1238 0040 FFF7FEFF 		bl	inHandlerMode
 1239 0044 0346     		mov	r3, r0
 1240 0046 002B     		cmp	r3, #0
 1241 0048 17D0     		beq	.L73
 691:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreTakeFromISR(mutex_id, &taskWoken) != pdTRUE) {
 1242              		.loc 1 691 0
 1243 004a 07F10803 		add	r3, r7, #8
 1244 004e 1A46     		mov	r2, r3
 1245 0050 0021     		movs	r1, #0
 1246 0052 7868     		ldr	r0, [r7, #4]
 1247 0054 FFF7FEFF 		bl	xQueueReceiveFromISR
 1248 0058 0346     		mov	r3, r0
 1249 005a 012B     		cmp	r3, #1
 1250 005c 01D0     		beq	.L74
 692:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1251              		.loc 1 692 0
 1252 005e FF23     		movs	r3, #255
 1253 0060 17E0     		b	.L77
 1254              	.L74:
 693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 694:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	portEND_SWITCHING_ISR(taskWoken);
 1255              		.loc 1 694 0
 1256 0062 BB68     		ldr	r3, [r7, #8]
 1257 0064 002B     		cmp	r3, #0
 1258 0066 13D0     		beq	.L76
 1259              		.loc 1 694 0 is_stmt 0 discriminator 1
 1260 0068 0C4B     		ldr	r3, .L78
 1261 006a 4FF08052 		mov	r2, #268435456
 1262 006e 1A60     		str	r2, [r3]
 1263              		.syntax unified
 1264              	@ 694 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1265 0070 BFF34F8F 		dsb
 1266              	@ 0 "" 2
 1267              	@ 694 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1268 0074 BFF36F8F 		isb
 1269              	@ 0 "" 2
 1270              		.thumb
 1271              		.syntax unified
 1272 0078 0AE0     		b	.L76
 1273              	.L73:
 695:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
 696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreTake(mutex_id, ticks) != pdTRUE) {
 1274              		.loc 1 696 0 is_stmt 1
 1275 007a 0023     		movs	r3, #0
 1276 007c FA68     		ldr	r2, [r7, #12]
 1277 007e 0021     		movs	r1, #0
 1278 0080 7868     		ldr	r0, [r7, #4]
 1279 0082 FFF7FEFF 		bl	xQueueGenericReceive
 1280 0086 0346     		mov	r3, r0
 1281 0088 012B     		cmp	r3, #1
 1282 008a 01D0     		beq	.L76
 697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 1283              		.loc 1 697 0
 1284 008c FF23     		movs	r3, #255
 1285 008e 00E0     		b	.L77
ARM GAS  /tmp/ccMNayS3.s 			page 37


 1286              	.L76:
 698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 699:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 700:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1287              		.loc 1 700 0
 1288 0090 0023     		movs	r3, #0
 1289              	.L77:
 701:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1290              		.loc 1 701 0 discriminator 1
 1291 0092 1846     		mov	r0, r3
 1292 0094 1037     		adds	r7, r7, #16
 1293              	.LCFI100:
 1294              		.cfi_def_cfa_offset 8
 1295 0096 BD46     		mov	sp, r7
 1296              	.LCFI101:
 1297              		.cfi_def_cfa_register 13
 1298              		@ sp needed
 1299 0098 80BD     		pop	{r7, pc}
 1300              	.L79:
 1301 009a 00BF     		.align	2
 1302              	.L78:
 1303 009c 04ED00E0 		.word	-536810236
 1304              		.cfi_endproc
 1305              	.LFE50:
 1307              		.section	.text.osMutexRelease,"ax",%progbits
 1308              		.align	1
 1309              		.global	osMutexRelease
 1310              		.syntax unified
 1311              		.thumb
 1312              		.thumb_func
 1313              		.fpu fpv4-sp-d16
 1315              	osMutexRelease:
 1316              	.LFB51:
 702:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 703:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 704:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Release a Mutex that was obtained by \ref osMutexWait
 705:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id      mutex ID obtained by \ref osMutexCreate.
 706:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 707:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexRelease shall be consistent in every CMSIS-RTOS.
 708:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 709:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexRelease (osMutexId mutex_id)
 710:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1317              		.loc 1 710 0
 1318              		.cfi_startproc
 1319              		@ args = 0, pretend = 0, frame = 16
 1320              		@ frame_needed = 1, uses_anonymous_args = 0
 1321 0000 80B5     		push	{r7, lr}
 1322              	.LCFI102:
 1323              		.cfi_def_cfa_offset 8
 1324              		.cfi_offset 7, -8
 1325              		.cfi_offset 14, -4
 1326 0002 84B0     		sub	sp, sp, #16
 1327              	.LCFI103:
 1328              		.cfi_def_cfa_offset 24
 1329 0004 00AF     		add	r7, sp, #0
 1330              	.LCFI104:
 1331              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccMNayS3.s 			page 38


 1332 0006 7860     		str	r0, [r7, #4]
 711:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 1333              		.loc 1 711 0
 1334 0008 0023     		movs	r3, #0
 1335 000a FB60     		str	r3, [r7, #12]
 712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1336              		.loc 1 712 0
 1337 000c 0023     		movs	r3, #0
 1338 000e BB60     		str	r3, [r7, #8]
 713:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 714:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1339              		.loc 1 714 0
 1340 0010 FFF7FEFF 		bl	inHandlerMode
 1341 0014 0346     		mov	r3, r0
 1342 0016 002B     		cmp	r3, #0
 1343 0018 16D0     		beq	.L81
 715:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGiveFromISR(mutex_id, &taskWoken) != pdTRUE) {
 1344              		.loc 1 715 0
 1345 001a 07F10803 		add	r3, r7, #8
 1346 001e 1946     		mov	r1, r3
 1347 0020 7868     		ldr	r0, [r7, #4]
 1348 0022 FFF7FEFF 		bl	xQueueGiveFromISR
 1349 0026 0346     		mov	r3, r0
 1350 0028 012B     		cmp	r3, #1
 1351 002a 01D0     		beq	.L82
 716:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1352              		.loc 1 716 0
 1353 002c FF23     		movs	r3, #255
 1354 002e 17E0     		b	.L86
 1355              	.L82:
 717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 718:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 1356              		.loc 1 718 0
 1357 0030 BB68     		ldr	r3, [r7, #8]
 1358 0032 002B     		cmp	r3, #0
 1359 0034 13D0     		beq	.L85
 1360              		.loc 1 718 0 is_stmt 0 discriminator 1
 1361 0036 0C4B     		ldr	r3, .L87
 1362 0038 4FF08052 		mov	r2, #268435456
 1363 003c 1A60     		str	r2, [r3]
 1364              		.syntax unified
 1365              	@ 718 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1366 003e BFF34F8F 		dsb
 1367              	@ 0 "" 2
 1368              	@ 718 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1369 0042 BFF36F8F 		isb
 1370              	@ 0 "" 2
 1371              		.thumb
 1372              		.syntax unified
 1373 0046 0AE0     		b	.L85
 1374              	.L81:
 719:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 720:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreGive(mutex_id) != pdTRUE) 
 1375              		.loc 1 720 0 is_stmt 1
 1376 0048 0023     		movs	r3, #0
 1377 004a 0022     		movs	r2, #0
 1378 004c 0021     		movs	r1, #0
ARM GAS  /tmp/ccMNayS3.s 			page 39


 1379 004e 7868     		ldr	r0, [r7, #4]
 1380 0050 FFF7FEFF 		bl	xQueueGenericSend
 1381 0054 0346     		mov	r3, r0
 1382 0056 012B     		cmp	r3, #1
 1383 0058 01D0     		beq	.L85
 721:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 722:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osErrorOS;
 1384              		.loc 1 722 0
 1385 005a FF23     		movs	r3, #255
 1386 005c FB60     		str	r3, [r7, #12]
 1387              	.L85:
 723:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 724:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 1388              		.loc 1 724 0
 1389 005e FB68     		ldr	r3, [r7, #12]
 1390              	.L86:
 725:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1391              		.loc 1 725 0 discriminator 1
 1392 0060 1846     		mov	r0, r3
 1393 0062 1037     		adds	r7, r7, #16
 1394              	.LCFI105:
 1395              		.cfi_def_cfa_offset 8
 1396 0064 BD46     		mov	sp, r7
 1397              	.LCFI106:
 1398              		.cfi_def_cfa_register 13
 1399              		@ sp needed
 1400 0066 80BD     		pop	{r7, pc}
 1401              	.L88:
 1402              		.align	2
 1403              	.L87:
 1404 0068 04ED00E0 		.word	-536810236
 1405              		.cfi_endproc
 1406              	.LFE51:
 1408              		.section	.text.osMutexDelete,"ax",%progbits
 1409              		.align	1
 1410              		.global	osMutexDelete
 1411              		.syntax unified
 1412              		.thumb
 1413              		.thumb_func
 1414              		.fpu fpv4-sp-d16
 1416              	osMutexDelete:
 1417              	.LFB52:
 726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 727:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 728:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Mutex
 729:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param mutex_id  mutex ID obtained by \ref osMutexCreate.
 730:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 731:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMutexDelete shall be consistent in every CMSIS-RTOS.
 732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 733:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMutexDelete (osMutexId mutex_id)
 734:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1418              		.loc 1 734 0
 1419              		.cfi_startproc
 1420              		@ args = 0, pretend = 0, frame = 8
 1421              		@ frame_needed = 1, uses_anonymous_args = 0
 1422 0000 80B5     		push	{r7, lr}
 1423              	.LCFI107:
ARM GAS  /tmp/ccMNayS3.s 			page 40


 1424              		.cfi_def_cfa_offset 8
 1425              		.cfi_offset 7, -8
 1426              		.cfi_offset 14, -4
 1427 0002 82B0     		sub	sp, sp, #8
 1428              	.LCFI108:
 1429              		.cfi_def_cfa_offset 16
 1430 0004 00AF     		add	r7, sp, #0
 1431              	.LCFI109:
 1432              		.cfi_def_cfa_register 7
 1433 0006 7860     		str	r0, [r7, #4]
 735:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1434              		.loc 1 735 0
 1435 0008 FFF7FEFF 		bl	inHandlerMode
 1436 000c 0346     		mov	r3, r0
 1437 000e 002B     		cmp	r3, #0
 1438 0010 01D0     		beq	.L90
 736:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 1439              		.loc 1 736 0
 1440 0012 8223     		movs	r3, #130
 1441 0014 03E0     		b	.L91
 1442              	.L90:
 737:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 738:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 739:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vQueueDelete(mutex_id);
 1443              		.loc 1 739 0
 1444 0016 7868     		ldr	r0, [r7, #4]
 1445 0018 FFF7FEFF 		bl	vQueueDelete
 740:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 741:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1446              		.loc 1 741 0
 1447 001c 0023     		movs	r3, #0
 1448              	.L91:
 742:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1449              		.loc 1 742 0
 1450 001e 1846     		mov	r0, r3
 1451 0020 0837     		adds	r7, r7, #8
 1452              	.LCFI110:
 1453              		.cfi_def_cfa_offset 8
 1454 0022 BD46     		mov	sp, r7
 1455              	.LCFI111:
 1456              		.cfi_def_cfa_register 13
 1457              		@ sp needed
 1458 0024 80BD     		pop	{r7, pc}
 1459              		.cfi_endproc
 1460              	.LFE52:
 1462              		.section	.text.osSemaphoreCreate,"ax",%progbits
 1463              		.align	1
 1464              		.global	osSemaphoreCreate
 1465              		.syntax unified
 1466              		.thumb
 1467              		.thumb_func
 1468              		.fpu fpv4-sp-d16
 1470              	osSemaphoreCreate:
 1471              	.LFB53:
 743:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 744:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /********************  Semaphore Management Functions **************************/
 745:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
ARM GAS  /tmp/ccMNayS3.s 			page 41


 746:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Semaphore)  &&  (osFeature_Semaphore != 0))
 747:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 748:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 749:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a Semaphore object used for managing resources
 750:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param semaphore_def semaphore definition referenced with \ref osSemaphore.
 751:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param count         number of available resources.
 752:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  semaphore ID for reference by other functions or NULL in case of error.
 753:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreCreate shall be consistent in every CMSIS-RTOS.
 754:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 755:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osSemaphoreId osSemaphoreCreate (const osSemaphoreDef_t *semaphore_def, int32_t count)
 756:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** { 
 1472              		.loc 1 756 0
 1473              		.cfi_startproc
 1474              		@ args = 0, pretend = 0, frame = 16
 1475              		@ frame_needed = 1, uses_anonymous_args = 0
 1476 0000 80B5     		push	{r7, lr}
 1477              	.LCFI112:
 1478              		.cfi_def_cfa_offset 8
 1479              		.cfi_offset 7, -8
 1480              		.cfi_offset 14, -4
 1481 0002 84B0     		sub	sp, sp, #16
 1482              	.LCFI113:
 1483              		.cfi_def_cfa_offset 24
 1484 0004 00AF     		add	r7, sp, #0
 1485              	.LCFI114:
 1486              		.cfi_def_cfa_register 7
 1487 0006 7860     		str	r0, [r7, #4]
 1488 0008 3960     		str	r1, [r7]
 757:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 758:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 759:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osSemaphoreId sema;
 760:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 761:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (semaphore_def->controlblock != NULL){
 762:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (count == 1) {
 763:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateBinaryStatic( semaphore_def->controlblock );
 764:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 765:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 766:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )
 767:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCountingStatic( count, count, semaphore_def->controlblock );
 768:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 769:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 770:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 771:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 772:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 773:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 774:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (count == 1) {
 775:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vSemaphoreCreateBinary(sema);
 776:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return sema;
 777:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 778:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 779:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )	
 780:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCounting(count, count);
 781:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 782:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 783:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 784:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 785:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
ARM GAS  /tmp/ccMNayS3.s 			page 42


 786:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 ) // configSUPPORT_DYNAMIC_ALLOCATION == 0
 787:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(count == 1) {
 788:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateBinaryStatic( semaphore_def->controlblock );
 789:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 790:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
 791:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
 792:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )
 793:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return xSemaphoreCreateCountingStatic( count, count, semaphore_def->controlblock );
 794:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 795:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return NULL;
 796:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    
 797:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 798:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  // configSUPPORT_STATIC_ALLOCATION == 0  && configSUPPORT_DYNAMIC_ALLOCATION == 1
 799:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osSemaphoreId sema;
 800:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 801:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (count == 1) {
 1489              		.loc 1 801 0
 1490 000a 3B68     		ldr	r3, [r7]
 1491 000c 012B     		cmp	r3, #1
 1492 000e 10D1     		bne	.L93
 802:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vSemaphoreCreateBinary(sema);
 1493              		.loc 1 802 0
 1494 0010 0322     		movs	r2, #3
 1495 0012 0021     		movs	r1, #0
 1496 0014 0120     		movs	r0, #1
 1497 0016 FFF7FEFF 		bl	xQueueGenericCreate
 1498 001a F860     		str	r0, [r7, #12]
 1499 001c FB68     		ldr	r3, [r7, #12]
 1500 001e 002B     		cmp	r3, #0
 1501 0020 05D0     		beq	.L94
 1502              		.loc 1 802 0 is_stmt 0 discriminator 1
 1503 0022 0023     		movs	r3, #0
 1504 0024 0022     		movs	r2, #0
 1505 0026 0021     		movs	r1, #0
 1506 0028 F868     		ldr	r0, [r7, #12]
 1507 002a FFF7FEFF 		bl	xQueueGenericSend
 1508              	.L94:
 803:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return sema;
 1509              		.loc 1 803 0 is_stmt 1
 1510 002e FB68     		ldr	r3, [r7, #12]
 1511 0030 00E0     		b	.L95
 1512              	.L93:
 804:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 805:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 806:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_COUNTING_SEMAPHORES == 1 )	
 807:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateCounting(count, count);
 808:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 809:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 1513              		.loc 1 809 0
 1514 0032 0023     		movs	r3, #0
 1515              	.L95:
 810:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 811:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 812:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 813:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1516              		.loc 1 813 0
 1517 0034 1846     		mov	r0, r3
ARM GAS  /tmp/ccMNayS3.s 			page 43


 1518 0036 1037     		adds	r7, r7, #16
 1519              	.LCFI115:
 1520              		.cfi_def_cfa_offset 8
 1521 0038 BD46     		mov	sp, r7
 1522              	.LCFI116:
 1523              		.cfi_def_cfa_register 13
 1524              		@ sp needed
 1525 003a 80BD     		pop	{r7, pc}
 1526              		.cfi_endproc
 1527              	.LFE53:
 1529              		.section	.text.osSemaphoreWait,"ax",%progbits
 1530              		.align	1
 1531              		.global	osSemaphoreWait
 1532              		.syntax unified
 1533              		.thumb
 1534              		.thumb_func
 1535              		.fpu fpv4-sp-d16
 1537              	osSemaphoreWait:
 1538              	.LFB54:
 814:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 815:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 816:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Wait until a Semaphore token becomes available
 817:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 818:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
 819:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  number of available tokens, or -1 in case of incorrect parameters.
 820:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreWait shall be consistent in every CMSIS-RTOS.
 821:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 822:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** int32_t osSemaphoreWait (osSemaphoreId semaphore_id, uint32_t millisec)
 823:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1539              		.loc 1 823 0
 1540              		.cfi_startproc
 1541              		@ args = 0, pretend = 0, frame = 16
 1542              		@ frame_needed = 1, uses_anonymous_args = 0
 1543 0000 80B5     		push	{r7, lr}
 1544              	.LCFI117:
 1545              		.cfi_def_cfa_offset 8
 1546              		.cfi_offset 7, -8
 1547              		.cfi_offset 14, -4
 1548 0002 84B0     		sub	sp, sp, #16
 1549              	.LCFI118:
 1550              		.cfi_def_cfa_offset 24
 1551 0004 00AF     		add	r7, sp, #0
 1552              	.LCFI119:
 1553              		.cfi_def_cfa_register 7
 1554 0006 7860     		str	r0, [r7, #4]
 1555 0008 3960     		str	r1, [r7]
 824:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
 825:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;  
 1556              		.loc 1 825 0
 1557 000a 0023     		movs	r3, #0
 1558 000c BB60     		str	r3, [r7, #8]
 826:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 827:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 828:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (semaphore_id == NULL) {
 1559              		.loc 1 828 0
 1560 000e 7B68     		ldr	r3, [r7, #4]
 1561 0010 002B     		cmp	r3, #0
ARM GAS  /tmp/ccMNayS3.s 			page 44


 1562 0012 01D1     		bne	.L97
 829:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 1563              		.loc 1 829 0
 1564 0014 8023     		movs	r3, #128
 1565 0016 3CE0     		b	.L105
 1566              	.L97:
 830:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 831:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 832:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 1567              		.loc 1 832 0
 1568 0018 0023     		movs	r3, #0
 1569 001a FB60     		str	r3, [r7, #12]
 833:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 1570              		.loc 1 833 0
 1571 001c 3B68     		ldr	r3, [r7]
 1572 001e B3F1FF3F 		cmp	r3, #-1
 1573 0022 03D1     		bne	.L99
 834:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 1574              		.loc 1 834 0
 1575 0024 4FF0FF33 		mov	r3, #-1
 1576 0028 FB60     		str	r3, [r7, #12]
 1577 002a 09E0     		b	.L100
 1578              	.L99:
 835:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 836:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 1579              		.loc 1 836 0
 1580 002c 3B68     		ldr	r3, [r7]
 1581 002e 002B     		cmp	r3, #0
 1582 0030 06D0     		beq	.L100
 837:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 1583              		.loc 1 837 0
 1584 0032 3B68     		ldr	r3, [r7]
 1585 0034 FB60     		str	r3, [r7, #12]
 838:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 1586              		.loc 1 838 0
 1587 0036 FB68     		ldr	r3, [r7, #12]
 1588 0038 002B     		cmp	r3, #0
 1589 003a 01D1     		bne	.L100
 839:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 1590              		.loc 1 839 0
 1591 003c 0123     		movs	r3, #1
 1592 003e FB60     		str	r3, [r7, #12]
 1593              	.L100:
 840:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 841:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 842:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 843:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1594              		.loc 1 843 0
 1595 0040 FFF7FEFF 		bl	inHandlerMode
 1596 0044 0346     		mov	r3, r0
 1597 0046 002B     		cmp	r3, #0
 1598 0048 17D0     		beq	.L101
 844:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreTakeFromISR(semaphore_id, &taskWoken) != pdTRUE) {
 1599              		.loc 1 844 0
 1600 004a 07F10803 		add	r3, r7, #8
 1601 004e 1A46     		mov	r2, r3
 1602 0050 0021     		movs	r1, #0
ARM GAS  /tmp/ccMNayS3.s 			page 45


 1603 0052 7868     		ldr	r0, [r7, #4]
 1604 0054 FFF7FEFF 		bl	xQueueReceiveFromISR
 1605 0058 0346     		mov	r3, r0
 1606 005a 012B     		cmp	r3, #1
 1607 005c 01D0     		beq	.L102
 845:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1608              		.loc 1 845 0
 1609 005e FF23     		movs	r3, #255
 1610 0060 17E0     		b	.L105
 1611              	.L102:
 846:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 847:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	portEND_SWITCHING_ISR(taskWoken);
 1612              		.loc 1 847 0
 1613 0062 BB68     		ldr	r3, [r7, #8]
 1614 0064 002B     		cmp	r3, #0
 1615 0066 13D0     		beq	.L104
 1616              		.loc 1 847 0 is_stmt 0 discriminator 1
 1617 0068 0C4B     		ldr	r3, .L106
 1618 006a 4FF08052 		mov	r2, #268435456
 1619 006e 1A60     		str	r2, [r3]
 1620              		.syntax unified
 1621              	@ 847 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1622 0070 BFF34F8F 		dsb
 1623              	@ 0 "" 2
 1624              	@ 847 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1625 0074 BFF36F8F 		isb
 1626              	@ 0 "" 2
 1627              		.thumb
 1628              		.syntax unified
 1629 0078 0AE0     		b	.L104
 1630              	.L101:
 848:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }  
 849:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (xSemaphoreTake(semaphore_id, ticks) != pdTRUE) {
 1631              		.loc 1 849 0 is_stmt 1
 1632 007a 0023     		movs	r3, #0
 1633 007c FA68     		ldr	r2, [r7, #12]
 1634 007e 0021     		movs	r1, #0
 1635 0080 7868     		ldr	r0, [r7, #4]
 1636 0082 FFF7FEFF 		bl	xQueueGenericReceive
 1637 0086 0346     		mov	r3, r0
 1638 0088 012B     		cmp	r3, #1
 1639 008a 01D0     		beq	.L104
 850:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 1640              		.loc 1 850 0
 1641 008c FF23     		movs	r3, #255
 1642 008e 00E0     		b	.L105
 1643              	.L104:
 851:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 852:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 853:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 1644              		.loc 1 853 0
 1645 0090 0023     		movs	r3, #0
 1646              	.L105:
 854:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1647              		.loc 1 854 0 discriminator 1
 1648 0092 1846     		mov	r0, r3
 1649 0094 1037     		adds	r7, r7, #16
ARM GAS  /tmp/ccMNayS3.s 			page 46


 1650              	.LCFI120:
 1651              		.cfi_def_cfa_offset 8
 1652 0096 BD46     		mov	sp, r7
 1653              	.LCFI121:
 1654              		.cfi_def_cfa_register 13
 1655              		@ sp needed
 1656 0098 80BD     		pop	{r7, pc}
 1657              	.L107:
 1658 009a 00BF     		.align	2
 1659              	.L106:
 1660 009c 04ED00E0 		.word	-536810236
 1661              		.cfi_endproc
 1662              	.LFE54:
 1664              		.section	.text.osSemaphoreRelease,"ax",%progbits
 1665              		.align	1
 1666              		.global	osSemaphoreRelease
 1667              		.syntax unified
 1668              		.thumb
 1669              		.thumb_func
 1670              		.fpu fpv4-sp-d16
 1672              	osSemaphoreRelease:
 1673              	.LFB55:
 855:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 856:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 857:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Release a Semaphore token
 858:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 859:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 860:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreRelease shall be consistent in every CMSIS-RTOS.
 861:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 862:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osSemaphoreRelease (osSemaphoreId semaphore_id)
 863:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1674              		.loc 1 863 0
 1675              		.cfi_startproc
 1676              		@ args = 0, pretend = 0, frame = 16
 1677              		@ frame_needed = 1, uses_anonymous_args = 0
 1678 0000 80B5     		push	{r7, lr}
 1679              	.LCFI122:
 1680              		.cfi_def_cfa_offset 8
 1681              		.cfi_offset 7, -8
 1682              		.cfi_offset 14, -4
 1683 0002 84B0     		sub	sp, sp, #16
 1684              	.LCFI123:
 1685              		.cfi_def_cfa_offset 24
 1686 0004 00AF     		add	r7, sp, #0
 1687              	.LCFI124:
 1688              		.cfi_def_cfa_register 7
 1689 0006 7860     		str	r0, [r7, #4]
 864:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
 1690              		.loc 1 864 0
 1691 0008 0023     		movs	r3, #0
 1692 000a FB60     		str	r3, [r7, #12]
 865:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 1693              		.loc 1 865 0
 1694 000c 0023     		movs	r3, #0
 1695 000e BB60     		str	r3, [r7, #8]
 866:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 867:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/ccMNayS3.s 			page 47


 868:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1696              		.loc 1 868 0
 1697 0010 FFF7FEFF 		bl	inHandlerMode
 1698 0014 0346     		mov	r3, r0
 1699 0016 002B     		cmp	r3, #0
 1700 0018 16D0     		beq	.L109
 869:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGiveFromISR(semaphore_id, &taskWoken) != pdTRUE) {
 1701              		.loc 1 869 0
 1702 001a 07F10803 		add	r3, r7, #8
 1703 001e 1946     		mov	r1, r3
 1704 0020 7868     		ldr	r0, [r7, #4]
 1705 0022 FFF7FEFF 		bl	xQueueGiveFromISR
 1706 0026 0346     		mov	r3, r0
 1707 0028 012B     		cmp	r3, #1
 1708 002a 01D0     		beq	.L110
 870:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 1709              		.loc 1 870 0
 1710 002c FF23     		movs	r3, #255
 1711 002e 17E0     		b	.L114
 1712              	.L110:
 871:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 872:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 1713              		.loc 1 872 0
 1714 0030 BB68     		ldr	r3, [r7, #8]
 1715 0032 002B     		cmp	r3, #0
 1716 0034 13D0     		beq	.L113
 1717              		.loc 1 872 0 is_stmt 0 discriminator 1
 1718 0036 0C4B     		ldr	r3, .L115
 1719 0038 4FF08052 		mov	r2, #268435456
 1720 003c 1A60     		str	r2, [r3]
 1721              		.syntax unified
 1722              	@ 872 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1723 003e BFF34F8F 		dsb
 1724              	@ 0 "" 2
 1725              	@ 872 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 1726 0042 BFF36F8F 		isb
 1727              	@ 0 "" 2
 1728              		.thumb
 1729              		.syntax unified
 1730 0046 0AE0     		b	.L113
 1731              	.L109:
 873:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 874:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 875:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xSemaphoreGive(semaphore_id) != pdTRUE) {
 1732              		.loc 1 875 0 is_stmt 1
 1733 0048 0023     		movs	r3, #0
 1734 004a 0022     		movs	r2, #0
 1735 004c 0021     		movs	r1, #0
 1736 004e 7868     		ldr	r0, [r7, #4]
 1737 0050 FFF7FEFF 		bl	xQueueGenericSend
 1738 0054 0346     		mov	r3, r0
 1739 0056 012B     		cmp	r3, #1
 1740 0058 01D0     		beq	.L113
 876:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       result = osErrorOS;
 1741              		.loc 1 876 0
 1742 005a FF23     		movs	r3, #255
 1743 005c FB60     		str	r3, [r7, #12]
ARM GAS  /tmp/ccMNayS3.s 			page 48


 1744              	.L113:
 877:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 878:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 879:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 880:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
 1745              		.loc 1 880 0
 1746 005e FB68     		ldr	r3, [r7, #12]
 1747              	.L114:
 881:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1748              		.loc 1 881 0 discriminator 1
 1749 0060 1846     		mov	r0, r3
 1750 0062 1037     		adds	r7, r7, #16
 1751              	.LCFI125:
 1752              		.cfi_def_cfa_offset 8
 1753 0064 BD46     		mov	sp, r7
 1754              	.LCFI126:
 1755              		.cfi_def_cfa_register 13
 1756              		@ sp needed
 1757 0066 80BD     		pop	{r7, pc}
 1758              	.L116:
 1759              		.align	2
 1760              	.L115:
 1761 0068 04ED00E0 		.word	-536810236
 1762              		.cfi_endproc
 1763              	.LFE55:
 1765              		.section	.text.osSemaphoreDelete,"ax",%progbits
 1766              		.align	1
 1767              		.global	osSemaphoreDelete
 1768              		.syntax unified
 1769              		.thumb
 1770              		.thumb_func
 1771              		.fpu fpv4-sp-d16
 1773              	osSemaphoreDelete:
 1774              	.LFB56:
 882:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 883:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 884:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Semaphore
 885:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore object referenced with \ref osSemaphore.
 886:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
 887:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osSemaphoreDelete shall be consistent in every CMSIS-RTOS.
 888:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 889:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osSemaphoreDelete (osSemaphoreId semaphore_id)
 890:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1775              		.loc 1 890 0
 1776              		.cfi_startproc
 1777              		@ args = 0, pretend = 0, frame = 8
 1778              		@ frame_needed = 1, uses_anonymous_args = 0
 1779 0000 80B5     		push	{r7, lr}
 1780              	.LCFI127:
 1781              		.cfi_def_cfa_offset 8
 1782              		.cfi_offset 7, -8
 1783              		.cfi_offset 14, -4
 1784 0002 82B0     		sub	sp, sp, #8
 1785              	.LCFI128:
 1786              		.cfi_def_cfa_offset 16
 1787 0004 00AF     		add	r7, sp, #0
 1788              	.LCFI129:
ARM GAS  /tmp/ccMNayS3.s 			page 49


 1789              		.cfi_def_cfa_register 7
 1790 0006 7860     		str	r0, [r7, #4]
 891:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1791              		.loc 1 891 0
 1792 0008 FFF7FEFF 		bl	inHandlerMode
 1793 000c 0346     		mov	r3, r0
 1794 000e 002B     		cmp	r3, #0
 1795 0010 01D0     		beq	.L118
 892:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 1796              		.loc 1 892 0
 1797 0012 8223     		movs	r3, #130
 1798 0014 03E0     		b	.L119
 1799              	.L118:
 893:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 894:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 895:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vSemaphoreDelete(semaphore_id);
 1800              		.loc 1 895 0
 1801 0016 7868     		ldr	r0, [r7, #4]
 1802 0018 FFF7FEFF 		bl	vQueueDelete
 896:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 897:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK; 
 1803              		.loc 1 897 0
 1804 001c 0023     		movs	r3, #0
 1805              	.L119:
 898:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1806              		.loc 1 898 0
 1807 001e 1846     		mov	r0, r3
 1808 0020 0837     		adds	r7, r7, #8
 1809              	.LCFI130:
 1810              		.cfi_def_cfa_offset 8
 1811 0022 BD46     		mov	sp, r7
 1812              	.LCFI131:
 1813              		.cfi_def_cfa_register 13
 1814              		@ sp needed
 1815 0024 80BD     		pop	{r7, pc}
 1816              		.cfi_endproc
 1817              	.LFE56:
 1819              		.section	.text.osPoolCreate,"ax",%progbits
 1820              		.align	1
 1821              		.global	osPoolCreate
 1822              		.syntax unified
 1823              		.thumb
 1824              		.thumb_func
 1825              		.fpu fpv4-sp-d16
 1827              	osPoolCreate:
 1828              	.LFB57:
 899:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 900:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif    /* Use Semaphores */
 901:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 902:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*******************   Memory Pool Management Functions  ***********************/
 903:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 904:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_Pool)  &&  (osFeature_Pool != 0)) 
 905:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 906:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //TODO
 907:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //This is a primitive and inefficient wrapper around the existing FreeRTOS memory management.
 908:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** //A better implementation will have to modify heap_x.c!
 909:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
ARM GAS  /tmp/ccMNayS3.s 			page 50


 910:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 911:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** typedef struct os_pool_cb {
 912:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *pool;
 913:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint8_t *markers;
 914:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t pool_sz;
 915:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t item_sz;
 916:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t currentIndex;
 917:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** } os_pool_cb_t;
 918:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 919:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 920:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 921:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a memory pool
 922:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_def      memory pool definition referenced with \ref osPool.
 923:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  memory pool ID for reference by other functions or NULL in case of error.
 924:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolCreate shall be consistent in every CMSIS-RTOS.
 925:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 926:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osPoolId osPoolCreate (const osPoolDef_t *pool_def)
 927:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1829              		.loc 1 927 0
 1830              		.cfi_startproc
 1831              		@ args = 0, pretend = 0, frame = 24
 1832              		@ frame_needed = 1, uses_anonymous_args = 0
 1833 0000 80B5     		push	{r7, lr}
 1834              	.LCFI132:
 1835              		.cfi_def_cfa_offset 8
 1836              		.cfi_offset 7, -8
 1837              		.cfi_offset 14, -4
 1838 0002 86B0     		sub	sp, sp, #24
 1839              	.LCFI133:
 1840              		.cfi_def_cfa_offset 32
 1841 0004 00AF     		add	r7, sp, #0
 1842              	.LCFI134:
 1843              		.cfi_def_cfa_register 7
 1844 0006 7860     		str	r0, [r7, #4]
 928:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configSUPPORT_DYNAMIC_ALLOCATION == 1)
 929:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolId thePool;
 930:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   int itemSize = 4 * ((pool_def->item_sz + 3) / 4);
 1845              		.loc 1 930 0
 1846 0008 7B68     		ldr	r3, [r7, #4]
 1847 000a 5B68     		ldr	r3, [r3, #4]
 1848 000c 0333     		adds	r3, r3, #3
 1849 000e 23F00303 		bic	r3, r3, #3
 1850 0012 FB60     		str	r3, [r7, #12]
 931:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 932:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 933:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* First have to allocate memory for the pool control block. */
 934:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  thePool = pvPortMalloc(sizeof(os_pool_cb_t));
 1851              		.loc 1 934 0
 1852 0014 1420     		movs	r0, #20
 1853 0016 FFF7FEFF 		bl	pvPortMalloc
 1854 001a 7861     		str	r0, [r7, #20]
 935:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 936:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 937:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (thePool) {
 1855              		.loc 1 937 0
 1856 001c 7B69     		ldr	r3, [r7, #20]
 1857 001e 002B     		cmp	r3, #0
ARM GAS  /tmp/ccMNayS3.s 			page 51


 1858 0020 46D0     		beq	.L121
 938:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->pool_sz = pool_def->pool_sz;
 1859              		.loc 1 938 0
 1860 0022 7B68     		ldr	r3, [r7, #4]
 1861 0024 1A68     		ldr	r2, [r3]
 1862 0026 7B69     		ldr	r3, [r7, #20]
 1863 0028 9A60     		str	r2, [r3, #8]
 939:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->item_sz = itemSize;
 1864              		.loc 1 939 0
 1865 002a FA68     		ldr	r2, [r7, #12]
 1866 002c 7B69     		ldr	r3, [r7, #20]
 1867 002e DA60     		str	r2, [r3, #12]
 940:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->currentIndex = 0;
 1868              		.loc 1 940 0
 1869 0030 7B69     		ldr	r3, [r7, #20]
 1870 0032 0022     		movs	r2, #0
 1871 0034 1A61     		str	r2, [r3, #16]
 941:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 942:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     /* Memory for markers */
 943:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     thePool->markers = pvPortMalloc(pool_def->pool_sz);
 1872              		.loc 1 943 0
 1873 0036 7B68     		ldr	r3, [r7, #4]
 1874 0038 1B68     		ldr	r3, [r3]
 1875 003a 1846     		mov	r0, r3
 1876 003c FFF7FEFF 		bl	pvPortMalloc
 1877 0040 0246     		mov	r2, r0
 1878 0042 7B69     		ldr	r3, [r7, #20]
 1879 0044 5A60     		str	r2, [r3, #4]
 944:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****    
 945:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (thePool->markers) {
 1880              		.loc 1 945 0
 1881 0046 7B69     		ldr	r3, [r7, #20]
 1882 0048 5B68     		ldr	r3, [r3, #4]
 1883 004a 002B     		cmp	r3, #0
 1884 004c 2BD0     		beq	.L122
 946:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* Now allocate the pool itself. */
 947:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****      thePool->pool = pvPortMalloc(pool_def->pool_sz * itemSize);
 1885              		.loc 1 947 0
 1886 004e 7B68     		ldr	r3, [r7, #4]
 1887 0050 1B68     		ldr	r3, [r3]
 1888 0052 FA68     		ldr	r2, [r7, #12]
 1889 0054 02FB03F3 		mul	r3, r2, r3
 1890 0058 1846     		mov	r0, r3
 1891 005a FFF7FEFF 		bl	pvPortMalloc
 1892 005e 0246     		mov	r2, r0
 1893 0060 7B69     		ldr	r3, [r7, #20]
 1894 0062 1A60     		str	r2, [r3]
 948:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       
 949:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       if (thePool->pool) {
 1895              		.loc 1 949 0
 1896 0064 7B69     		ldr	r3, [r7, #20]
 1897 0066 1B68     		ldr	r3, [r3]
 1898 0068 002B     		cmp	r3, #0
 1899 006a 11D0     		beq	.L123
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1900              		.loc 1 950 0
 1901 006c 0023     		movs	r3, #0
ARM GAS  /tmp/ccMNayS3.s 			page 52


 1902 006e 3B61     		str	r3, [r7, #16]
 1903 0070 08E0     		b	.L124
 1904              	.L125:
 951:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****           thePool->markers[i] = 0;
 1905              		.loc 1 951 0 discriminator 3
 1906 0072 7B69     		ldr	r3, [r7, #20]
 1907 0074 5A68     		ldr	r2, [r3, #4]
 1908 0076 3B69     		ldr	r3, [r7, #16]
 1909 0078 1344     		add	r3, r3, r2
 1910 007a 0022     		movs	r2, #0
 1911 007c 1A70     		strb	r2, [r3]
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1912              		.loc 1 950 0 discriminator 3
 1913 007e 3B69     		ldr	r3, [r7, #16]
 1914 0080 0133     		adds	r3, r3, #1
 1915 0082 3B61     		str	r3, [r7, #16]
 1916              	.L124:
 950:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         for (i = 0; i < pool_def->pool_sz; i++) {
 1917              		.loc 1 950 0 is_stmt 0 discriminator 1
 1918 0084 7B68     		ldr	r3, [r7, #4]
 1919 0086 1A68     		ldr	r2, [r3]
 1920 0088 3B69     		ldr	r3, [r7, #16]
 1921 008a 9A42     		cmp	r2, r3
 1922 008c F1D8     		bhi	.L125
 1923 008e 0FE0     		b	.L121
 1924              	.L123:
 952:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         }
 953:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 954:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       else {
 955:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool->markers);
 1925              		.loc 1 955 0 is_stmt 1
 1926 0090 7B69     		ldr	r3, [r7, #20]
 1927 0092 5B68     		ldr	r3, [r3, #4]
 1928 0094 1846     		mov	r0, r3
 1929 0096 FFF7FEFF 		bl	vPortFree
 956:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         vPortFree(thePool);
 1930              		.loc 1 956 0
 1931 009a 7869     		ldr	r0, [r7, #20]
 1932 009c FFF7FEFF 		bl	vPortFree
 957:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****         thePool = NULL;
 1933              		.loc 1 957 0
 1934 00a0 0023     		movs	r3, #0
 1935 00a2 7B61     		str	r3, [r7, #20]
 1936 00a4 04E0     		b	.L121
 1937              	.L122:
 958:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       }
 959:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 960:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
 961:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       vPortFree(thePool);
 1938              		.loc 1 961 0
 1939 00a6 7869     		ldr	r0, [r7, #20]
 1940 00a8 FFF7FEFF 		bl	vPortFree
 962:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       thePool = NULL;
 1941              		.loc 1 962 0
 1942 00ac 0023     		movs	r3, #0
 1943 00ae 7B61     		str	r3, [r7, #20]
 1944              	.L121:
ARM GAS  /tmp/ccMNayS3.s 			page 53


 963:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
 964:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 965:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 966:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return thePool;
 1945              		.loc 1 966 0
 1946 00b0 7B69     		ldr	r3, [r7, #20]
 967:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
 968:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
 969:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 970:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
 971:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 1947              		.loc 1 971 0
 1948 00b2 1846     		mov	r0, r3
 1949 00b4 1837     		adds	r7, r7, #24
 1950              	.LCFI135:
 1951              		.cfi_def_cfa_offset 8
 1952 00b6 BD46     		mov	sp, r7
 1953              	.LCFI136:
 1954              		.cfi_def_cfa_register 13
 1955              		@ sp needed
 1956 00b8 80BD     		pop	{r7, pc}
 1957              		.cfi_endproc
 1958              	.LFE57:
 1960              		.section	.text.osPoolAlloc,"ax",%progbits
 1961              		.align	1
 1962              		.global	osPoolAlloc
 1963              		.syntax unified
 1964              		.thumb
 1965              		.thumb_func
 1966              		.fpu fpv4-sp-d16
 1968              	osPoolAlloc:
 1969              	.LFB58:
 972:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
 973:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
 974:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a memory pool
 975:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
 976:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  address of the allocated memory block or NULL in case of no memory available.
 977:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolAlloc shall be consistent in every CMSIS-RTOS.
 978:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
 979:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osPoolAlloc (osPoolId pool_id)
 980:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 1970              		.loc 1 980 0
 1971              		.cfi_startproc
 1972              		@ args = 0, pretend = 0, frame = 40
 1973              		@ frame_needed = 1, uses_anonymous_args = 0
 1974 0000 80B5     		push	{r7, lr}
 1975              	.LCFI137:
 1976              		.cfi_def_cfa_offset 8
 1977              		.cfi_offset 7, -8
 1978              		.cfi_offset 14, -4
 1979 0002 8AB0     		sub	sp, sp, #40
 1980              	.LCFI138:
 1981              		.cfi_def_cfa_offset 48
 1982 0004 00AF     		add	r7, sp, #0
 1983              	.LCFI139:
 1984              		.cfi_def_cfa_register 7
 1985 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccMNayS3.s 			page 54


 981:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   int dummy = 0;
 1986              		.loc 1 981 0
 1987 0008 0023     		movs	r3, #0
 1988 000a 7B62     		str	r3, [r7, #36]
 982:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = NULL;
 1989              		.loc 1 982 0
 1990 000c 0023     		movs	r3, #0
 1991 000e 3B62     		str	r3, [r7, #32]
 983:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
 984:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t index;
 985:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 986:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 1992              		.loc 1 986 0
 1993 0010 FFF7FEFF 		bl	inHandlerMode
 1994 0014 0346     		mov	r3, r0
 1995 0016 002B     		cmp	r3, #0
 1996 0018 0ED0     		beq	.L129
 1997              	.LBB10:
 1998              	.LBB11:
 1999              		.file 3 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
   1:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*
   2:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FreeRTOS V9.0.0 - Copyright (C) 2016 Real Time Engineers Ltd.
   3:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     All rights reserved
   4:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
   5:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     VISIT http://www.FreeRTOS.org TO ENSURE YOU ARE USING THE LATEST VERSION.
   6:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
   7:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     This file is part of the FreeRTOS distribution.
   8:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
   9:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FreeRTOS is free software; you can redistribute it and/or modify it under
  10:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     the terms of the GNU General Public License (version 2) as published by the
  11:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     Free Software Foundation >>>> AND MODIFIED BY <<<< the FreeRTOS exception.
  12:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  13:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     ***************************************************************************
  14:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     >>!   NOTE: The modification to the GPL is included to allow you to     !<<
  15:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     >>!   distribute a combined work that includes FreeRTOS without being   !<<
  16:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     >>!   obliged to provide the source code for proprietary components     !<<
  17:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     >>!   outside of the FreeRTOS kernel.                                   !<<
  18:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     ***************************************************************************
  19:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  20:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FreeRTOS is distributed in the hope that it will be useful, but WITHOUT ANY
  21:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
  22:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FOR A PARTICULAR PURPOSE.  Full license text is available on the following
  23:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     link: http://www.freertos.org/a00114.html
  24:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  25:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     ***************************************************************************
  26:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *                                                                       *
  27:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    FreeRTOS provides completely free yet professionally developed,    *
  28:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    robust, strictly quality controlled, supported, and cross          *
  29:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    platform software that is more than just the market leader, it     *
  30:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    is the industry's de facto standard.                               *
  31:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *                                                                       *
  32:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    Help yourself get started quickly while simultaneously helping     *
  33:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    to support the FreeRTOS project by purchasing a FreeRTOS           *
  34:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    tutorial book, reference manual, or both:                          *
  35:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *    http://www.FreeRTOS.org/Documentation                              *
  36:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****      *                                                                       *
  37:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     ***************************************************************************
ARM GAS  /tmp/ccMNayS3.s 			page 55


  38:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  39:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/FAQHelp.html - Having a problem?  Start by reading
  40:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     the FAQ page "My application does not run, what could be wrong?".  Have you
  41:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     defined configASSERT()?
  42:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  43:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/support - In return for receiving this top quality
  44:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     embedded software for free we request you assist our global community by
  45:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     participating in the support forum.
  46:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  47:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/training - Investing in training allows your team to
  48:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     be as productive as possible as early as possible.  Now you can receive
  49:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     FreeRTOS training directly from Richard Barry, CEO of Real Time Engineers
  50:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     Ltd, and the world's leading authority on the world's leading RTOS.
  51:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  52:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/plus - A selection of FreeRTOS ecosystem products,
  53:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     including FreeRTOS+Trace - an indispensable productivity tool, a DOS
  54:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     compatible FAT file system, and our tiny thread aware UDP/IP stack.
  55:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  56:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.FreeRTOS.org/labs - Where new FreeRTOS products go to incubate.
  57:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     Come and try FreeRTOS+TCP, our new open source TCP/IP stack for FreeRTOS.
  58:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  59:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.OpenRTOS.com - Real Time Engineers ltd. license FreeRTOS to High
  60:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     Integrity Systems ltd. to sell under the OpenRTOS brand.  Low cost OpenRTOS
  61:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     licenses offer ticketed support, indemnification and commercial middleware.
  62:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  63:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     http://www.SafeRTOS.com - High Integrity Systems also provide a safety
  64:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     engineered and independently SIL3 certified version for use in safety and
  65:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     mission critical applications that require provable dependability.
  66:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  67:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****     1 tab == 4 spaces!
  68:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** */
  69:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  70:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  71:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef PORTMACRO_H
  72:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define PORTMACRO_H
  73:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  74:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifdef __cplusplus
  75:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern "C" {
  76:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
  77:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  78:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------
  79:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * Port specific definitions.
  80:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  81:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * The settings in this file configure FreeRTOS correctly for the
  82:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * given hardware and compiler.
  83:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  84:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * These settings should not be altered.
  85:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *-----------------------------------------------------------
  86:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  */
  87:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  88:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Type definitions. */
  89:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portCHAR		char
  90:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portFLOAT		float
  91:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portDOUBLE		double
  92:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portLONG		long
  93:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSHORT		short
  94:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSTACK_TYPE	uint32_t
ARM GAS  /tmp/ccMNayS3.s 			page 56


  95:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portBASE_TYPE	long
  96:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  97:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef portSTACK_TYPE StackType_t;
  98:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef long BaseType_t;
  99:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef unsigned long UBaseType_t;
 100:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 101:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #if( configUSE_16_BIT_TICKS == 1 )
 102:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	typedef uint16_t TickType_t;
 103:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffff
 104:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #else
 105:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	typedef uint32_t TickType_t;
 106:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffffffffUL
 107:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 108:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* 32-bit tick type on a 32-bit architecture, so reads of the tick count do
 109:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	not need to be guarded with a critical section. */
 110:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portTICK_TYPE_IS_ATOMIC 1
 111:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 112:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 113:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 114:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Architecture specifics. */
 115:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSTACK_GROWTH			( -1 )
 116:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTICK_PERIOD_MS			( ( TickType_t ) 1000 / configTICK_RATE_HZ )
 117:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portBYTE_ALIGNMENT			8
 118:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 119:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 120:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Scheduler utilities. */
 121:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portYIELD() 															\
 122:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {																				\
 123:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Set a PendSV to request a context switch. */								\
 124:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT;								\
 125:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 																				\
 126:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Barriers are normally not required but do ensure the code is completely	\
 127:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	within the specified behaviour for the architecture. */						\
 128:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "dsb" );													\
 129:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "isb" );													\
 130:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 131:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 132:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNVIC_INT_CTRL_REG		( * ( ( volatile uint32_t * ) 0xe000ed04 ) )
 133:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNVIC_PENDSVSET_BIT		( 1UL << 28UL )
 134:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portEND_SWITCHING_ISR( xSwitchRequired ) if( xSwitchRequired != pdFALSE ) portYIELD()
 135:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portYIELD_FROM_ISR( x ) portEND_SWITCHING_ISR( x )
 136:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 137:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 138:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Critical section management. */
 139:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern void vPortEnterCritical( void );
 140:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern void vPortExitCritical( void );
 141:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSET_INTERRUPT_MASK_FROM_ISR()		ulPortRaiseBASEPRI()
 142:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portCLEAR_INTERRUPT_MASK_FROM_ISR(x)	vPortSetBASEPRI(x)
 143:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portDISABLE_INTERRUPTS()				vPortRaiseBASEPRI()
 144:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portENABLE_INTERRUPTS()					vPortSetBASEPRI(0)
 145:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portENTER_CRITICAL()					vPortEnterCritical()
 146:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portEXIT_CRITICAL()						vPortExitCritical()
 147:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 148:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 149:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 150:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Task function macros as described on the FreeRTOS.org WEB site.  These are
 151:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** not necessary for to use this port.  They are defined so the common demo files
ARM GAS  /tmp/ccMNayS3.s 			page 57


 152:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** (which build with all the ports) will build. */
 153:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTASK_FUNCTION_PROTO( vFunction, pvParameters ) void vFunction( void *pvParameters )
 154:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTASK_FUNCTION( vFunction, pvParameters ) void vFunction( void *pvParameters )
 155:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 156:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 157:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Tickless idle/low power functionality. */
 158:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef portSUPPRESS_TICKS_AND_SLEEP
 159:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	extern void vPortSuppressTicksAndSleep( TickType_t xExpectedIdleTime );
 160:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime ) vPortSuppressTicksAndSleep( xExpectedIdl
 161:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 162:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 163:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 164:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Architecture specific optimisations. */
 165:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef configUSE_PORT_OPTIMISED_TASK_SELECTION
 166:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define configUSE_PORT_OPTIMISED_TASK_SELECTION 1
 167:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 168:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 169:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #if configUSE_PORT_OPTIMISED_TASK_SELECTION == 1
 170:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 171:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Generic helper function. */
 172:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__attribute__( ( always_inline ) ) static inline uint8_t ucPortCountLeadingZeros( uint32_t ulBitma
 173:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 174:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	uint8_t ucReturn;
 175:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 176:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		__asm volatile ( "clz %0, %1" : "=r" ( ucReturn ) : "r" ( ulBitmap ) );
 177:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		return ucReturn;
 178:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 179:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 180:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Check the configuration. */
 181:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#if( configMAX_PRIORITIES > 32 )
 182:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		#error configUSE_PORT_OPTIMISED_TASK_SELECTION can only be set to 1 when configMAX_PRIORITIES is 
 183:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#endif
 184:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 185:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Store/clear the ready priorities in a bit map. */
 186:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portRECORD_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) |= ( 1UL 
 187:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portRESET_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) &= ~( 1UL 
 188:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 189:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/*-----------------------------------------------------------*/
 190:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 191:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portGET_HIGHEST_PRIORITY( uxTopPriority, uxReadyPriorities ) uxTopPriority = ( 31UL - ( ui
 192:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 193:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 194:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 196:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 197:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifdef configASSERT
 198:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	void vPortValidateInterruptPriority( void );
 199:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portASSERT_IF_INTERRUPT_PRIORITY_INVALID() 	vPortValidateInterruptPriority()
 200:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 201:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 202:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* portNOP() is not required by this port. */
 203:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNOP()
 204:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 205:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portINLINE	__inline
 206:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 207:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef portFORCE_INLINE
 208:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portFORCE_INLINE inline __attribute__(( always_inline))
ARM GAS  /tmp/ccMNayS3.s 			page 58


 209:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 210:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static BaseType_t xPortIsInsideInterrupt( void )
 212:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 213:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulCurrentInterrupt;
 214:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** BaseType_t xReturn;
 215:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 216:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Obtain the number of the currently executing interrupt. */
 217:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "mrs %0, ipsr" : "=r"( ulCurrentInterrupt ) );
 218:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 219:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	if( ulCurrentInterrupt == 0 )
 220:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 221:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		xReturn = pdFALSE;
 222:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 223:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	else
 224:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 225:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		xReturn = pdTRUE;
 226:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 227:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 228:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	return xReturn;
 229:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 230:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 231:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 232:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 233:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static void vPortRaiseBASEPRI( void )
 234:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 235:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulNewBASEPRI;
 236:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 237:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 238:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 239:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mov %0, %1												\n"	\
 240:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	msr basepri, %0											\n" \
 241:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	isb														\n" \
 242:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	dsb														\n" \
 243:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		:"=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY )
 244:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	);
 245:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 246:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 247:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 248:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 249:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static uint32_t ulPortRaiseBASEPRI( void )
 250:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 251:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulOriginalBASEPRI, ulNewBASEPRI;
 252:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 253:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 2000              		.loc 3 253 0
 2001              		.syntax unified
 2002              	@ 253 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2003 001a EFF31182 			mrs r2, basepri											
 2004 001e 4FF05003 		mov r3, #80												
 2005 0022 83F31188 		msr basepri, r3											
 2006 0026 BFF36F8F 		isb														
 2007 002a BFF34F8F 		dsb														
 2008              	
 2009              	@ 0 "" 2
 2010              		.thumb
 2011              		.syntax unified
ARM GAS  /tmp/ccMNayS3.s 			page 59


 2012 002e 7A61     		str	r2, [r7, #20]
 2013 0030 3B61     		str	r3, [r7, #16]
 254:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 255:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mrs %0, basepri											\n" \
 256:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mov %1, %2												\n"	\
 257:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	msr basepri, %1											\n" \
 258:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	isb														\n" \
 259:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	dsb														\n" \
 260:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		:"=r" (ulOriginalBASEPRI), "=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY )
 261:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	);
 262:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 263:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* This return will not be reached but is necessary to prevent compiler
 264:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	warnings. */
 265:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	return ulOriginalBASEPRI;
 2014              		.loc 3 265 0
 2015 0032 7B69     		ldr	r3, [r7, #20]
 2016              	.LBE11:
 2017              	.LBE10:
 987:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     dummy = portSET_INTERRUPT_MASK_FROM_ISR();
 2018              		.loc 1 987 0
 2019 0034 7B62     		str	r3, [r7, #36]
 2020 0036 01E0     		b	.L131
 2021              	.L129:
 988:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 989:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
 990:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortEnterCritical();
 2022              		.loc 1 990 0
 2023 0038 FFF7FEFF 		bl	vPortEnterCritical
 2024              	.L131:
 991:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
 992:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
 993:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   for (i = 0; i < pool_id->pool_sz; i++) {
 2025              		.loc 1 993 0
 2026 003c 0023     		movs	r3, #0
 2027 003e FB61     		str	r3, [r7, #28]
 2028 0040 29E0     		b	.L132
 2029              	.L136:
 994:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 2030              		.loc 1 994 0
 2031 0042 7B68     		ldr	r3, [r7, #4]
 2032 0044 1A69     		ldr	r2, [r3, #16]
 2033 0046 FB69     		ldr	r3, [r7, #28]
 2034 0048 1344     		add	r3, r3, r2
 2035 004a BB61     		str	r3, [r7, #24]
 995:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (index >= pool_id->pool_sz) {
 2036              		.loc 1 995 0
 2037 004c 7B68     		ldr	r3, [r7, #4]
 2038 004e 9A68     		ldr	r2, [r3, #8]
 2039 0050 BB69     		ldr	r3, [r7, #24]
 2040 0052 9A42     		cmp	r2, r3
 2041 0054 01D8     		bhi	.L133
 996:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       index = 0;
 2042              		.loc 1 996 0
 2043 0056 0023     		movs	r3, #0
 2044 0058 BB61     		str	r3, [r7, #24]
 2045              	.L133:
 997:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
ARM GAS  /tmp/ccMNayS3.s 			page 60


 998:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     
 999:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (pool_id->markers[index] == 0) {
 2046              		.loc 1 999 0
 2047 005a 7B68     		ldr	r3, [r7, #4]
 2048 005c 5A68     		ldr	r2, [r3, #4]
 2049 005e BB69     		ldr	r3, [r7, #24]
 2050 0060 1344     		add	r3, r3, r2
 2051 0062 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2052 0064 002B     		cmp	r3, #0
 2053 0066 13D1     		bne	.L134
1000:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       pool_id->markers[index] = 1;
 2054              		.loc 1 1000 0
 2055 0068 7B68     		ldr	r3, [r7, #4]
 2056 006a 5A68     		ldr	r2, [r3, #4]
 2057 006c BB69     		ldr	r3, [r7, #24]
 2058 006e 1344     		add	r3, r3, r2
 2059 0070 0122     		movs	r2, #1
 2060 0072 1A70     		strb	r2, [r3]
1001:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       p = (void *)((uint32_t)(pool_id->pool) + (index * pool_id->item_sz));
 2061              		.loc 1 1001 0
 2062 0074 7B68     		ldr	r3, [r7, #4]
 2063 0076 1B68     		ldr	r3, [r3]
 2064 0078 1946     		mov	r1, r3
 2065 007a 7B68     		ldr	r3, [r7, #4]
 2066 007c DB68     		ldr	r3, [r3, #12]
 2067 007e BA69     		ldr	r2, [r7, #24]
 2068 0080 02FB03F3 		mul	r3, r2, r3
 2069 0084 0B44     		add	r3, r3, r1
 2070 0086 3B62     		str	r3, [r7, #32]
1002:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       pool_id->currentIndex = index;
 2071              		.loc 1 1002 0
 2072 0088 7B68     		ldr	r3, [r7, #4]
 2073 008a BA69     		ldr	r2, [r7, #24]
 2074 008c 1A61     		str	r2, [r3, #16]
1003:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       break;
 2075              		.loc 1 1003 0
 2076 008e 07E0     		b	.L135
 2077              	.L134:
 993:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 2078              		.loc 1 993 0 discriminator 2
 2079 0090 FB69     		ldr	r3, [r7, #28]
 2080 0092 0133     		adds	r3, r3, #1
 2081 0094 FB61     		str	r3, [r7, #28]
 2082              	.L132:
 993:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     index = pool_id->currentIndex + i;
 2083              		.loc 1 993 0 is_stmt 0 discriminator 1
 2084 0096 7B68     		ldr	r3, [r7, #4]
 2085 0098 9A68     		ldr	r2, [r3, #8]
 2086 009a FB69     		ldr	r3, [r7, #28]
 2087 009c 9A42     		cmp	r2, r3
 2088 009e D0D8     		bhi	.L136
 2089              	.L135:
1004:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1005:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1006:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1007:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2090              		.loc 1 1007 0 is_stmt 1
ARM GAS  /tmp/ccMNayS3.s 			page 61


 2091 00a0 FFF7FEFF 		bl	inHandlerMode
 2092 00a4 0346     		mov	r3, r0
 2093 00a6 002B     		cmp	r3, #0
 2094 00a8 05D0     		beq	.L137
1008:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portCLEAR_INTERRUPT_MASK_FROM_ISR(dummy);
 2095              		.loc 1 1008 0
 2096 00aa 7B6A     		ldr	r3, [r7, #36]
 2097 00ac FB60     		str	r3, [r7, #12]
 2098              	.LBB12:
 2099              	.LBB13:
 266:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 267:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 268:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 269:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static void vPortSetBASEPRI( uint32_t ulNewMaskValue )
 270:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 271:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 2100              		.loc 3 271 0
 2101 00ae FB68     		ldr	r3, [r7, #12]
 2102              		.syntax unified
 2103              	@ 271 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 2104 00b0 83F31188 			msr basepri, r3	
 2105              	@ 0 "" 2
 2106              		.thumb
 2107              		.syntax unified
 2108              	.LBE13:
 2109              	.LBE12:
 2110 00b4 01E0     		b	.L138
 2111              	.L137:
1009:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1010:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1011:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortExitCritical();
 2112              		.loc 1 1011 0
 2113 00b6 FFF7FEFF 		bl	vPortExitCritical
 2114              	.L138:
1012:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1013:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1014:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2115              		.loc 1 1014 0
 2116 00ba 3B6A     		ldr	r3, [r7, #32]
1015:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2117              		.loc 1 1015 0
 2118 00bc 1846     		mov	r0, r3
 2119 00be 2837     		adds	r7, r7, #40
 2120              	.LCFI140:
 2121              		.cfi_def_cfa_offset 8
 2122 00c0 BD46     		mov	sp, r7
 2123              	.LCFI141:
 2124              		.cfi_def_cfa_register 13
 2125              		@ sp needed
 2126 00c2 80BD     		pop	{r7, pc}
 2127              		.cfi_endproc
 2128              	.LFE58:
 2130              		.section	.text.osPoolCAlloc,"ax",%progbits
 2131              		.align	1
 2132              		.global	osPoolCAlloc
 2133              		.syntax unified
 2134              		.thumb
ARM GAS  /tmp/ccMNayS3.s 			page 62


 2135              		.thumb_func
 2136              		.fpu fpv4-sp-d16
 2138              	osPoolCAlloc:
 2139              	.LFB59:
1016:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1017:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1018:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a memory pool and set memory block to zero
1019:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
1020:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  address of the allocated memory block or NULL in case of no memory available.
1021:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolCAlloc shall be consistent in every CMSIS-RTOS.
1022:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1023:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osPoolCAlloc (osPoolId pool_id)
1024:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2140              		.loc 1 1024 0
 2141              		.cfi_startproc
 2142              		@ args = 0, pretend = 0, frame = 16
 2143              		@ frame_needed = 1, uses_anonymous_args = 0
 2144 0000 80B5     		push	{r7, lr}
 2145              	.LCFI142:
 2146              		.cfi_def_cfa_offset 8
 2147              		.cfi_offset 7, -8
 2148              		.cfi_offset 14, -4
 2149 0002 84B0     		sub	sp, sp, #16
 2150              	.LCFI143:
 2151              		.cfi_def_cfa_offset 24
 2152 0004 00AF     		add	r7, sp, #0
 2153              	.LCFI144:
 2154              		.cfi_def_cfa_register 7
 2155 0006 7860     		str	r0, [r7, #4]
1025:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = osPoolAlloc(pool_id);
 2156              		.loc 1 1025 0
 2157 0008 7868     		ldr	r0, [r7, #4]
 2158 000a FFF7FEFF 		bl	osPoolAlloc
 2159 000e F860     		str	r0, [r7, #12]
1026:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1027:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (p != NULL)
 2160              		.loc 1 1027 0
 2161 0010 FB68     		ldr	r3, [r7, #12]
 2162 0012 002B     		cmp	r3, #0
 2163 0014 04D0     		beq	.L141
1028:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1029:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     memset(p, 0, sizeof(pool_id->pool_sz));
 2164              		.loc 1 1029 0
 2165 0016 0422     		movs	r2, #4
 2166 0018 0021     		movs	r1, #0
 2167 001a F868     		ldr	r0, [r7, #12]
 2168 001c FFF7FEFF 		bl	memset
 2169              	.L141:
1030:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1031:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1032:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2170              		.loc 1 1032 0
 2171 0020 FB68     		ldr	r3, [r7, #12]
1033:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2172              		.loc 1 1033 0
 2173 0022 1846     		mov	r0, r3
 2174 0024 1037     		adds	r7, r7, #16
ARM GAS  /tmp/ccMNayS3.s 			page 63


 2175              	.LCFI145:
 2176              		.cfi_def_cfa_offset 8
 2177 0026 BD46     		mov	sp, r7
 2178              	.LCFI146:
 2179              		.cfi_def_cfa_register 13
 2180              		@ sp needed
 2181 0028 80BD     		pop	{r7, pc}
 2182              		.cfi_endproc
 2183              	.LFE59:
 2185              		.section	.text.osPoolFree,"ax",%progbits
 2186              		.align	1
 2187              		.global	osPoolFree
 2188              		.syntax unified
 2189              		.thumb
 2190              		.thumb_func
 2191              		.fpu fpv4-sp-d16
 2193              	osPoolFree:
 2194              	.LFB60:
1034:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1035:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1036:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Return an allocated memory block back to a specific memory pool
1037:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  pool_id       memory pool ID obtain referenced with \ref osPoolCreate.
1038:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  block         address of the allocated memory block that is returned to the memory pool.
1039:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1040:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osPoolFree shall be consistent in every CMSIS-RTOS.
1041:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1042:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osPoolFree (osPoolId pool_id, void *block)
1043:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2195              		.loc 1 1043 0
 2196              		.cfi_startproc
 2197              		@ args = 0, pretend = 0, frame = 16
 2198              		@ frame_needed = 1, uses_anonymous_args = 0
 2199              		@ link register save eliminated.
 2200 0000 80B4     		push	{r7}
 2201              	.LCFI147:
 2202              		.cfi_def_cfa_offset 4
 2203              		.cfi_offset 7, -4
 2204 0002 85B0     		sub	sp, sp, #20
 2205              	.LCFI148:
 2206              		.cfi_def_cfa_offset 24
 2207 0004 00AF     		add	r7, sp, #0
 2208              	.LCFI149:
 2209              		.cfi_def_cfa_register 7
 2210 0006 7860     		str	r0, [r7, #4]
 2211 0008 3960     		str	r1, [r7]
1044:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t index;
1045:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1046:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (pool_id == NULL) {
 2212              		.loc 1 1046 0
 2213 000a 7B68     		ldr	r3, [r7, #4]
 2214 000c 002B     		cmp	r3, #0
 2215 000e 01D1     		bne	.L144
1047:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2216              		.loc 1 1047 0
 2217 0010 8023     		movs	r3, #128
 2218 0012 30E0     		b	.L145
 2219              	.L144:
ARM GAS  /tmp/ccMNayS3.s 			page 64


1048:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1049:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1050:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (block == NULL) {
 2220              		.loc 1 1050 0
 2221 0014 3B68     		ldr	r3, [r7]
 2222 0016 002B     		cmp	r3, #0
 2223 0018 01D1     		bne	.L146
1051:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2224              		.loc 1 1051 0
 2225 001a 8023     		movs	r3, #128
 2226 001c 2BE0     		b	.L145
 2227              	.L146:
1052:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1053:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1054:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (block < pool_id->pool) {
 2228              		.loc 1 1054 0
 2229 001e 7B68     		ldr	r3, [r7, #4]
 2230 0020 1A68     		ldr	r2, [r3]
 2231 0022 3B68     		ldr	r3, [r7]
 2232 0024 9A42     		cmp	r2, r3
 2233 0026 01D9     		bls	.L147
1055:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2234              		.loc 1 1055 0
 2235 0028 8023     		movs	r3, #128
 2236 002a 24E0     		b	.L145
 2237              	.L147:
1056:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1057:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1058:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   index = (uint32_t)block - (uint32_t)(pool_id->pool);
 2238              		.loc 1 1058 0
 2239 002c 3B68     		ldr	r3, [r7]
 2240 002e 7A68     		ldr	r2, [r7, #4]
 2241 0030 1268     		ldr	r2, [r2]
 2242 0032 9B1A     		subs	r3, r3, r2
 2243 0034 FB60     		str	r3, [r7, #12]
1059:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (index % pool_id->item_sz) {
 2244              		.loc 1 1059 0
 2245 0036 7B68     		ldr	r3, [r7, #4]
 2246 0038 DA68     		ldr	r2, [r3, #12]
 2247 003a FB68     		ldr	r3, [r7, #12]
 2248 003c B3FBF2F1 		udiv	r1, r3, r2
 2249 0040 02FB01F2 		mul	r2, r2, r1
 2250 0044 9B1A     		subs	r3, r3, r2
 2251 0046 002B     		cmp	r3, #0
 2252 0048 01D0     		beq	.L148
1060:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2253              		.loc 1 1060 0
 2254 004a 8023     		movs	r3, #128
 2255 004c 13E0     		b	.L145
 2256              	.L148:
1061:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1062:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   index = index / pool_id->item_sz;
 2257              		.loc 1 1062 0
 2258 004e 7B68     		ldr	r3, [r7, #4]
 2259 0050 DB68     		ldr	r3, [r3, #12]
 2260 0052 FA68     		ldr	r2, [r7, #12]
 2261 0054 B2FBF3F3 		udiv	r3, r2, r3
ARM GAS  /tmp/ccMNayS3.s 			page 65


 2262 0058 FB60     		str	r3, [r7, #12]
1063:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (index >= pool_id->pool_sz) {
 2263              		.loc 1 1063 0
 2264 005a 7B68     		ldr	r3, [r7, #4]
 2265 005c 9A68     		ldr	r2, [r3, #8]
 2266 005e FB68     		ldr	r3, [r7, #12]
 2267 0060 9A42     		cmp	r2, r3
 2268 0062 01D8     		bhi	.L149
1064:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2269              		.loc 1 1064 0
 2270 0064 8023     		movs	r3, #128
 2271 0066 06E0     		b	.L145
 2272              	.L149:
1065:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1066:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1067:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   pool_id->markers[index] = 0;
 2273              		.loc 1 1067 0
 2274 0068 7B68     		ldr	r3, [r7, #4]
 2275 006a 5A68     		ldr	r2, [r3, #4]
 2276 006c FB68     		ldr	r3, [r7, #12]
 2277 006e 1344     		add	r3, r3, r2
 2278 0070 0022     		movs	r2, #0
 2279 0072 1A70     		strb	r2, [r3]
1068:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1069:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 2280              		.loc 1 1069 0
 2281 0074 0023     		movs	r3, #0
 2282              	.L145:
1070:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2283              		.loc 1 1070 0
 2284 0076 1846     		mov	r0, r3
 2285 0078 1437     		adds	r7, r7, #20
 2286              	.LCFI150:
 2287              		.cfi_def_cfa_offset 4
 2288 007a BD46     		mov	sp, r7
 2289              	.LCFI151:
 2290              		.cfi_def_cfa_register 13
 2291              		@ sp needed
 2292 007c 5DF8047B 		ldr	r7, [sp], #4
 2293              	.LCFI152:
 2294              		.cfi_restore 7
 2295              		.cfi_def_cfa_offset 0
 2296 0080 7047     		bx	lr
 2297              		.cfi_endproc
 2298              	.LFE60:
 2300              		.section	.text.osMessageCreate,"ax",%progbits
 2301              		.align	1
 2302              		.global	osMessageCreate
 2303              		.syntax unified
 2304              		.thumb
 2305              		.thumb_func
 2306              		.fpu fpv4-sp-d16
 2308              	osMessageCreate:
 2309              	.LFB61:
1071:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1072:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1073:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif   /* Use Memory Pool Management */
ARM GAS  /tmp/ccMNayS3.s 			page 66


1074:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1075:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*******************   Message Queue Management Functions  *********************/
1076:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1077:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_MessageQ)  &&  (osFeature_MessageQ != 0)) /* Use Message Queues */
1078:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1079:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1080:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize a Message Queue
1081:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param queue_def     queue definition referenced with \ref osMessageQ.
1082:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  thread_id     thread ID (obtained by \ref osThreadCreate or \ref osThreadGetId) or NULL.
1083:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  message queue ID for reference by other functions or NULL in case of error.
1084:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessageCreate shall be consistent in every CMSIS-RTOS.
1085:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1086:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMessageQId osMessageCreate (const osMessageQDef_t *queue_def, osThreadId thread_id)
1087:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2310              		.loc 1 1087 0
 2311              		.cfi_startproc
 2312              		@ args = 0, pretend = 0, frame = 8
 2313              		@ frame_needed = 1, uses_anonymous_args = 0
 2314 0000 80B5     		push	{r7, lr}
 2315              	.LCFI153:
 2316              		.cfi_def_cfa_offset 8
 2317              		.cfi_offset 7, -8
 2318              		.cfi_offset 14, -4
 2319 0002 82B0     		sub	sp, sp, #8
 2320              	.LCFI154:
 2321              		.cfi_def_cfa_offset 16
 2322 0004 00AF     		add	r7, sp, #0
 2323              	.LCFI155:
 2324              		.cfi_def_cfa_register 7
 2325 0006 7860     		str	r0, [r7, #4]
 2326 0008 3960     		str	r1, [r7]
1088:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1089:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1090:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1091:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1092:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((queue_def->buffer != NULL) && (queue_def->controlblock != NULL)) {
1093:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xQueueCreateStatic(queue_def->queue_sz, queue_def->item_sz, queue_def->buffer, queue_def
1094:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1095:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1096:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xQueueCreate(queue_def->queue_sz, queue_def->item_sz);
1097:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1098:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
1099:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xQueueCreateStatic(queue_def->queue_sz, queue_def->item_sz, queue_def->buffer, queue_def->
1100:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else  
1101:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xQueueCreate(queue_def->queue_sz, queue_def->item_sz);
 2327              		.loc 1 1101 0
 2328 000a 7B68     		ldr	r3, [r7, #4]
 2329 000c 1868     		ldr	r0, [r3]
 2330 000e 7B68     		ldr	r3, [r7, #4]
 2331 0010 5B68     		ldr	r3, [r3, #4]
 2332 0012 0022     		movs	r2, #0
 2333 0014 1946     		mov	r1, r3
 2334 0016 FFF7FEFF 		bl	xQueueGenericCreate
 2335 001a 0346     		mov	r3, r0
1102:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1103:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2336              		.loc 1 1103 0
ARM GAS  /tmp/ccMNayS3.s 			page 67


 2337 001c 1846     		mov	r0, r3
 2338 001e 0837     		adds	r7, r7, #8
 2339              	.LCFI156:
 2340              		.cfi_def_cfa_offset 8
 2341 0020 BD46     		mov	sp, r7
 2342              	.LCFI157:
 2343              		.cfi_def_cfa_register 13
 2344              		@ sp needed
 2345 0022 80BD     		pop	{r7, pc}
 2346              		.cfi_endproc
 2347              	.LFE61:
 2349              		.section	.text.osMessagePut,"ax",%progbits
 2350              		.align	1
 2351              		.global	osMessagePut
 2352              		.syntax unified
 2353              		.thumb
 2354              		.thumb_func
 2355              		.fpu fpv4-sp-d16
 2357              	osMessagePut:
 2358              	.LFB62:
1104:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1105:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1106:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Put a Message to a Queue.
1107:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1108:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  info      message information.
1109:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1110:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1111:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessagePut shall be consistent in every CMSIS-RTOS.
1112:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1113:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMessagePut (osMessageQId queue_id, uint32_t info, uint32_t millisec)
1114:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2359              		.loc 1 1114 0
 2360              		.cfi_startproc
 2361              		@ args = 0, pretend = 0, frame = 24
 2362              		@ frame_needed = 1, uses_anonymous_args = 0
 2363 0000 80B5     		push	{r7, lr}
 2364              	.LCFI158:
 2365              		.cfi_def_cfa_offset 8
 2366              		.cfi_offset 7, -8
 2367              		.cfi_offset 14, -4
 2368 0002 86B0     		sub	sp, sp, #24
 2369              	.LCFI159:
 2370              		.cfi_def_cfa_offset 32
 2371 0004 00AF     		add	r7, sp, #0
 2372              	.LCFI160:
 2373              		.cfi_def_cfa_register 7
 2374 0006 F860     		str	r0, [r7, #12]
 2375 0008 B960     		str	r1, [r7, #8]
 2376 000a 7A60     		str	r2, [r7, #4]
1115:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken = pdFALSE;
 2377              		.loc 1 1115 0
 2378 000c 0023     		movs	r3, #0
 2379 000e 3B61     		str	r3, [r7, #16]
1116:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1117:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1118:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = millisec / portTICK_PERIOD_MS;
 2380              		.loc 1 1118 0
ARM GAS  /tmp/ccMNayS3.s 			page 68


 2381 0010 7B68     		ldr	r3, [r7, #4]
 2382 0012 7B61     		str	r3, [r7, #20]
1119:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (ticks == 0) {
 2383              		.loc 1 1119 0
 2384 0014 7B69     		ldr	r3, [r7, #20]
 2385 0016 002B     		cmp	r3, #0
 2386 0018 01D1     		bne	.L153
1120:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = 1;
 2387              		.loc 1 1120 0
 2388 001a 0123     		movs	r3, #1
 2389 001c 7B61     		str	r3, [r7, #20]
 2390              	.L153:
1121:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1122:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1123:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2391              		.loc 1 1123 0
 2392 001e FFF7FEFF 		bl	inHandlerMode
 2393 0022 0346     		mov	r3, r0
 2394 0024 002B     		cmp	r3, #0
 2395 0026 18D0     		beq	.L154
1124:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSendFromISR(queue_id, &info, &taskWoken) != pdTRUE) {
 2396              		.loc 1 1124 0
 2397 0028 07F11002 		add	r2, r7, #16
 2398 002c 07F10801 		add	r1, r7, #8
 2399 0030 0023     		movs	r3, #0
 2400 0032 F868     		ldr	r0, [r7, #12]
 2401 0034 FFF7FEFF 		bl	xQueueGenericSendFromISR
 2402 0038 0346     		mov	r3, r0
 2403 003a 012B     		cmp	r3, #1
 2404 003c 01D0     		beq	.L155
1125:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2405              		.loc 1 1125 0
 2406 003e FF23     		movs	r3, #255
 2407 0040 18E0     		b	.L159
 2408              	.L155:
1126:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1127:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2409              		.loc 1 1127 0
 2410 0042 3B69     		ldr	r3, [r7, #16]
 2411 0044 002B     		cmp	r3, #0
 2412 0046 14D0     		beq	.L158
 2413              		.loc 1 1127 0 is_stmt 0 discriminator 1
 2414 0048 0C4B     		ldr	r3, .L160
 2415 004a 4FF08052 		mov	r2, #268435456
 2416 004e 1A60     		str	r2, [r3]
 2417              		.syntax unified
 2418              	@ 1127 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2419 0050 BFF34F8F 		dsb
 2420              	@ 0 "" 2
 2421              	@ 1127 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2422 0054 BFF36F8F 		isb
 2423              	@ 0 "" 2
 2424              		.thumb
 2425              		.syntax unified
 2426 0058 0BE0     		b	.L158
 2427              	.L154:
1128:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
ARM GAS  /tmp/ccMNayS3.s 			page 69


1129:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1130:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSend(queue_id, &info, ticks) != pdTRUE) {
 2428              		.loc 1 1130 0 is_stmt 1
 2429 005a 07F10801 		add	r1, r7, #8
 2430 005e 0023     		movs	r3, #0
 2431 0060 7A69     		ldr	r2, [r7, #20]
 2432 0062 F868     		ldr	r0, [r7, #12]
 2433 0064 FFF7FEFF 		bl	xQueueGenericSend
 2434 0068 0346     		mov	r3, r0
 2435 006a 012B     		cmp	r3, #1
 2436 006c 01D0     		beq	.L158
1131:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2437              		.loc 1 1131 0
 2438 006e FF23     		movs	r3, #255
 2439 0070 00E0     		b	.L159
 2440              	.L158:
1132:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1133:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1134:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1135:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 2441              		.loc 1 1135 0
 2442 0072 0023     		movs	r3, #0
 2443              	.L159:
1136:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2444              		.loc 1 1136 0 discriminator 1
 2445 0074 1846     		mov	r0, r3
 2446 0076 1837     		adds	r7, r7, #24
 2447              	.LCFI161:
 2448              		.cfi_def_cfa_offset 8
 2449 0078 BD46     		mov	sp, r7
 2450              	.LCFI162:
 2451              		.cfi_def_cfa_register 13
 2452              		@ sp needed
 2453 007a 80BD     		pop	{r7, pc}
 2454              	.L161:
 2455              		.align	2
 2456              	.L160:
 2457 007c 04ED00E0 		.word	-536810236
 2458              		.cfi_endproc
 2459              	.LFE62:
 2461              		.section	.text.osMessageGet,"ax",%progbits
 2462              		.align	1
 2463              		.global	osMessageGet
 2464              		.syntax unified
 2465              		.thumb
 2466              		.thumb_func
 2467              		.fpu fpv4-sp-d16
 2469              	osMessageGet:
 2470              	.LFB63:
1137:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1138:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1139:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Get a Message or Wait for a Message from a Queue.
1140:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1141:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1142:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event information that includes status code.
1143:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMessageGet shall be consistent in every CMSIS-RTOS.
1144:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
ARM GAS  /tmp/ccMNayS3.s 			page 70


1145:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMessageGet (osMessageQId queue_id, uint32_t millisec)
1146:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2471              		.loc 1 1146 0
 2472              		.cfi_startproc
 2473              		@ args = 0, pretend = 0, frame = 40
 2474              		@ frame_needed = 1, uses_anonymous_args = 0
 2475 0000 90B5     		push	{r4, r7, lr}
 2476              	.LCFI163:
 2477              		.cfi_def_cfa_offset 12
 2478              		.cfi_offset 4, -12
 2479              		.cfi_offset 7, -8
 2480              		.cfi_offset 14, -4
 2481 0002 8BB0     		sub	sp, sp, #44
 2482              	.LCFI164:
 2483              		.cfi_def_cfa_offset 56
 2484 0004 00AF     		add	r7, sp, #0
 2485              	.LCFI165:
 2486              		.cfi_def_cfa_register 7
 2487 0006 F860     		str	r0, [r7, #12]
 2488 0008 B960     		str	r1, [r7, #8]
 2489 000a 7A60     		str	r2, [r7, #4]
1147:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1148:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1149:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1150:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1151:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.message_id = queue_id;
 2490              		.loc 1 1151 0
 2491 000c BB68     		ldr	r3, [r7, #8]
 2492 000e FB61     		str	r3, [r7, #28]
1152:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.value.v = 0;
 2493              		.loc 1 1152 0
 2494 0010 0023     		movs	r3, #0
 2495 0012 BB61     		str	r3, [r7, #24]
1153:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1154:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2496              		.loc 1 1154 0
 2497 0014 BB68     		ldr	r3, [r7, #8]
 2498 0016 002B     		cmp	r3, #0
 2499 0018 0AD1     		bne	.L163
1155:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 2500              		.loc 1 1155 0
 2501 001a 8023     		movs	r3, #128
 2502 001c 7B61     		str	r3, [r7, #20]
1156:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 2503              		.loc 1 1156 0
 2504 001e FB68     		ldr	r3, [r7, #12]
 2505 0020 1C46     		mov	r4, r3
 2506 0022 07F11403 		add	r3, r7, #20
 2507 0026 93E80700 		ldm	r3, {r0, r1, r2}
 2508 002a 84E80700 		stm	r4, {r0, r1, r2}
 2509 002e 54E0     		b	.L162
 2510              	.L163:
1157:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1158:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1159:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2511              		.loc 1 1159 0
 2512 0030 0023     		movs	r3, #0
ARM GAS  /tmp/ccMNayS3.s 			page 71


 2513 0032 3B62     		str	r3, [r7, #32]
1160:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1161:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 2514              		.loc 1 1161 0
 2515 0034 0023     		movs	r3, #0
 2516 0036 7B62     		str	r3, [r7, #36]
1162:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 2517              		.loc 1 1162 0
 2518 0038 7B68     		ldr	r3, [r7, #4]
 2519 003a B3F1FF3F 		cmp	r3, #-1
 2520 003e 03D1     		bne	.L165
1163:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 2521              		.loc 1 1163 0
 2522 0040 4FF0FF33 		mov	r3, #-1
 2523 0044 7B62     		str	r3, [r7, #36]
 2524 0046 09E0     		b	.L166
 2525              	.L165:
1164:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1165:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 2526              		.loc 1 1165 0
 2527 0048 7B68     		ldr	r3, [r7, #4]
 2528 004a 002B     		cmp	r3, #0
 2529 004c 06D0     		beq	.L166
1166:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 2530              		.loc 1 1166 0
 2531 004e 7B68     		ldr	r3, [r7, #4]
 2532 0050 7B62     		str	r3, [r7, #36]
1167:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 2533              		.loc 1 1167 0
 2534 0052 7B6A     		ldr	r3, [r7, #36]
 2535 0054 002B     		cmp	r3, #0
 2536 0056 01D1     		bne	.L166
1168:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 2537              		.loc 1 1168 0
 2538 0058 0123     		movs	r3, #1
 2539 005a 7B62     		str	r3, [r7, #36]
 2540              	.L166:
1169:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1170:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1171:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1172:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2541              		.loc 1 1172 0
 2542 005c FFF7FEFF 		bl	inHandlerMode
 2543 0060 0346     		mov	r3, r0
 2544 0062 002B     		cmp	r3, #0
 2545 0064 1CD0     		beq	.L167
1173:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceiveFromISR(queue_id, &event.value.v, &taskWoken) == pdTRUE) {
 2546              		.loc 1 1173 0
 2547 0066 07F12002 		add	r2, r7, #32
 2548 006a 07F11403 		add	r3, r7, #20
 2549 006e 0433     		adds	r3, r3, #4
 2550 0070 1946     		mov	r1, r3
 2551 0072 B868     		ldr	r0, [r7, #8]
 2552 0074 FFF7FEFF 		bl	xQueueReceiveFromISR
 2553 0078 0346     		mov	r3, r0
 2554 007a 012B     		cmp	r3, #1
 2555 007c 02D1     		bne	.L168
ARM GAS  /tmp/ccMNayS3.s 			page 72


1174:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1175:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMessage;
 2556              		.loc 1 1175 0
 2557 007e 1023     		movs	r3, #16
 2558 0080 7B61     		str	r3, [r7, #20]
 2559 0082 01E0     		b	.L169
 2560              	.L168:
1176:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1177:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1178:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osOK;
 2561              		.loc 1 1178 0
 2562 0084 0023     		movs	r3, #0
 2563 0086 7B61     		str	r3, [r7, #20]
 2564              	.L169:
1179:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1180:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2565              		.loc 1 1180 0
 2566 0088 3B6A     		ldr	r3, [r7, #32]
 2567 008a 002B     		cmp	r3, #0
 2568 008c 1DD0     		beq	.L171
 2569              		.loc 1 1180 0 is_stmt 0 discriminator 1
 2570 008e 154B     		ldr	r3, .L176
 2571 0090 4FF08052 		mov	r2, #268435456
 2572 0094 1A60     		str	r2, [r3]
 2573              		.syntax unified
 2574              	@ 1180 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2575 0096 BFF34F8F 		dsb
 2576              	@ 0 "" 2
 2577              	@ 1180 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2578 009a BFF36F8F 		isb
 2579              	@ 0 "" 2
 2580              		.thumb
 2581              		.syntax unified
 2582 009e 14E0     		b	.L171
 2583              	.L167:
1181:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1182:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1183:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceive(queue_id, &event.value.v, ticks) == pdTRUE) {
 2584              		.loc 1 1183 0 is_stmt 1
 2585 00a0 07F11403 		add	r3, r7, #20
 2586 00a4 191D     		adds	r1, r3, #4
 2587 00a6 0023     		movs	r3, #0
 2588 00a8 7A6A     		ldr	r2, [r7, #36]
 2589 00aa B868     		ldr	r0, [r7, #8]
 2590 00ac FFF7FEFF 		bl	xQueueGenericReceive
 2591 00b0 0346     		mov	r3, r0
 2592 00b2 012B     		cmp	r3, #1
 2593 00b4 02D1     		bne	.L172
1184:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1185:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMessage;
 2594              		.loc 1 1185 0
 2595 00b6 1023     		movs	r3, #16
 2596 00b8 7B61     		str	r3, [r7, #20]
 2597 00ba 06E0     		b	.L171
 2598              	.L172:
1186:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1187:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
ARM GAS  /tmp/ccMNayS3.s 			page 73


1188:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = (ticks == 0) ? osOK : osEventTimeout;
 2599              		.loc 1 1188 0
 2600 00bc 7B6A     		ldr	r3, [r7, #36]
 2601 00be 002B     		cmp	r3, #0
 2602 00c0 01D1     		bne	.L173
 2603              		.loc 1 1188 0 is_stmt 0 discriminator 1
 2604 00c2 0023     		movs	r3, #0
 2605 00c4 00E0     		b	.L174
 2606              	.L173:
 2607              		.loc 1 1188 0 discriminator 2
 2608 00c6 4023     		movs	r3, #64
 2609              	.L174:
 2610              		.loc 1 1188 0 discriminator 4
 2611 00c8 7B61     		str	r3, [r7, #20]
 2612              	.L171:
1189:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1190:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1191:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1192:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 2613              		.loc 1 1192 0 is_stmt 1
 2614 00ca FB68     		ldr	r3, [r7, #12]
 2615 00cc 1C46     		mov	r4, r3
 2616 00ce 07F11403 		add	r3, r7, #20
 2617 00d2 93E80700 		ldm	r3, {r0, r1, r2}
 2618 00d6 84E80700 		stm	r4, {r0, r1, r2}
 2619              	.L162:
1193:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2620              		.loc 1 1193 0
 2621 00da F868     		ldr	r0, [r7, #12]
 2622 00dc 2C37     		adds	r7, r7, #44
 2623              	.LCFI166:
 2624              		.cfi_def_cfa_offset 12
 2625 00de BD46     		mov	sp, r7
 2626              	.LCFI167:
 2627              		.cfi_def_cfa_register 13
 2628              		@ sp needed
 2629 00e0 90BD     		pop	{r4, r7, pc}
 2630              	.L177:
 2631 00e2 00BF     		.align	2
 2632              	.L176:
 2633 00e4 04ED00E0 		.word	-536810236
 2634              		.cfi_endproc
 2635              	.LFE63:
 2637              		.section	.text.osMailCreate,"ax",%progbits
 2638              		.align	1
 2639              		.global	osMailCreate
 2640              		.syntax unified
 2641              		.thumb
 2642              		.thumb_func
 2643              		.fpu fpv4-sp-d16
 2645              	osMailCreate:
 2646              	.LFB64:
1194:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1195:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif     /* Use Message Queues */
1196:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1197:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /********************   Mail Queue Management Functions  ***********************/
1198:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (defined (osFeature_MailQ)  &&  (osFeature_MailQ != 0))  /* Use Mail Queues */
ARM GAS  /tmp/ccMNayS3.s 			page 74


1199:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1200:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1201:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** typedef struct os_mailQ_cb {
1202:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   const osMailQDef_t *queue_def;
1203:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   QueueHandle_t handle;
1204:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolId pool;
1205:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** } os_mailQ_cb_t;
1206:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1207:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1208:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Create and Initialize mail queue
1209:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_def     reference to the mail queue definition obtain with \ref osMailQ
1210:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id     thread ID (obtained by \ref osThreadCreate or \ref osThreadGetId) or NULL.
1211:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval mail queue ID for reference by other functions or NULL in case of error.
1212:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailCreate shall be consistent in every CMSIS-RTOS.
1213:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1214:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMailQId osMailCreate (const osMailQDef_t *queue_def, osThreadId thread_id)
1215:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2647              		.loc 1 1215 0
 2648              		.cfi_startproc
 2649              		@ args = 0, pretend = 0, frame = 24
 2650              		@ frame_needed = 1, uses_anonymous_args = 0
 2651 0000 90B5     		push	{r4, r7, lr}
 2652              	.LCFI168:
 2653              		.cfi_def_cfa_offset 12
 2654              		.cfi_offset 4, -12
 2655              		.cfi_offset 7, -8
 2656              		.cfi_offset 14, -4
 2657 0002 87B0     		sub	sp, sp, #28
 2658              	.LCFI169:
 2659              		.cfi_def_cfa_offset 40
 2660 0004 00AF     		add	r7, sp, #0
 2661              	.LCFI170:
 2662              		.cfi_def_cfa_register 7
 2663 0006 7860     		str	r0, [r7, #4]
 2664 0008 3960     		str	r1, [r7]
1216:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configSUPPORT_DYNAMIC_ALLOCATION == 1)
1217:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1218:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1219:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osPoolDef_t pool_def = {queue_def->queue_sz, queue_def->item_sz, NULL};
 2665              		.loc 1 1219 0
 2666 000a 7B68     		ldr	r3, [r7, #4]
 2667 000c 1B68     		ldr	r3, [r3]
 2668 000e FB60     		str	r3, [r7, #12]
 2669 0010 7B68     		ldr	r3, [r7, #4]
 2670 0012 5B68     		ldr	r3, [r3, #4]
 2671 0014 3B61     		str	r3, [r7, #16]
 2672 0016 0023     		movs	r3, #0
 2673 0018 7B61     		str	r3, [r7, #20]
1220:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1221:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a mail queue control block */
1222:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1223:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   *(queue_def->cb) = pvPortMalloc(sizeof(struct os_mailQ_cb));
 2674              		.loc 1 1223 0
 2675 001a 7B68     		ldr	r3, [r7, #4]
 2676 001c 9C68     		ldr	r4, [r3, #8]
 2677 001e 0C20     		movs	r0, #12
 2678 0020 FFF7FEFF 		bl	pvPortMalloc
ARM GAS  /tmp/ccMNayS3.s 			page 75


 2679 0024 0346     		mov	r3, r0
 2680 0026 2360     		str	r3, [r4]
1224:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1225:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (*(queue_def->cb) == NULL) {
 2681              		.loc 1 1225 0
 2682 0028 7B68     		ldr	r3, [r7, #4]
 2683 002a 9B68     		ldr	r3, [r3, #8]
 2684 002c 1B68     		ldr	r3, [r3]
 2685 002e 002B     		cmp	r3, #0
 2686 0030 01D1     		bne	.L179
1226:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2687              		.loc 1 1226 0
 2688 0032 0023     		movs	r3, #0
 2689 0034 39E0     		b	.L183
 2690              	.L179:
1227:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1228:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->queue_def = queue_def;
 2691              		.loc 1 1228 0
 2692 0036 7B68     		ldr	r3, [r7, #4]
 2693 0038 9B68     		ldr	r3, [r3, #8]
 2694 003a 1B68     		ldr	r3, [r3]
 2695 003c 7A68     		ldr	r2, [r7, #4]
 2696 003e 1A60     		str	r2, [r3]
1229:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1230:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a queue in FreeRTOS */
1231:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->handle = xQueueCreate(queue_def->queue_sz, sizeof(void *));
 2697              		.loc 1 1231 0
 2698 0040 7B68     		ldr	r3, [r7, #4]
 2699 0042 9B68     		ldr	r3, [r3, #8]
 2700 0044 1C68     		ldr	r4, [r3]
 2701 0046 7B68     		ldr	r3, [r7, #4]
 2702 0048 1B68     		ldr	r3, [r3]
 2703 004a 0022     		movs	r2, #0
 2704 004c 0421     		movs	r1, #4
 2705 004e 1846     		mov	r0, r3
 2706 0050 FFF7FEFF 		bl	xQueueGenericCreate
 2707 0054 0346     		mov	r3, r0
 2708 0056 6360     		str	r3, [r4, #4]
1232:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1233:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1234:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((*(queue_def->cb))->handle == NULL) {
 2709              		.loc 1 1234 0
 2710 0058 7B68     		ldr	r3, [r7, #4]
 2711 005a 9B68     		ldr	r3, [r3, #8]
 2712 005c 1B68     		ldr	r3, [r3]
 2713 005e 5B68     		ldr	r3, [r3, #4]
 2714 0060 002B     		cmp	r3, #0
 2715 0062 07D1     		bne	.L181
1235:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortFree(*(queue_def->cb));
 2716              		.loc 1 1235 0
 2717 0064 7B68     		ldr	r3, [r7, #4]
 2718 0066 9B68     		ldr	r3, [r3, #8]
 2719 0068 1B68     		ldr	r3, [r3]
 2720 006a 1846     		mov	r0, r3
 2721 006c FFF7FEFF 		bl	vPortFree
1236:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2722              		.loc 1 1236 0
ARM GAS  /tmp/ccMNayS3.s 			page 76


 2723 0070 0023     		movs	r3, #0
 2724 0072 1AE0     		b	.L183
 2725              	.L181:
1237:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1238:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1239:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   /* Create a mail pool */
1240:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (*(queue_def->cb))->pool = osPoolCreate(&pool_def);
 2726              		.loc 1 1240 0
 2727 0074 7B68     		ldr	r3, [r7, #4]
 2728 0076 9B68     		ldr	r3, [r3, #8]
 2729 0078 1C68     		ldr	r4, [r3]
 2730 007a 07F10C03 		add	r3, r7, #12
 2731 007e 1846     		mov	r0, r3
 2732 0080 FFF7FEFF 		bl	osPoolCreate
 2733 0084 0346     		mov	r3, r0
 2734 0086 A360     		str	r3, [r4, #8]
1241:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if ((*(queue_def->cb))->pool == NULL) {
 2735              		.loc 1 1241 0
 2736 0088 7B68     		ldr	r3, [r7, #4]
 2737 008a 9B68     		ldr	r3, [r3, #8]
 2738 008c 1B68     		ldr	r3, [r3]
 2739 008e 9B68     		ldr	r3, [r3, #8]
 2740 0090 002B     		cmp	r3, #0
 2741 0092 07D1     		bne	.L182
1242:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     //TODO: Delete queue. How to do it in FreeRTOS?
1243:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vPortFree(*(queue_def->cb));
 2742              		.loc 1 1243 0
 2743 0094 7B68     		ldr	r3, [r7, #4]
 2744 0096 9B68     		ldr	r3, [r3, #8]
 2745 0098 1B68     		ldr	r3, [r3]
 2746 009a 1846     		mov	r0, r3
 2747 009c FFF7FEFF 		bl	vPortFree
1244:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2748              		.loc 1 1244 0
 2749 00a0 0023     		movs	r3, #0
 2750 00a2 02E0     		b	.L183
 2751              	.L182:
1245:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1246:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1247:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return *(queue_def->cb);
 2752              		.loc 1 1247 0
 2753 00a4 7B68     		ldr	r3, [r7, #4]
 2754 00a6 9B68     		ldr	r3, [r3, #8]
 2755 00a8 1B68     		ldr	r3, [r3]
 2756              	.L183:
1248:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1249:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
1250:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1251:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2757              		.loc 1 1251 0 discriminator 1
 2758 00aa 1846     		mov	r0, r3
 2759 00ac 1C37     		adds	r7, r7, #28
 2760              	.LCFI171:
 2761              		.cfi_def_cfa_offset 12
 2762 00ae BD46     		mov	sp, r7
 2763              	.LCFI172:
 2764              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccMNayS3.s 			page 77


 2765              		@ sp needed
 2766 00b0 90BD     		pop	{r4, r7, pc}
 2767              		.cfi_endproc
 2768              	.LFE64:
 2770              		.section	.text.osMailAlloc,"ax",%progbits
 2771              		.align	1
 2772              		.global	osMailAlloc
 2773              		.syntax unified
 2774              		.thumb
 2775              		.thumb_func
 2776              		.fpu fpv4-sp-d16
 2778              	osMailAlloc:
 2779              	.LFB65:
1252:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1253:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1254:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a mail
1255:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1256:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
1257:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval pointer to memory block that can be filled with mail or NULL in case error.
1258:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailAlloc shall be consistent in every CMSIS-RTOS.
1259:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1260:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osMailAlloc (osMailQId queue_id, uint32_t millisec)
1261:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2780              		.loc 1 1261 0
 2781              		.cfi_startproc
 2782              		@ args = 0, pretend = 0, frame = 16
 2783              		@ frame_needed = 1, uses_anonymous_args = 0
 2784 0000 80B5     		push	{r7, lr}
 2785              	.LCFI173:
 2786              		.cfi_def_cfa_offset 8
 2787              		.cfi_offset 7, -8
 2788              		.cfi_offset 14, -4
 2789 0002 84B0     		sub	sp, sp, #16
 2790              	.LCFI174:
 2791              		.cfi_def_cfa_offset 24
 2792 0004 00AF     		add	r7, sp, #0
 2793              	.LCFI175:
 2794              		.cfi_def_cfa_register 7
 2795 0006 7860     		str	r0, [r7, #4]
 2796 0008 3960     		str	r1, [r7]
1262:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
1263:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p;
1264:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1265:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1266:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2797              		.loc 1 1266 0
 2798 000a 7B68     		ldr	r3, [r7, #4]
 2799 000c 002B     		cmp	r3, #0
 2800 000e 01D1     		bne	.L185
1267:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return NULL;
 2801              		.loc 1 1267 0
 2802 0010 0023     		movs	r3, #0
 2803 0012 06E0     		b	.L186
 2804              	.L185:
1268:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1269:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1270:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   p = osPoolAlloc(queue_id->pool);
ARM GAS  /tmp/ccMNayS3.s 			page 78


 2805              		.loc 1 1270 0
 2806 0014 7B68     		ldr	r3, [r7, #4]
 2807 0016 9B68     		ldr	r3, [r3, #8]
 2808 0018 1846     		mov	r0, r3
 2809 001a FFF7FEFF 		bl	osPoolAlloc
 2810 001e F860     		str	r0, [r7, #12]
1271:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1272:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2811              		.loc 1 1272 0
 2812 0020 FB68     		ldr	r3, [r7, #12]
 2813              	.L186:
1273:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2814              		.loc 1 1273 0
 2815 0022 1846     		mov	r0, r3
 2816 0024 1037     		adds	r7, r7, #16
 2817              	.LCFI176:
 2818              		.cfi_def_cfa_offset 8
 2819 0026 BD46     		mov	sp, r7
 2820              	.LCFI177:
 2821              		.cfi_def_cfa_register 13
 2822              		@ sp needed
 2823 0028 80BD     		pop	{r7, pc}
 2824              		.cfi_endproc
 2825              	.LFE65:
 2827              		.section	.text.osMailCAlloc,"ax",%progbits
 2828              		.align	1
 2829              		.global	osMailCAlloc
 2830              		.syntax unified
 2831              		.thumb
 2832              		.thumb_func
 2833              		.fpu fpv4-sp-d16
 2835              	osMailCAlloc:
 2836              	.LFB66:
1274:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1275:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1276:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Allocate a memory block from a mail and set memory block to zero
1277:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1278:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec      timeout value or 0 in case of no time-out.
1279:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval pointer to memory block that can be filled with mail or NULL in case error.
1280:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailCAlloc shall be consistent in every CMSIS-RTOS.
1281:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1282:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void *osMailCAlloc (osMailQId queue_id, uint32_t millisec)
1283:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2837              		.loc 1 1283 0
 2838              		.cfi_startproc
 2839              		@ args = 0, pretend = 0, frame = 16
 2840              		@ frame_needed = 1, uses_anonymous_args = 0
 2841 0000 80B5     		push	{r7, lr}
 2842              	.LCFI178:
 2843              		.cfi_def_cfa_offset 8
 2844              		.cfi_offset 7, -8
 2845              		.cfi_offset 14, -4
 2846 0002 84B0     		sub	sp, sp, #16
 2847              	.LCFI179:
 2848              		.cfi_def_cfa_offset 24
 2849 0004 00AF     		add	r7, sp, #0
 2850              	.LCFI180:
ARM GAS  /tmp/ccMNayS3.s 			page 79


 2851              		.cfi_def_cfa_register 7
 2852 0006 7860     		str	r0, [r7, #4]
 2853 0008 3960     		str	r1, [r7]
1284:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   uint32_t i;
1285:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   void *p = osMailAlloc(queue_id, millisec);
 2854              		.loc 1 1285 0
 2855 000a 3968     		ldr	r1, [r7]
 2856 000c 7868     		ldr	r0, [r7, #4]
 2857 000e FFF7FEFF 		bl	osMailAlloc
 2858 0012 B860     		str	r0, [r7, #8]
1286:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1287:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (p) {
 2859              		.loc 1 1287 0
 2860 0014 BB68     		ldr	r3, [r7, #8]
 2861 0016 002B     		cmp	r3, #0
 2862 0018 10D0     		beq	.L188
1288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2863              		.loc 1 1288 0
 2864 001a 0023     		movs	r3, #0
 2865 001c FB60     		str	r3, [r7, #12]
 2866 001e 07E0     		b	.L189
 2867              	.L190:
1289:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ((uint8_t *)p)[i] = 0;
 2868              		.loc 1 1289 0 discriminator 3
 2869 0020 BA68     		ldr	r2, [r7, #8]
 2870 0022 FB68     		ldr	r3, [r7, #12]
 2871 0024 1344     		add	r3, r3, r2
 2872 0026 0022     		movs	r2, #0
 2873 0028 1A70     		strb	r2, [r3]
1288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2874              		.loc 1 1288 0 discriminator 3
 2875 002a FB68     		ldr	r3, [r7, #12]
 2876 002c 0133     		adds	r3, r3, #1
 2877 002e FB60     		str	r3, [r7, #12]
 2878              	.L189:
1288:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     for (i = 0; i < queue_id->queue_def->item_sz; i++) {
 2879              		.loc 1 1288 0 is_stmt 0 discriminator 1
 2880 0030 7B68     		ldr	r3, [r7, #4]
 2881 0032 1B68     		ldr	r3, [r3]
 2882 0034 5A68     		ldr	r2, [r3, #4]
 2883 0036 FB68     		ldr	r3, [r7, #12]
 2884 0038 9A42     		cmp	r2, r3
 2885 003a F1D8     		bhi	.L190
 2886              	.L188:
1290:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1291:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1292:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1293:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return p;
 2887              		.loc 1 1293 0 is_stmt 1
 2888 003c BB68     		ldr	r3, [r7, #8]
1294:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2889              		.loc 1 1294 0
 2890 003e 1846     		mov	r0, r3
 2891 0040 1037     		adds	r7, r7, #16
 2892              	.LCFI181:
 2893              		.cfi_def_cfa_offset 8
 2894 0042 BD46     		mov	sp, r7
ARM GAS  /tmp/ccMNayS3.s 			page 80


 2895              	.LCFI182:
 2896              		.cfi_def_cfa_register 13
 2897              		@ sp needed
 2898 0044 80BD     		pop	{r7, pc}
 2899              		.cfi_endproc
 2900              	.LFE66:
 2902              		.section	.text.osMailPut,"ax",%progbits
 2903              		.align	1
 2904              		.global	osMailPut
 2905              		.syntax unified
 2906              		.thumb
 2907              		.thumb_func
 2908              		.fpu fpv4-sp-d16
 2910              	osMailPut:
 2911              	.LFB67:
1295:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1296:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1297:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Put a mail to a queue
1298:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id      mail queue ID obtained with \ref osMailCreate.
1299:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mail          memory block previously allocated with \ref osMailAlloc or \ref osMailCAllo
1300:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1301:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailPut shall be consistent in every CMSIS-RTOS.
1302:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1303:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMailPut (osMailQId queue_id, void *mail)
1304:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 2912              		.loc 1 1304 0
 2913              		.cfi_startproc
 2914              		@ args = 0, pretend = 0, frame = 16
 2915              		@ frame_needed = 1, uses_anonymous_args = 0
 2916 0000 80B5     		push	{r7, lr}
 2917              	.LCFI183:
 2918              		.cfi_def_cfa_offset 8
 2919              		.cfi_offset 7, -8
 2920              		.cfi_offset 14, -4
 2921 0002 84B0     		sub	sp, sp, #16
 2922              	.LCFI184:
 2923              		.cfi_def_cfa_offset 24
 2924 0004 00AF     		add	r7, sp, #0
 2925              	.LCFI185:
 2926              		.cfi_def_cfa_register 7
 2927 0006 7860     		str	r0, [r7, #4]
 2928 0008 3960     		str	r1, [r7]
1305:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1306:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1307:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1308:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 2929              		.loc 1 1308 0
 2930 000a 7B68     		ldr	r3, [r7, #4]
 2931 000c 002B     		cmp	r3, #0
 2932 000e 01D1     		bne	.L193
1309:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 2933              		.loc 1 1309 0
 2934 0010 8023     		movs	r3, #128
 2935 0012 2CE0     		b	.L199
 2936              	.L193:
1310:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1311:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
ARM GAS  /tmp/ccMNayS3.s 			page 81


1312:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 2937              		.loc 1 1312 0
 2938 0014 0023     		movs	r3, #0
 2939 0016 FB60     		str	r3, [r7, #12]
1313:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1314:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 2940              		.loc 1 1314 0
 2941 0018 FFF7FEFF 		bl	inHandlerMode
 2942 001c 0346     		mov	r3, r0
 2943 001e 002B     		cmp	r3, #0
 2944 0020 18D0     		beq	.L195
1315:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSendFromISR(queue_id->handle, &mail, &taskWoken) != pdTRUE) {
 2945              		.loc 1 1315 0
 2946 0022 7B68     		ldr	r3, [r7, #4]
 2947 0024 5868     		ldr	r0, [r3, #4]
 2948 0026 07F10C02 		add	r2, r7, #12
 2949 002a 3946     		mov	r1, r7
 2950 002c 0023     		movs	r3, #0
 2951 002e FFF7FEFF 		bl	xQueueGenericSendFromISR
 2952 0032 0346     		mov	r3, r0
 2953 0034 012B     		cmp	r3, #1
 2954 0036 01D0     		beq	.L196
1316:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2955              		.loc 1 1316 0
 2956 0038 FF23     		movs	r3, #255
 2957 003a 18E0     		b	.L199
 2958              	.L196:
1317:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1318:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 2959              		.loc 1 1318 0
 2960 003c FB68     		ldr	r3, [r7, #12]
 2961 003e 002B     		cmp	r3, #0
 2962 0040 14D0     		beq	.L198
 2963              		.loc 1 1318 0 is_stmt 0 discriminator 1
 2964 0042 0D4B     		ldr	r3, .L200
 2965 0044 4FF08052 		mov	r2, #268435456
 2966 0048 1A60     		str	r2, [r3]
 2967              		.syntax unified
 2968              	@ 1318 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2969 004a BFF34F8F 		dsb
 2970              	@ 0 "" 2
 2971              	@ 1318 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 2972 004e BFF36F8F 		isb
 2973              	@ 0 "" 2
 2974              		.thumb
 2975              		.syntax unified
 2976 0052 0BE0     		b	.L198
 2977              	.L195:
1319:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1320:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1321:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueSend(queue_id->handle, &mail, 0) != pdTRUE) { 
 2978              		.loc 1 1321 0 is_stmt 1
 2979 0054 7B68     		ldr	r3, [r7, #4]
 2980 0056 5868     		ldr	r0, [r3, #4]
 2981 0058 3946     		mov	r1, r7
 2982 005a 0023     		movs	r3, #0
 2983 005c 0022     		movs	r2, #0
ARM GAS  /tmp/ccMNayS3.s 			page 82


 2984 005e FFF7FEFF 		bl	xQueueGenericSend
 2985 0062 0346     		mov	r3, r0
 2986 0064 012B     		cmp	r3, #1
 2987 0066 01D0     		beq	.L198
1322:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       return osErrorOS;
 2988              		.loc 1 1322 0
 2989 0068 FF23     		movs	r3, #255
 2990 006a 00E0     		b	.L199
 2991              	.L198:
1323:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1324:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1325:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1326:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 2992              		.loc 1 1326 0
 2993 006c 0023     		movs	r3, #0
 2994              	.L199:
1327:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 2995              		.loc 1 1327 0 discriminator 1
 2996 006e 1846     		mov	r0, r3
 2997 0070 1037     		adds	r7, r7, #16
 2998              	.LCFI186:
 2999              		.cfi_def_cfa_offset 8
 3000 0072 BD46     		mov	sp, r7
 3001              	.LCFI187:
 3002              		.cfi_def_cfa_register 13
 3003              		@ sp needed
 3004 0074 80BD     		pop	{r7, pc}
 3005              	.L201:
 3006 0076 00BF     		.align	2
 3007              	.L200:
 3008 0078 04ED00E0 		.word	-536810236
 3009              		.cfi_endproc
 3010              	.LFE67:
 3012              		.section	.text.osMailGet,"ax",%progbits
 3013              		.align	1
 3014              		.global	osMailGet
 3015              		.syntax unified
 3016              		.thumb
 3017              		.thumb_func
 3018              		.fpu fpv4-sp-d16
 3020              	osMailGet:
 3021              	.LFB68:
1328:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1329:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1330:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Get a mail from a queue
1331:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id   mail queue ID obtained with \ref osMailCreate.
1332:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec    timeout value or 0 in case of no time-out
1333:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event that contains mail information or error code.
1334:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailGet shall be consistent in every CMSIS-RTOS.
1335:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1336:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMailGet (osMailQId queue_id, uint32_t millisec)
1337:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3022              		.loc 1 1337 0
 3023              		.cfi_startproc
 3024              		@ args = 0, pretend = 0, frame = 40
 3025              		@ frame_needed = 1, uses_anonymous_args = 0
 3026 0000 90B5     		push	{r4, r7, lr}
ARM GAS  /tmp/ccMNayS3.s 			page 83


 3027              	.LCFI188:
 3028              		.cfi_def_cfa_offset 12
 3029              		.cfi_offset 4, -12
 3030              		.cfi_offset 7, -8
 3031              		.cfi_offset 14, -4
 3032 0002 8BB0     		sub	sp, sp, #44
 3033              	.LCFI189:
 3034              		.cfi_def_cfa_offset 56
 3035 0004 00AF     		add	r7, sp, #0
 3036              	.LCFI190:
 3037              		.cfi_def_cfa_register 7
 3038 0006 F860     		str	r0, [r7, #12]
 3039 0008 B960     		str	r1, [r7, #8]
 3040 000a 7A60     		str	r2, [r7, #4]
1338:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   portBASE_TYPE taskWoken;
1339:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1340:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1341:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1342:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.mail_id = queue_id;
 3041              		.loc 1 1342 0
 3042 000c BB68     		ldr	r3, [r7, #8]
 3043 000e FB61     		str	r3, [r7, #28]
1343:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1344:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 3044              		.loc 1 1344 0
 3045 0010 BB68     		ldr	r3, [r7, #8]
 3046 0012 002B     		cmp	r3, #0
 3047 0014 0AD1     		bne	.L203
1345:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 3048              		.loc 1 1345 0
 3049 0016 8023     		movs	r3, #128
 3050 0018 7B61     		str	r3, [r7, #20]
1346:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 3051              		.loc 1 1346 0
 3052 001a FB68     		ldr	r3, [r7, #12]
 3053 001c 1C46     		mov	r4, r3
 3054 001e 07F11403 		add	r3, r7, #20
 3055 0022 93E80700 		ldm	r3, {r0, r1, r2}
 3056 0026 84E80700 		stm	r4, {r0, r1, r2}
 3057 002a 56E0     		b	.L202
 3058              	.L203:
1347:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1348:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1349:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   taskWoken = pdFALSE;
 3059              		.loc 1 1349 0
 3060 002c 0023     		movs	r3, #0
 3061 002e 3B62     		str	r3, [r7, #32]
1350:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1351:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 3062              		.loc 1 1351 0
 3063 0030 0023     		movs	r3, #0
 3064 0032 7B62     		str	r3, [r7, #36]
1352:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 3065              		.loc 1 1352 0
 3066 0034 7B68     		ldr	r3, [r7, #4]
 3067 0036 B3F1FF3F 		cmp	r3, #-1
 3068 003a 03D1     		bne	.L205
ARM GAS  /tmp/ccMNayS3.s 			page 84


1353:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 3069              		.loc 1 1353 0
 3070 003c 4FF0FF33 		mov	r3, #-1
 3071 0040 7B62     		str	r3, [r7, #36]
 3072 0042 09E0     		b	.L206
 3073              	.L205:
1354:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1355:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
 3074              		.loc 1 1355 0
 3075 0044 7B68     		ldr	r3, [r7, #4]
 3076 0046 002B     		cmp	r3, #0
 3077 0048 06D0     		beq	.L206
1356:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 3078              		.loc 1 1356 0
 3079 004a 7B68     		ldr	r3, [r7, #4]
 3080 004c 7B62     		str	r3, [r7, #36]
1357:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 3081              		.loc 1 1357 0
 3082 004e 7B6A     		ldr	r3, [r7, #36]
 3083 0050 002B     		cmp	r3, #0
 3084 0052 01D1     		bne	.L206
1358:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 3085              		.loc 1 1358 0
 3086 0054 0123     		movs	r3, #1
 3087 0056 7B62     		str	r3, [r7, #36]
 3088              	.L206:
1359:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1360:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1361:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1362:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 3089              		.loc 1 1362 0
 3090 0058 FFF7FEFF 		bl	inHandlerMode
 3091 005c 0346     		mov	r3, r0
 3092 005e 002B     		cmp	r3, #0
 3093 0060 1DD0     		beq	.L207
1363:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceiveFromISR(queue_id->handle, &event.value.p, &taskWoken) == pdTRUE) {
 3094              		.loc 1 1363 0
 3095 0062 BB68     		ldr	r3, [r7, #8]
 3096 0064 5868     		ldr	r0, [r3, #4]
 3097 0066 07F12002 		add	r2, r7, #32
 3098 006a 07F11403 		add	r3, r7, #20
 3099 006e 0433     		adds	r3, r3, #4
 3100 0070 1946     		mov	r1, r3
 3101 0072 FFF7FEFF 		bl	xQueueReceiveFromISR
 3102 0076 0346     		mov	r3, r0
 3103 0078 012B     		cmp	r3, #1
 3104 007a 02D1     		bne	.L208
1364:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1365:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMail;
 3105              		.loc 1 1365 0
 3106 007c 2023     		movs	r3, #32
 3107 007e 7B61     		str	r3, [r7, #20]
 3108 0080 01E0     		b	.L209
 3109              	.L208:
1366:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1367:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1368:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osOK;
ARM GAS  /tmp/ccMNayS3.s 			page 85


 3110              		.loc 1 1368 0
 3111 0082 0023     		movs	r3, #0
 3112 0084 7B61     		str	r3, [r7, #20]
 3113              	.L209:
1369:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1370:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     portEND_SWITCHING_ISR(taskWoken);
 3114              		.loc 1 1370 0
 3115 0086 3B6A     		ldr	r3, [r7, #32]
 3116 0088 002B     		cmp	r3, #0
 3117 008a 1ED0     		beq	.L211
 3118              		.loc 1 1370 0 is_stmt 0 discriminator 1
 3119 008c 154B     		ldr	r3, .L216
 3120 008e 4FF08052 		mov	r2, #268435456
 3121 0092 1A60     		str	r2, [r3]
 3122              		.syntax unified
 3123              	@ 1370 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 3124 0094 BFF34F8F 		dsb
 3125              	@ 0 "" 2
 3126              	@ 1370 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 3127 0098 BFF36F8F 		isb
 3128              	@ 0 "" 2
 3129              		.thumb
 3130              		.syntax unified
 3131 009c 15E0     		b	.L211
 3132              	.L207:
1371:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1372:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1373:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xQueueReceive(queue_id->handle, &event.value.p, ticks) == pdTRUE) {
 3133              		.loc 1 1373 0 is_stmt 1
 3134 009e BB68     		ldr	r3, [r7, #8]
 3135 00a0 5868     		ldr	r0, [r3, #4]
 3136 00a2 07F11403 		add	r3, r7, #20
 3137 00a6 191D     		adds	r1, r3, #4
 3138 00a8 0023     		movs	r3, #0
 3139 00aa 7A6A     		ldr	r2, [r7, #36]
 3140 00ac FFF7FEFF 		bl	xQueueGenericReceive
 3141 00b0 0346     		mov	r3, r0
 3142 00b2 012B     		cmp	r3, #1
 3143 00b4 02D1     		bne	.L212
1374:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       /* We have mail */
1375:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = osEventMail;
 3144              		.loc 1 1375 0
 3145 00b6 2023     		movs	r3, #32
 3146 00b8 7B61     		str	r3, [r7, #20]
 3147 00ba 06E0     		b	.L211
 3148              	.L212:
1376:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1377:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     else {
1378:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       event.status = (ticks == 0) ? osOK : osEventTimeout;
 3149              		.loc 1 1378 0
 3150 00bc 7B6A     		ldr	r3, [r7, #36]
 3151 00be 002B     		cmp	r3, #0
 3152 00c0 01D1     		bne	.L213
 3153              		.loc 1 1378 0 is_stmt 0 discriminator 1
 3154 00c2 0023     		movs	r3, #0
 3155 00c4 00E0     		b	.L214
 3156              	.L213:
ARM GAS  /tmp/ccMNayS3.s 			page 86


 3157              		.loc 1 1378 0 discriminator 2
 3158 00c6 4023     		movs	r3, #64
 3159              	.L214:
 3160              		.loc 1 1378 0 discriminator 4
 3161 00c8 7B61     		str	r3, [r7, #20]
 3162              	.L211:
1379:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1380:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1381:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1382:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 3163              		.loc 1 1382 0 is_stmt 1
 3164 00ca FB68     		ldr	r3, [r7, #12]
 3165 00cc 1C46     		mov	r4, r3
 3166 00ce 07F11403 		add	r3, r7, #20
 3167 00d2 93E80700 		ldm	r3, {r0, r1, r2}
 3168 00d6 84E80700 		stm	r4, {r0, r1, r2}
 3169              	.L202:
1383:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3170              		.loc 1 1383 0
 3171 00da F868     		ldr	r0, [r7, #12]
 3172 00dc 2C37     		adds	r7, r7, #44
 3173              	.LCFI191:
 3174              		.cfi_def_cfa_offset 12
 3175 00de BD46     		mov	sp, r7
 3176              	.LCFI192:
 3177              		.cfi_def_cfa_register 13
 3178              		@ sp needed
 3179 00e0 90BD     		pop	{r4, r7, pc}
 3180              	.L217:
 3181 00e2 00BF     		.align	2
 3182              	.L216:
 3183 00e4 04ED00E0 		.word	-536810236
 3184              		.cfi_endproc
 3185              	.LFE68:
 3187              		.section	.text.osMailFree,"ax",%progbits
 3188              		.align	1
 3189              		.global	osMailFree
 3190              		.syntax unified
 3191              		.thumb
 3192              		.thumb_func
 3193              		.fpu fpv4-sp-d16
 3195              	osMailFree:
 3196              	.LFB69:
1384:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1385:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1386:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Free a memory block from a mail
1387:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id mail queue ID obtained with \ref osMailCreate.
1388:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mail     pointer to the memory block that was obtained with \ref osMailGet.
1389:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1390:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @note   MUST REMAIN UNCHANGED: \b osMailFree shall be consistent in every CMSIS-RTOS.
1391:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1392:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMailFree (osMailQId queue_id, void *mail)
1393:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3197              		.loc 1 1393 0
 3198              		.cfi_startproc
 3199              		@ args = 0, pretend = 0, frame = 8
 3200              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccMNayS3.s 			page 87


 3201 0000 80B5     		push	{r7, lr}
 3202              	.LCFI193:
 3203              		.cfi_def_cfa_offset 8
 3204              		.cfi_offset 7, -8
 3205              		.cfi_offset 14, -4
 3206 0002 82B0     		sub	sp, sp, #8
 3207              	.LCFI194:
 3208              		.cfi_def_cfa_offset 16
 3209 0004 00AF     		add	r7, sp, #0
 3210              	.LCFI195:
 3211              		.cfi_def_cfa_register 7
 3212 0006 7860     		str	r0, [r7, #4]
 3213 0008 3960     		str	r1, [r7]
1394:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 3214              		.loc 1 1394 0
 3215 000a 7B68     		ldr	r3, [r7, #4]
 3216 000c 002B     		cmp	r3, #0
 3217 000e 01D1     		bne	.L219
1395:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
 3218              		.loc 1 1395 0
 3219 0010 8023     		movs	r3, #128
 3220 0012 06E0     		b	.L220
 3221              	.L219:
1396:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1397:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1398:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osPoolFree(queue_id->pool, mail);
 3222              		.loc 1 1398 0
 3223 0014 7B68     		ldr	r3, [r7, #4]
 3224 0016 9B68     		ldr	r3, [r3, #8]
 3225 0018 3968     		ldr	r1, [r7]
 3226 001a 1846     		mov	r0, r3
 3227 001c FFF7FEFF 		bl	osPoolFree
 3228 0020 0346     		mov	r3, r0
 3229              	.L220:
1399:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3230              		.loc 1 1399 0
 3231 0022 1846     		mov	r0, r3
 3232 0024 0837     		adds	r7, r7, #8
 3233              	.LCFI196:
 3234              		.cfi_def_cfa_offset 8
 3235 0026 BD46     		mov	sp, r7
 3236              	.LCFI197:
 3237              		.cfi_def_cfa_register 13
 3238              		@ sp needed
 3239 0028 80BD     		pop	{r7, pc}
 3240              		.cfi_endproc
 3241              	.LFE69:
 3243              		.section	.text.osSystickHandler,"ax",%progbits
 3244              		.align	1
 3245              		.global	osSystickHandler
 3246              		.syntax unified
 3247              		.thumb
 3248              		.thumb_func
 3249              		.fpu fpv4-sp-d16
 3251              	osSystickHandler:
 3252              	.LFB70:
1400:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* Use Mail Queues */
ARM GAS  /tmp/ccMNayS3.s 			page 88


1401:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1402:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /*************************** Additional specific APIs to Free RTOS ************/
1403:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1404:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Handles the tick increment
1405:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  none.
1406:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval none.
1407:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1408:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** void osSystickHandler(void)
1409:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3253              		.loc 1 1409 0
 3254              		.cfi_startproc
 3255              		@ args = 0, pretend = 0, frame = 0
 3256              		@ frame_needed = 1, uses_anonymous_args = 0
 3257 0000 80B5     		push	{r7, lr}
 3258              	.LCFI198:
 3259              		.cfi_def_cfa_offset 8
 3260              		.cfi_offset 7, -8
 3261              		.cfi_offset 14, -4
 3262 0002 00AF     		add	r7, sp, #0
 3263              	.LCFI199:
 3264              		.cfi_def_cfa_register 7
1410:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1411:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_xTaskGetSchedulerState  == 1 )
1412:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskGetSchedulerState() != taskSCHEDULER_NOT_STARTED)
 3265              		.loc 1 1412 0
 3266 0004 FFF7FEFF 		bl	xTaskGetSchedulerState
 3267 0008 0346     		mov	r3, r0
 3268 000a 012B     		cmp	r3, #1
 3269 000c 01D0     		beq	.L223
1413:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1414:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* INCLUDE_xTaskGetSchedulerState */  
1415:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     xPortSysTickHandler();
 3270              		.loc 1 1415 0
 3271 000e FFF7FEFF 		bl	xPortSysTickHandler
 3272              	.L223:
1416:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_xTaskGetSchedulerState  == 1 )
1417:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1418:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif  /* INCLUDE_xTaskGetSchedulerState */  
1419:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3273              		.loc 1 1419 0
 3274 0012 00BF     		nop
 3275 0014 80BD     		pop	{r7, pc}
 3276              		.cfi_endproc
 3277              	.LFE70:
 3279              		.section	.text.osThreadSuspend,"ax",%progbits
 3280              		.align	1
 3281              		.global	osThreadSuspend
 3282              		.syntax unified
 3283              		.thumb
 3284              		.thumb_func
 3285              		.fpu fpv4-sp-d16
 3287              	osThreadSuspend:
 3288              	.LFB71:
1420:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1421:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( INCLUDE_eTaskGetState == 1 )
1422:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1423:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Obtain the state of any thread.
ARM GAS  /tmp/ccMNayS3.s 			page 89


1424:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1425:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  the stae of the thread, states are encoded by the osThreadState enumerated type.
1426:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1427:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osThreadState osThreadGetState(osThreadId thread_id)
1428:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
1429:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   eTaskState ThreadState;
1430:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osThreadState result;
1431:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1432:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ThreadState = eTaskGetState(thread_id);
1433:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1434:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   switch (ThreadState)
1435:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1436:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eRunning :
1437:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadRunning;
1438:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1439:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eReady :
1440:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadReady;
1441:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1442:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eBlocked :
1443:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadBlocked;
1444:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1445:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eSuspended :
1446:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadSuspended;
1447:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1448:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   case eDeleted :
1449:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadDeleted;
1450:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     break;
1451:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   default:
1452:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osThreadError;
1453:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   } 
1454:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1455:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
1456:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1457:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif /* INCLUDE_eTaskGetState */
1458:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1459:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_eTaskGetState == 1)
1460:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1461:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Check if a thread is already suspended or not.
1462:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param thread_id thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1463:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval status code that indicates the execution status of the function.
1464:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1465:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadIsSuspended(osThreadId thread_id)
1466:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
1467:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (eTaskGetState(thread_id) == eSuspended)
1468:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
1469:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1470:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
1471:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
1472:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif /* INCLUDE_eTaskGetState */
1473:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1474:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Suspend execution of a thread.
1475:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1476:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1477:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1478:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSuspend (osThreadId thread_id)
1479:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3289              		.loc 1 1479 0
ARM GAS  /tmp/ccMNayS3.s 			page 90


 3290              		.cfi_startproc
 3291              		@ args = 0, pretend = 0, frame = 8
 3292              		@ frame_needed = 1, uses_anonymous_args = 0
 3293 0000 80B5     		push	{r7, lr}
 3294              	.LCFI200:
 3295              		.cfi_def_cfa_offset 8
 3296              		.cfi_offset 7, -8
 3297              		.cfi_offset 14, -4
 3298 0002 82B0     		sub	sp, sp, #8
 3299              	.LCFI201:
 3300              		.cfi_def_cfa_offset 16
 3301 0004 00AF     		add	r7, sp, #0
 3302              	.LCFI202:
 3303              		.cfi_def_cfa_register 7
 3304 0006 7860     		str	r0, [r7, #4]
1480:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskSuspend == 1)
1481:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vTaskSuspend(thread_id);
 3305              		.loc 1 1481 0
 3306 0008 7868     		ldr	r0, [r7, #4]
 3307 000a FFF7FEFF 		bl	vTaskSuspend
1482:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1483:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 3308              		.loc 1 1483 0
 3309 000e 0023     		movs	r3, #0
1484:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1485:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1486:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1487:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3310              		.loc 1 1487 0
 3311 0010 1846     		mov	r0, r3
 3312 0012 0837     		adds	r7, r7, #8
 3313              	.LCFI203:
 3314              		.cfi_def_cfa_offset 8
 3315 0014 BD46     		mov	sp, r7
 3316              	.LCFI204:
 3317              		.cfi_def_cfa_register 13
 3318              		@ sp needed
 3319 0016 80BD     		pop	{r7, pc}
 3320              		.cfi_endproc
 3321              	.LFE71:
 3323              		.section	.text.osThreadResume,"ax",%progbits
 3324              		.align	1
 3325              		.global	osThreadResume
 3326              		.syntax unified
 3327              		.thumb
 3328              		.thumb_func
 3329              		.fpu fpv4-sp-d16
 3331              	osThreadResume:
 3332              	.LFB72:
1488:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1489:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1490:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Resume execution of a suspended thread.
1491:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId.
1492:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1493:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1494:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadResume (osThreadId thread_id)
1495:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
ARM GAS  /tmp/ccMNayS3.s 			page 91


 3333              		.loc 1 1495 0
 3334              		.cfi_startproc
 3335              		@ args = 0, pretend = 0, frame = 8
 3336              		@ frame_needed = 1, uses_anonymous_args = 0
 3337 0000 80B5     		push	{r7, lr}
 3338              	.LCFI205:
 3339              		.cfi_def_cfa_offset 8
 3340              		.cfi_offset 7, -8
 3341              		.cfi_offset 14, -4
 3342 0002 82B0     		sub	sp, sp, #8
 3343              	.LCFI206:
 3344              		.cfi_def_cfa_offset 16
 3345 0004 00AF     		add	r7, sp, #0
 3346              	.LCFI207:
 3347              		.cfi_def_cfa_register 7
 3348 0006 7860     		str	r0, [r7, #4]
1496:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (INCLUDE_vTaskSuspend == 1)  
1497:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if(inHandlerMode())
 3349              		.loc 1 1497 0
 3350 0008 FFF7FEFF 		bl	inHandlerMode
 3351 000c 0346     		mov	r3, r0
 3352 000e 002B     		cmp	r3, #0
 3353 0010 0ED0     		beq	.L227
1498:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1499:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (xTaskResumeFromISR(thread_id) == pdTRUE)
 3354              		.loc 1 1499 0
 3355 0012 7868     		ldr	r0, [r7, #4]
 3356 0014 FFF7FEFF 		bl	xTaskResumeFromISR
 3357 0018 0346     		mov	r3, r0
 3358 001a 012B     		cmp	r3, #1
 3359 001c 0BD1     		bne	.L229
1500:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
1501:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       portYIELD_FROM_ISR(pdTRUE);
 3360              		.loc 1 1501 0 discriminator 1
 3361 001e 084B     		ldr	r3, .L231
 3362 0020 4FF08052 		mov	r2, #268435456
 3363 0024 1A60     		str	r2, [r3]
 3364              		.syntax unified
 3365              	@ 1501 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 3366 0026 BFF34F8F 		dsb
 3367              	@ 0 "" 2
 3368              	@ 1501 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c" 1
 3369 002a BFF36F8F 		isb
 3370              	@ 0 "" 2
 3371              		.thumb
 3372              		.syntax unified
 3373 002e 02E0     		b	.L229
 3374              	.L227:
1502:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1503:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1504:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1505:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1506:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     vTaskResume(thread_id);
 3375              		.loc 1 1506 0
 3376 0030 7868     		ldr	r0, [r7, #4]
 3377 0032 FFF7FEFF 		bl	vTaskResume
 3378              	.L229:
ARM GAS  /tmp/ccMNayS3.s 			page 92


1507:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1508:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 3379              		.loc 1 1508 0
 3380 0036 0023     		movs	r3, #0
1509:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1510:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1511:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1512:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3381              		.loc 1 1512 0
 3382 0038 1846     		mov	r0, r3
 3383 003a 0837     		adds	r7, r7, #8
 3384              	.LCFI208:
 3385              		.cfi_def_cfa_offset 8
 3386 003c BD46     		mov	sp, r7
 3387              	.LCFI209:
 3388              		.cfi_def_cfa_register 13
 3389              		@ sp needed
 3390 003e 80BD     		pop	{r7, pc}
 3391              	.L232:
 3392              		.align	2
 3393              	.L231:
 3394 0040 04ED00E0 		.word	-536810236
 3395              		.cfi_endproc
 3396              	.LFE72:
 3398              		.section	.text.osThreadSuspendAll,"ax",%progbits
 3399              		.align	1
 3400              		.global	osThreadSuspendAll
 3401              		.syntax unified
 3402              		.thumb
 3403              		.thumb_func
 3404              		.fpu fpv4-sp-d16
 3406              	osThreadSuspendAll:
 3407              	.LFB73:
1513:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1514:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1515:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Suspend execution of a all active threads.
1516:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1517:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1518:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadSuspendAll (void)
1519:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3408              		.loc 1 1519 0
 3409              		.cfi_startproc
 3410              		@ args = 0, pretend = 0, frame = 0
 3411              		@ frame_needed = 1, uses_anonymous_args = 0
 3412 0000 80B5     		push	{r7, lr}
 3413              	.LCFI210:
 3414              		.cfi_def_cfa_offset 8
 3415              		.cfi_offset 7, -8
 3416              		.cfi_offset 14, -4
 3417 0002 00AF     		add	r7, sp, #0
 3418              	.LCFI211:
 3419              		.cfi_def_cfa_register 7
1520:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskSuspendAll();
 3420              		.loc 1 1520 0
 3421 0004 FFF7FEFF 		bl	vTaskSuspendAll
1521:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1522:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
ARM GAS  /tmp/ccMNayS3.s 			page 93


 3422              		.loc 1 1522 0
 3423 0008 0023     		movs	r3, #0
1523:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3424              		.loc 1 1523 0
 3425 000a 1846     		mov	r0, r3
 3426 000c 80BD     		pop	{r7, pc}
 3427              		.cfi_endproc
 3428              	.LFE73:
 3430              		.section	.text.osThreadResumeAll,"ax",%progbits
 3431              		.align	1
 3432              		.global	osThreadResumeAll
 3433              		.syntax unified
 3434              		.thumb
 3435              		.thumb_func
 3436              		.fpu fpv4-sp-d16
 3438              	osThreadResumeAll:
 3439              	.LFB74:
1524:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1525:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1526:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Resume execution of a all suspended threads.
1527:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1528:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1529:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadResumeAll (void)
1530:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3440              		.loc 1 1530 0
 3441              		.cfi_startproc
 3442              		@ args = 0, pretend = 0, frame = 0
 3443              		@ frame_needed = 1, uses_anonymous_args = 0
 3444 0000 80B5     		push	{r7, lr}
 3445              	.LCFI212:
 3446              		.cfi_def_cfa_offset 8
 3447              		.cfi_offset 7, -8
 3448              		.cfi_offset 14, -4
 3449 0002 00AF     		add	r7, sp, #0
 3450              	.LCFI213:
 3451              		.cfi_def_cfa_register 7
1531:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xTaskResumeAll() == pdTRUE)
 3452              		.loc 1 1531 0
 3453 0004 FFF7FEFF 		bl	xTaskResumeAll
 3454 0008 0346     		mov	r3, r0
 3455 000a 012B     		cmp	r3, #1
 3456 000c 01D1     		bne	.L236
1532:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osOK;
 3457              		.loc 1 1532 0
 3458 000e 0023     		movs	r3, #0
 3459 0010 00E0     		b	.L237
 3460              	.L236:
1533:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1534:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
 3461              		.loc 1 1534 0
 3462 0012 FF23     		movs	r3, #255
 3463              	.L237:
1535:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1536:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3464              		.loc 1 1536 0
 3465 0014 1846     		mov	r0, r3
 3466 0016 80BD     		pop	{r7, pc}
ARM GAS  /tmp/ccMNayS3.s 			page 94


 3467              		.cfi_endproc
 3468              	.LFE74:
 3470              		.section	.text.osDelayUntil,"ax",%progbits
 3471              		.align	1
 3472              		.global	osDelayUntil
 3473              		.syntax unified
 3474              		.thumb
 3475              		.thumb_func
 3476              		.fpu fpv4-sp-d16
 3478              	osDelayUntil:
 3479              	.LFB75:
1537:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1538:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1539:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Delay a task until a specified time
1540:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   PreviousWakeTime   Pointer to a variable that holds the time at which the 
1541:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          task was last unblocked. PreviousWakeTime must be initialised with the current time
1542:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          prior to its first use (PreviousWakeTime = osKernelSysTick() )
1543:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   millisec    time delay value
1544:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1545:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1546:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osDelayUntil (uint32_t *PreviousWakeTime, uint32_t millisec)
1547:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3480              		.loc 1 1547 0
 3481              		.cfi_startproc
 3482              		@ args = 0, pretend = 0, frame = 16
 3483              		@ frame_needed = 1, uses_anonymous_args = 0
 3484 0000 80B5     		push	{r7, lr}
 3485              	.LCFI214:
 3486              		.cfi_def_cfa_offset 8
 3487              		.cfi_offset 7, -8
 3488              		.cfi_offset 14, -4
 3489 0002 84B0     		sub	sp, sp, #16
 3490              	.LCFI215:
 3491              		.cfi_def_cfa_offset 24
 3492 0004 00AF     		add	r7, sp, #0
 3493              	.LCFI216:
 3494              		.cfi_def_cfa_register 7
 3495 0006 7860     		str	r0, [r7, #4]
 3496 0008 3960     		str	r1, [r7]
1548:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_vTaskDelayUntil
1549:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks = (millisec / portTICK_PERIOD_MS);
 3497              		.loc 1 1549 0
 3498 000a 3B68     		ldr	r3, [r7]
 3499 000c FB60     		str	r3, [r7, #12]
1550:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskDelayUntil((TickType_t *) PreviousWakeTime, ticks ? ticks : 1);
 3500              		.loc 1 1550 0
 3501 000e FB68     		ldr	r3, [r7, #12]
 3502 0010 002B     		cmp	r3, #0
 3503 0012 01D0     		beq	.L239
 3504              		.loc 1 1550 0 is_stmt 0 discriminator 1
 3505 0014 FB68     		ldr	r3, [r7, #12]
 3506 0016 00E0     		b	.L240
 3507              	.L239:
 3508              		.loc 1 1550 0 discriminator 2
 3509 0018 0123     		movs	r3, #1
 3510              	.L240:
 3511              		.loc 1 1550 0 discriminator 4
ARM GAS  /tmp/ccMNayS3.s 			page 95


 3512 001a 1946     		mov	r1, r3
 3513 001c 7868     		ldr	r0, [r7, #4]
 3514 001e FFF7FEFF 		bl	vTaskDelayUntil
1551:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1552:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 3515              		.loc 1 1552 0 is_stmt 1 discriminator 4
 3516 0022 0023     		movs	r3, #0
1553:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1554:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) millisec;
1555:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) PreviousWakeTime;
1556:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1557:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
1558:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1559:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3517              		.loc 1 1559 0 discriminator 4
 3518 0024 1846     		mov	r0, r3
 3519 0026 1037     		adds	r7, r7, #16
 3520              	.LCFI217:
 3521              		.cfi_def_cfa_offset 8
 3522 0028 BD46     		mov	sp, r7
 3523              	.LCFI218:
 3524              		.cfi_def_cfa_register 13
 3525              		@ sp needed
 3526 002a 80BD     		pop	{r7, pc}
 3527              		.cfi_endproc
 3528              	.LFE75:
 3530              		.section	.text.osAbortDelay,"ax",%progbits
 3531              		.align	1
 3532              		.global	osAbortDelay
 3533              		.syntax unified
 3534              		.thumb
 3535              		.thumb_func
 3536              		.fpu fpv4-sp-d16
 3538              	osAbortDelay:
 3539              	.LFB76:
1560:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1561:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1562:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Abort the delay for a specific thread
1563:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   thread_id   thread ID obtained by \ref osThreadCreate or \ref osThreadGetId   
1564:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1565:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1566:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osAbortDelay(osThreadId thread_id)
1567:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3540              		.loc 1 1567 0
 3541              		.cfi_startproc
 3542              		@ args = 0, pretend = 0, frame = 8
 3543              		@ frame_needed = 1, uses_anonymous_args = 0
 3544              		@ link register save eliminated.
 3545 0000 80B4     		push	{r7}
 3546              	.LCFI219:
 3547              		.cfi_def_cfa_offset 4
 3548              		.cfi_offset 7, -4
 3549 0002 83B0     		sub	sp, sp, #12
 3550              	.LCFI220:
 3551              		.cfi_def_cfa_offset 16
 3552 0004 00AF     		add	r7, sp, #0
 3553              	.LCFI221:
ARM GAS  /tmp/ccMNayS3.s 			page 96


 3554              		.cfi_def_cfa_register 7
 3555 0006 7860     		str	r0, [r7, #4]
1568:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if INCLUDE_xTaskAbortDelay
1569:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1570:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   xTaskAbortDelay(thread_id);
1571:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1572:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1573:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1574:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   (void) thread_id;
1575:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1576:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osErrorResource;
 3556              		.loc 1 1576 0
 3557 0008 8123     		movs	r3, #129
1577:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1578:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3558              		.loc 1 1578 0
 3559 000a 1846     		mov	r0, r3
 3560 000c 0C37     		adds	r7, r7, #12
 3561              	.LCFI222:
 3562              		.cfi_def_cfa_offset 4
 3563 000e BD46     		mov	sp, r7
 3564              	.LCFI223:
 3565              		.cfi_def_cfa_register 13
 3566              		@ sp needed
 3567 0010 5DF8047B 		ldr	r7, [sp], #4
 3568              	.LCFI224:
 3569              		.cfi_restore 7
 3570              		.cfi_def_cfa_offset 0
 3571 0014 7047     		bx	lr
 3572              		.cfi_endproc
 3573              	.LFE76:
 3575              		.section	.text.osThreadList,"ax",%progbits
 3576              		.align	1
 3577              		.global	osThreadList
 3578              		.syntax unified
 3579              		.thumb
 3580              		.thumb_func
 3581              		.fpu fpv4-sp-d16
 3583              	osThreadList:
 3584              	.LFB77:
1579:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1580:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1581:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief   Lists all the current threads, along with their current state 
1582:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          and stack usage high water mark.
1583:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   buffer   A buffer into which the above mentioned details
1584:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** *          will be written
1585:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1586:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1587:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osThreadList (uint8_t *buffer)
1588:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3585              		.loc 1 1588 0
 3586              		.cfi_startproc
 3587              		@ args = 0, pretend = 0, frame = 8
 3588              		@ frame_needed = 1, uses_anonymous_args = 0
 3589              		@ link register save eliminated.
 3590 0000 80B4     		push	{r7}
 3591              	.LCFI225:
ARM GAS  /tmp/ccMNayS3.s 			page 97


 3592              		.cfi_def_cfa_offset 4
 3593              		.cfi_offset 7, -4
 3594 0002 83B0     		sub	sp, sp, #12
 3595              	.LCFI226:
 3596              		.cfi_def_cfa_offset 16
 3597 0004 00AF     		add	r7, sp, #0
 3598              	.LCFI227:
 3599              		.cfi_def_cfa_register 7
 3600 0006 7860     		str	r0, [r7, #4]
1589:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS == 1 ) )
1590:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vTaskList((char *)buffer);
1591:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1592:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
 3601              		.loc 1 1592 0
 3602 0008 0023     		movs	r3, #0
1593:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3603              		.loc 1 1593 0
 3604 000a 1846     		mov	r0, r3
 3605 000c 0C37     		adds	r7, r7, #12
 3606              	.LCFI228:
 3607              		.cfi_def_cfa_offset 4
 3608 000e BD46     		mov	sp, r7
 3609              	.LCFI229:
 3610              		.cfi_def_cfa_register 13
 3611              		@ sp needed
 3612 0010 5DF8047B 		ldr	r7, [sp], #4
 3613              	.LCFI230:
 3614              		.cfi_restore 7
 3615              		.cfi_def_cfa_offset 0
 3616 0014 7047     		bx	lr
 3617              		.cfi_endproc
 3618              	.LFE77:
 3620              		.section	.text.osMessagePeek,"ax",%progbits
 3621              		.align	1
 3622              		.global	osMessagePeek
 3623              		.syntax unified
 3624              		.thumb
 3625              		.thumb_func
 3626              		.fpu fpv4-sp-d16
 3628              	osMessagePeek:
 3629              	.LFB78:
1594:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1595:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1596:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Receive an item from a queue without removing the item from the queue.
1597:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1598:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  millisec  timeout value or 0 in case of no time-out.
1599:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval event information that includes status code.
1600:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1601:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osEvent osMessagePeek (osMessageQId queue_id, uint32_t millisec)
1602:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3630              		.loc 1 1602 0
 3631              		.cfi_startproc
 3632              		@ args = 0, pretend = 0, frame = 32
 3633              		@ frame_needed = 1, uses_anonymous_args = 0
 3634 0000 90B5     		push	{r4, r7, lr}
 3635              	.LCFI231:
 3636              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/ccMNayS3.s 			page 98


 3637              		.cfi_offset 4, -12
 3638              		.cfi_offset 7, -8
 3639              		.cfi_offset 14, -4
 3640 0002 89B0     		sub	sp, sp, #36
 3641              	.LCFI232:
 3642              		.cfi_def_cfa_offset 48
 3643 0004 00AF     		add	r7, sp, #0
 3644              	.LCFI233:
 3645              		.cfi_def_cfa_register 7
 3646 0006 F860     		str	r0, [r7, #12]
 3647 0008 B960     		str	r1, [r7, #8]
 3648 000a 7A60     		str	r2, [r7, #4]
1603:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1604:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osEvent event;
1605:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1606:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   event.def.message_id = queue_id;
 3649              		.loc 1 1606 0
 3650 000c BB68     		ldr	r3, [r7, #8]
 3651 000e BB61     		str	r3, [r7, #24]
1607:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1608:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (queue_id == NULL) {
 3652              		.loc 1 1608 0
 3653 0010 BB68     		ldr	r3, [r7, #8]
 3654 0012 002B     		cmp	r3, #0
 3655 0014 0AD1     		bne	.L247
1609:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osErrorParameter;
 3656              		.loc 1 1609 0
 3657 0016 8023     		movs	r3, #128
 3658 0018 3B61     		str	r3, [r7, #16]
1610:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return event;
 3659              		.loc 1 1610 0
 3660 001a FB68     		ldr	r3, [r7, #12]
 3661 001c 1C46     		mov	r4, r3
 3662 001e 07F11003 		add	r3, r7, #16
 3663 0022 93E80700 		ldm	r3, {r0, r1, r2}
 3664 0026 84E80700 		stm	r4, {r0, r1, r2}
 3665 002a 30E0     		b	.L246
 3666              	.L247:
1611:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1612:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1613:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
 3667              		.loc 1 1613 0
 3668 002c 0023     		movs	r3, #0
 3669 002e FB61     		str	r3, [r7, #28]
1614:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) {
 3670              		.loc 1 1614 0
 3671 0030 7B68     		ldr	r3, [r7, #4]
 3672 0032 B3F1FF3F 		cmp	r3, #-1
 3673 0036 03D1     		bne	.L249
1615:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
 3674              		.loc 1 1615 0
 3675 0038 4FF0FF33 		mov	r3, #-1
 3676 003c FB61     		str	r3, [r7, #28]
 3677 003e 09E0     		b	.L250
 3678              	.L249:
1616:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1617:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) {
ARM GAS  /tmp/ccMNayS3.s 			page 99


 3679              		.loc 1 1617 0
 3680 0040 7B68     		ldr	r3, [r7, #4]
 3681 0042 002B     		cmp	r3, #0
 3682 0044 06D0     		beq	.L250
1618:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
 3683              		.loc 1 1618 0
 3684 0046 7B68     		ldr	r3, [r7, #4]
 3685 0048 FB61     		str	r3, [r7, #28]
1619:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) {
 3686              		.loc 1 1619 0
 3687 004a FB69     		ldr	r3, [r7, #28]
 3688 004c 002B     		cmp	r3, #0
 3689 004e 01D1     		bne	.L250
1620:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
 3690              		.loc 1 1620 0
 3691 0050 0123     		movs	r3, #1
 3692 0052 FB61     		str	r3, [r7, #28]
 3693              	.L250:
1621:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
1622:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1623:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1624:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xQueuePeek(queue_id, &event.value.v, ticks) == pdTRUE) 
 3694              		.loc 1 1624 0
 3695 0054 07F11003 		add	r3, r7, #16
 3696 0058 191D     		adds	r1, r3, #4
 3697 005a 0123     		movs	r3, #1
 3698 005c FA69     		ldr	r2, [r7, #28]
 3699 005e B868     		ldr	r0, [r7, #8]
 3700 0060 FFF7FEFF 		bl	xQueueGenericReceive
 3701 0064 0346     		mov	r3, r0
 3702 0066 012B     		cmp	r3, #1
 3703 0068 02D1     		bne	.L251
1625:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1626:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     /* We have mail */
1627:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = osEventMessage;
 3704              		.loc 1 1627 0
 3705 006a 1023     		movs	r3, #16
 3706 006c 3B61     		str	r3, [r7, #16]
 3707 006e 06E0     		b	.L252
 3708              	.L251:
1628:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1629:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else 
1630:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1631:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     event.status = (ticks == 0) ? osOK : osEventTimeout;
 3709              		.loc 1 1631 0
 3710 0070 FB69     		ldr	r3, [r7, #28]
 3711 0072 002B     		cmp	r3, #0
 3712 0074 01D1     		bne	.L253
 3713              		.loc 1 1631 0 is_stmt 0 discriminator 1
 3714 0076 0023     		movs	r3, #0
 3715 0078 00E0     		b	.L254
 3716              	.L253:
 3717              		.loc 1 1631 0 discriminator 2
 3718 007a 4023     		movs	r3, #64
 3719              	.L254:
 3720              		.loc 1 1631 0 discriminator 4
 3721 007c 3B61     		str	r3, [r7, #16]
ARM GAS  /tmp/ccMNayS3.s 			page 100


 3722              	.L252:
1632:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1633:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1634:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return event;
 3723              		.loc 1 1634 0 is_stmt 1
 3724 007e FB68     		ldr	r3, [r7, #12]
 3725 0080 1C46     		mov	r4, r3
 3726 0082 07F11003 		add	r3, r7, #16
 3727 0086 93E80700 		ldm	r3, {r0, r1, r2}
 3728 008a 84E80700 		stm	r4, {r0, r1, r2}
 3729              	.L246:
1635:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3730              		.loc 1 1635 0
 3731 008e F868     		ldr	r0, [r7, #12]
 3732 0090 2437     		adds	r7, r7, #36
 3733              	.LCFI234:
 3734              		.cfi_def_cfa_offset 12
 3735 0092 BD46     		mov	sp, r7
 3736              	.LCFI235:
 3737              		.cfi_def_cfa_register 13
 3738              		@ sp needed
 3739 0094 90BD     		pop	{r4, r7, pc}
 3740              		.cfi_endproc
 3741              	.LFE78:
 3743              		.section	.text.osMessageWaiting,"ax",%progbits
 3744              		.align	1
 3745              		.global	osMessageWaiting
 3746              		.syntax unified
 3747              		.thumb
 3748              		.thumb_func
 3749              		.fpu fpv4-sp-d16
 3751              	osMessageWaiting:
 3752              	.LFB79:
1636:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1637:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1638:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the number of messaged stored in a queue.
1639:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1640:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval number of messages stored in a queue.
1641:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1642:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osMessageWaiting(osMessageQId queue_id)
1643:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3753              		.loc 1 1643 0
 3754              		.cfi_startproc
 3755              		@ args = 0, pretend = 0, frame = 8
 3756              		@ frame_needed = 1, uses_anonymous_args = 0
 3757 0000 80B5     		push	{r7, lr}
 3758              	.LCFI236:
 3759              		.cfi_def_cfa_offset 8
 3760              		.cfi_offset 7, -8
 3761              		.cfi_offset 14, -4
 3762 0002 82B0     		sub	sp, sp, #8
 3763              	.LCFI237:
 3764              		.cfi_def_cfa_offset 16
 3765 0004 00AF     		add	r7, sp, #0
 3766              	.LCFI238:
 3767              		.cfi_def_cfa_register 7
 3768 0006 7860     		str	r0, [r7, #4]
ARM GAS  /tmp/ccMNayS3.s 			page 101


1644:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 3769              		.loc 1 1644 0
 3770 0008 FFF7FEFF 		bl	inHandlerMode
 3771 000c 0346     		mov	r3, r0
 3772 000e 002B     		cmp	r3, #0
 3773 0010 04D0     		beq	.L257
1645:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaitingFromISR(queue_id);
 3774              		.loc 1 1645 0
 3775 0012 7868     		ldr	r0, [r7, #4]
 3776 0014 FFF7FEFF 		bl	uxQueueMessagesWaitingFromISR
 3777 0018 0346     		mov	r3, r0
 3778 001a 03E0     		b	.L258
 3779              	.L257:
1646:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1647:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else
1648:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1649:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return uxQueueMessagesWaiting(queue_id);
 3780              		.loc 1 1649 0
 3781 001c 7868     		ldr	r0, [r7, #4]
 3782 001e FFF7FEFF 		bl	uxQueueMessagesWaiting
 3783 0022 0346     		mov	r3, r0
 3784              	.L258:
1650:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1651:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3785              		.loc 1 1651 0
 3786 0024 1846     		mov	r0, r3
 3787 0026 0837     		adds	r7, r7, #8
 3788              	.LCFI239:
 3789              		.cfi_def_cfa_offset 8
 3790 0028 BD46     		mov	sp, r7
 3791              	.LCFI240:
 3792              		.cfi_def_cfa_register 13
 3793              		@ sp needed
 3794 002a 80BD     		pop	{r7, pc}
 3795              		.cfi_endproc
 3796              	.LFE79:
 3798              		.section	.text.osMessageAvailableSpace,"ax",%progbits
 3799              		.align	1
 3800              		.global	osMessageAvailableSpace
 3801              		.syntax unified
 3802              		.thumb
 3803              		.thumb_func
 3804              		.fpu fpv4-sp-d16
 3806              	osMessageAvailableSpace:
 3807              	.LFB80:
1652:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1653:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1654:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Get the available space in a message queue.
1655:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1656:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval available space in a message queue.
1657:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1658:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osMessageAvailableSpace(osMessageQId queue_id)  
1659:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3808              		.loc 1 1659 0
 3809              		.cfi_startproc
 3810              		@ args = 0, pretend = 0, frame = 8
 3811              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccMNayS3.s 			page 102


 3812 0000 80B5     		push	{r7, lr}
 3813              	.LCFI241:
 3814              		.cfi_def_cfa_offset 8
 3815              		.cfi_offset 7, -8
 3816              		.cfi_offset 14, -4
 3817 0002 82B0     		sub	sp, sp, #8
 3818              	.LCFI242:
 3819              		.cfi_def_cfa_offset 16
 3820 0004 00AF     		add	r7, sp, #0
 3821              	.LCFI243:
 3822              		.cfi_def_cfa_register 7
 3823 0006 7860     		str	r0, [r7, #4]
1660:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return uxQueueSpacesAvailable(queue_id);
 3824              		.loc 1 1660 0
 3825 0008 7868     		ldr	r0, [r7, #4]
 3826 000a FFF7FEFF 		bl	uxQueueSpacesAvailable
 3827 000e 0346     		mov	r3, r0
1661:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3828              		.loc 1 1661 0
 3829 0010 1846     		mov	r0, r3
 3830 0012 0837     		adds	r7, r7, #8
 3831              	.LCFI244:
 3832              		.cfi_def_cfa_offset 8
 3833 0014 BD46     		mov	sp, r7
 3834              	.LCFI245:
 3835              		.cfi_def_cfa_register 13
 3836              		@ sp needed
 3837 0016 80BD     		pop	{r7, pc}
 3838              		.cfi_endproc
 3839              	.LFE80:
 3841              		.section	.text.osMessageDelete,"ax",%progbits
 3842              		.align	1
 3843              		.global	osMessageDelete
 3844              		.syntax unified
 3845              		.thumb
 3846              		.thumb_func
 3847              		.fpu fpv4-sp-d16
 3849              	osMessageDelete:
 3850              	.LFB81:
1662:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1663:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1664:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief Delete a Message Queue
1665:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  queue_id  message queue ID obtained with \ref osMessageCreate.
1666:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1667:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1668:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osMessageDelete (osMessageQId queue_id)
1669:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3851              		.loc 1 1669 0
 3852              		.cfi_startproc
 3853              		@ args = 0, pretend = 0, frame = 8
 3854              		@ frame_needed = 1, uses_anonymous_args = 0
 3855 0000 80B5     		push	{r7, lr}
 3856              	.LCFI246:
 3857              		.cfi_def_cfa_offset 8
 3858              		.cfi_offset 7, -8
 3859              		.cfi_offset 14, -4
 3860 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/ccMNayS3.s 			page 103


 3861              	.LCFI247:
 3862              		.cfi_def_cfa_offset 16
 3863 0004 00AF     		add	r7, sp, #0
 3864              	.LCFI248:
 3865              		.cfi_def_cfa_register 7
 3866 0006 7860     		str	r0, [r7, #4]
1670:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (inHandlerMode()) {
 3867              		.loc 1 1670 0
 3868 0008 FFF7FEFF 		bl	inHandlerMode
 3869 000c 0346     		mov	r3, r0
 3870 000e 002B     		cmp	r3, #0
 3871 0010 01D0     		beq	.L262
1671:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorISR;
 3872              		.loc 1 1671 0
 3873 0012 8223     		movs	r3, #130
 3874 0014 03E0     		b	.L263
 3875              	.L262:
1672:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1673:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1674:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   vQueueDelete(queue_id);
 3876              		.loc 1 1674 0
 3877 0016 7868     		ldr	r0, [r7, #4]
 3878 0018 FFF7FEFF 		bl	vQueueDelete
1675:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1676:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK; 
 3879              		.loc 1 1676 0
 3880 001c 0023     		movs	r3, #0
 3881              	.L263:
1677:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3882              		.loc 1 1677 0
 3883 001e 1846     		mov	r0, r3
 3884 0020 0837     		adds	r7, r7, #8
 3885              	.LCFI249:
 3886              		.cfi_def_cfa_offset 8
 3887 0022 BD46     		mov	sp, r7
 3888              	.LCFI250:
 3889              		.cfi_def_cfa_register 13
 3890              		@ sp needed
 3891 0024 80BD     		pop	{r7, pc}
 3892              		.cfi_endproc
 3893              	.LFE81:
 3895              		.section	.text.osRecursiveMutexCreate,"ax",%progbits
 3896              		.align	1
 3897              		.global	osRecursiveMutexCreate
 3898              		.syntax unified
 3899              		.thumb
 3900              		.thumb_func
 3901              		.fpu fpv4-sp-d16
 3903              	osRecursiveMutexCreate:
 3904              	.LFB82:
1678:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1679:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1680:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Create and Initialize a Recursive Mutex
1681:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  mutex_def     mutex definition referenced with \ref osMutex.
1682:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  mutex ID for reference by other functions or NULL in case of error..
1683:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1684:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osMutexId osRecursiveMutexCreate (const osMutexDef_t *mutex_def)
ARM GAS  /tmp/ccMNayS3.s 			page 104


1685:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3905              		.loc 1 1685 0
 3906              		.cfi_startproc
 3907              		@ args = 0, pretend = 0, frame = 8
 3908              		@ frame_needed = 1, uses_anonymous_args = 0
 3909              		@ link register save eliminated.
 3910 0000 80B4     		push	{r7}
 3911              	.LCFI251:
 3912              		.cfi_def_cfa_offset 4
 3913              		.cfi_offset 7, -4
 3914 0002 83B0     		sub	sp, sp, #12
 3915              	.LCFI252:
 3916              		.cfi_def_cfa_offset 16
 3917 0004 00AF     		add	r7, sp, #0
 3918              	.LCFI253:
 3919              		.cfi_def_cfa_register 7
 3920 0006 7860     		str	r0, [r7, #4]
1686:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1687:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
1688:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1689:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_def->controlblock != NULL){
1690:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateRecursiveMutexStatic( mutex_def->controlblock );
1691:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1692:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else {
1693:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return xSemaphoreCreateRecursiveMutex();
1694:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1695:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #elif ( configSUPPORT_STATIC_ALLOCATION == 1 )
1696:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateRecursiveMutexStatic( mutex_def->controlblock );
1697:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else 
1698:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return xSemaphoreCreateRecursiveMutex();
1699:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1700:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1701:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return NULL;
 3921              		.loc 1 1701 0
 3922 0008 0023     		movs	r3, #0
1702:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif	
1703:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3923              		.loc 1 1703 0
 3924 000a 1846     		mov	r0, r3
 3925 000c 0C37     		adds	r7, r7, #12
 3926              	.LCFI254:
 3927              		.cfi_def_cfa_offset 4
 3928 000e BD46     		mov	sp, r7
 3929              	.LCFI255:
 3930              		.cfi_def_cfa_register 13
 3931              		@ sp needed
 3932 0010 5DF8047B 		ldr	r7, [sp], #4
 3933              	.LCFI256:
 3934              		.cfi_restore 7
 3935              		.cfi_def_cfa_offset 0
 3936 0014 7047     		bx	lr
 3937              		.cfi_endproc
 3938              	.LFE82:
 3940              		.section	.text.osRecursiveMutexRelease,"ax",%progbits
 3941              		.align	1
 3942              		.global	osRecursiveMutexRelease
 3943              		.syntax unified
ARM GAS  /tmp/ccMNayS3.s 			page 105


 3944              		.thumb
 3945              		.thumb_func
 3946              		.fpu fpv4-sp-d16
 3948              	osRecursiveMutexRelease:
 3949              	.LFB83:
1704:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1705:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1706:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Release a Recursive Mutex
1707:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   mutex_id      mutex ID obtained by \ref osRecursiveMutexCreate.
1708:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1709:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1710:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osRecursiveMutexRelease (osMutexId mutex_id)
1711:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3950              		.loc 1 1711 0
 3951              		.cfi_startproc
 3952              		@ args = 0, pretend = 0, frame = 8
 3953              		@ frame_needed = 1, uses_anonymous_args = 0
 3954              		@ link register save eliminated.
 3955 0000 80B4     		push	{r7}
 3956              	.LCFI257:
 3957              		.cfi_def_cfa_offset 4
 3958              		.cfi_offset 7, -4
 3959 0002 83B0     		sub	sp, sp, #12
 3960              	.LCFI258:
 3961              		.cfi_def_cfa_offset 16
 3962 0004 00AF     		add	r7, sp, #0
 3963              	.LCFI259:
 3964              		.cfi_def_cfa_register 7
 3965 0006 7860     		str	r0, [r7, #4]
1712:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1713:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   osStatus result = osOK;
1714:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****  
1715:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xSemaphoreGiveRecursive(mutex_id) != pdTRUE) 
1716:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1717:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     result = osErrorOS;
1718:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1719:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return result;
1720:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1721:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return osErrorResource;
 3966              		.loc 1 1721 0
 3967 0008 8123     		movs	r3, #129
1722:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1723:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 3968              		.loc 1 1723 0
 3969 000a 1846     		mov	r0, r3
 3970 000c 0C37     		adds	r7, r7, #12
 3971              	.LCFI260:
 3972              		.cfi_def_cfa_offset 4
 3973 000e BD46     		mov	sp, r7
 3974              	.LCFI261:
 3975              		.cfi_def_cfa_register 13
 3976              		@ sp needed
 3977 0010 5DF8047B 		ldr	r7, [sp], #4
 3978              	.LCFI262:
 3979              		.cfi_restore 7
 3980              		.cfi_def_cfa_offset 0
 3981 0014 7047     		bx	lr
ARM GAS  /tmp/ccMNayS3.s 			page 106


 3982              		.cfi_endproc
 3983              	.LFE83:
 3985              		.section	.text.osRecursiveMutexWait,"ax",%progbits
 3986              		.align	1
 3987              		.global	osRecursiveMutexWait
 3988              		.syntax unified
 3989              		.thumb
 3990              		.thumb_func
 3991              		.fpu fpv4-sp-d16
 3993              	osRecursiveMutexWait:
 3994              	.LFB84:
1724:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1725:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1726:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Release a Recursive Mutex
1727:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param   mutex_id    mutex ID obtained by \ref osRecursiveMutexCreate.
1728:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param millisec      timeout value or 0 in case of no time-out.
1729:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  status code that indicates the execution status of the function.
1730:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1731:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** osStatus osRecursiveMutexWait (osMutexId mutex_id, uint32_t millisec)
1732:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 3995              		.loc 1 1732 0
 3996              		.cfi_startproc
 3997              		@ args = 0, pretend = 0, frame = 8
 3998              		@ frame_needed = 1, uses_anonymous_args = 0
 3999              		@ link register save eliminated.
 4000 0000 80B4     		push	{r7}
 4001              	.LCFI263:
 4002              		.cfi_def_cfa_offset 4
 4003              		.cfi_offset 7, -4
 4004 0002 83B0     		sub	sp, sp, #12
 4005              	.LCFI264:
 4006              		.cfi_def_cfa_offset 16
 4007 0004 00AF     		add	r7, sp, #0
 4008              	.LCFI265:
 4009              		.cfi_def_cfa_register 7
 4010 0006 7860     		str	r0, [r7, #4]
 4011 0008 3960     		str	r1, [r7]
1733:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #if (configUSE_RECURSIVE_MUTEXES == 1)
1734:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   TickType_t ticks;
1735:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1736:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (mutex_id == NULL)
1737:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1738:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorParameter;
1739:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1740:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1741:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   ticks = 0;
1742:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (millisec == osWaitForever) 
1743:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1744:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = portMAX_DELAY;
1745:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1746:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   else if (millisec != 0) 
1747:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1748:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     ticks = millisec / portTICK_PERIOD_MS;
1749:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     if (ticks == 0) 
1750:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     {
1751:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****       ticks = 1;
1752:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     }
ARM GAS  /tmp/ccMNayS3.s 			page 107


1753:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1754:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   
1755:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   if (xSemaphoreTakeRecursive(mutex_id, ticks) != pdTRUE) 
1756:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   {
1757:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****     return osErrorOS;
1758:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   }
1759:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return osOK;
1760:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #else
1761:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 	return osErrorResource;
 4012              		.loc 1 1761 0
 4013 000a 8123     		movs	r3, #129
1762:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** #endif
1763:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 4014              		.loc 1 1763 0
 4015 000c 1846     		mov	r0, r3
 4016 000e 0C37     		adds	r7, r7, #12
 4017              	.LCFI266:
 4018              		.cfi_def_cfa_offset 4
 4019 0010 BD46     		mov	sp, r7
 4020              	.LCFI267:
 4021              		.cfi_def_cfa_register 13
 4022              		@ sp needed
 4023 0012 5DF8047B 		ldr	r7, [sp], #4
 4024              	.LCFI268:
 4025              		.cfi_restore 7
 4026              		.cfi_def_cfa_offset 0
 4027 0016 7047     		bx	lr
 4028              		.cfi_endproc
 4029              	.LFE84:
 4031              		.section	.text.osSemaphoreGetCount,"ax",%progbits
 4032              		.align	1
 4033              		.global	osSemaphoreGetCount
 4034              		.syntax unified
 4035              		.thumb
 4036              		.thumb_func
 4037              		.fpu fpv4-sp-d16
 4039              	osSemaphoreGetCount:
 4040              	.LFB85:
1764:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** 
1765:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** /**
1766:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @brief  Returns the current count value of a counting semaphore
1767:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @param  semaphore_id  semaphore_id ID obtained by \ref osSemaphoreCreate.
1768:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** * @retval  count value
1769:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** */
1770:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** uint32_t osSemaphoreGetCount(osSemaphoreId semaphore_id)
1771:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** {
 4041              		.loc 1 1771 0
 4042              		.cfi_startproc
 4043              		@ args = 0, pretend = 0, frame = 8
 4044              		@ frame_needed = 1, uses_anonymous_args = 0
 4045 0000 80B5     		push	{r7, lr}
 4046              	.LCFI269:
 4047              		.cfi_def_cfa_offset 8
 4048              		.cfi_offset 7, -8
 4049              		.cfi_offset 14, -4
 4050 0002 82B0     		sub	sp, sp, #8
 4051              	.LCFI270:
ARM GAS  /tmp/ccMNayS3.s 			page 108


 4052              		.cfi_def_cfa_offset 16
 4053 0004 00AF     		add	r7, sp, #0
 4054              	.LCFI271:
 4055              		.cfi_def_cfa_register 7
 4056 0006 7860     		str	r0, [r7, #4]
1772:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c ****   return uxSemaphoreGetCount(semaphore_id);
 4057              		.loc 1 1772 0
 4058 0008 7868     		ldr	r0, [r7, #4]
 4059 000a FFF7FEFF 		bl	uxQueueMessagesWaiting
 4060 000e 0346     		mov	r3, r0
1773:Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.c **** }
 4061              		.loc 1 1773 0
 4062 0010 1846     		mov	r0, r3
 4063 0012 0837     		adds	r7, r7, #8
 4064              	.LCFI272:
 4065              		.cfi_def_cfa_offset 8
 4066 0014 BD46     		mov	sp, r7
 4067              	.LCFI273:
 4068              		.cfi_def_cfa_register 13
 4069              		@ sp needed
 4070 0016 80BD     		pop	{r7, pc}
 4071              		.cfi_endproc
 4072              	.LFE85:
 4074              		.text
 4075              	.Letext0:
 4076              		.file 4 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 4077              		.file 5 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/lock.h"
 4078              		.file 6 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/_types.h"
 4079              		.file 7 "/opt/gcc4mbed/gcc-arm-none-eabi/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 4080              		.file 8 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/reent.h"
 4081              		.file 9 "/opt/gcc4mbed/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
 4082              		.file 10 "Inc/FreeRTOSConfig.h"
 4083              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/projdefs.h"
 4084              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 4085              		.file 13 "Middlewares/Third_Party/FreeRTOS/Source/include/timers.h"
 4086              		.file 14 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 4087              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 4088              		.file 16 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS/cmsis_os.h"
ARM GAS  /tmp/ccMNayS3.s 			page 109


DEFINED SYMBOLS
                            *ABS*:0000000000000000 cmsis_os.c
     /tmp/ccMNayS3.s:18     .text.makeFreeRtosPriority:0000000000000000 $t
     /tmp/ccMNayS3.s:24     .text.makeFreeRtosPriority:0000000000000000 makeFreeRtosPriority
     /tmp/ccMNayS3.s:78     .text.makeCmsisPriority:0000000000000000 $t
     /tmp/ccMNayS3.s:84     .text.makeCmsisPriority:0000000000000000 makeCmsisPriority
     /tmp/ccMNayS3.s:136    .text.inHandlerMode:0000000000000000 $t
     /tmp/ccMNayS3.s:142    .text.inHandlerMode:0000000000000000 inHandlerMode
     /tmp/ccMNayS3.s:198    .text.osKernelStart:0000000000000000 $t
     /tmp/ccMNayS3.s:205    .text.osKernelStart:0000000000000000 osKernelStart
     /tmp/ccMNayS3.s:230    .text.osKernelRunning:0000000000000000 $t
     /tmp/ccMNayS3.s:237    .text.osKernelRunning:0000000000000000 osKernelRunning
     /tmp/ccMNayS3.s:270    .text.osKernelSysTick:0000000000000000 $t
     /tmp/ccMNayS3.s:277    .text.osKernelSysTick:0000000000000000 osKernelSysTick
     /tmp/ccMNayS3.s:312    .text.osThreadCreate:0000000000000000 $t
     /tmp/ccMNayS3.s:319    .text.osThreadCreate:0000000000000000 osThreadCreate
     /tmp/ccMNayS3.s:388    .text.osThreadGetId:0000000000000000 $t
     /tmp/ccMNayS3.s:395    .text.osThreadGetId:0000000000000000 osThreadGetId
     /tmp/ccMNayS3.s:426    .text.osThreadTerminate:0000000000000000 $t
     /tmp/ccMNayS3.s:433    .text.osThreadTerminate:0000000000000000 osThreadTerminate
     /tmp/ccMNayS3.s:470    .text.osThreadYield:0000000000000000 $t
     /tmp/ccMNayS3.s:477    .text.osThreadYield:0000000000000000 osThreadYield
     /tmp/ccMNayS3.s:520    .text.osThreadYield:0000000000000020 $d
     /tmp/ccMNayS3.s:525    .text.osThreadSetPriority:0000000000000000 $t
     /tmp/ccMNayS3.s:532    .text.osThreadSetPriority:0000000000000000 osThreadSetPriority
     /tmp/ccMNayS3.s:576    .text.osThreadGetPriority:0000000000000000 $t
     /tmp/ccMNayS3.s:583    .text.osThreadGetPriority:0000000000000000 osThreadGetPriority
     /tmp/ccMNayS3.s:637    .text.osDelay:0000000000000000 $t
     /tmp/ccMNayS3.s:644    .text.osDelay:0000000000000000 osDelay
     /tmp/ccMNayS3.s:695    .text.osTimerCreate:0000000000000000 $t
     /tmp/ccMNayS3.s:702    .text.osTimerCreate:0000000000000000 osTimerCreate
     /tmp/ccMNayS3.s:743    .text.osTimerStart:0000000000000000 $t
     /tmp/ccMNayS3.s:750    .text.osTimerStart:0000000000000000 osTimerStart
     /tmp/ccMNayS3.s:795    .text.osTimerStop:0000000000000000 $t
     /tmp/ccMNayS3.s:802    .text.osTimerStop:0000000000000000 osTimerStop
     /tmp/ccMNayS3.s:846    .text.osTimerDelete:0000000000000000 $t
     /tmp/ccMNayS3.s:853    .text.osTimerDelete:0000000000000000 osTimerDelete
     /tmp/ccMNayS3.s:897    .text.osSignalSet:0000000000000000 $t
     /tmp/ccMNayS3.s:904    .text.osSignalSet:0000000000000000 osSignalSet
     /tmp/ccMNayS3.s:998    .text.osSignalSet:000000000000007c $d
     /tmp/ccMNayS3.s:1003   .text.osSignalWait:0000000000000000 $t
     /tmp/ccMNayS3.s:1010   .text.osSignalWait:0000000000000000 osSignalWait
     /tmp/ccMNayS3.s:1128   .text.osMutexCreate:0000000000000000 $t
     /tmp/ccMNayS3.s:1135   .text.osMutexCreate:0000000000000000 osMutexCreate
     /tmp/ccMNayS3.s:1173   .text.osMutexWait:0000000000000000 $t
     /tmp/ccMNayS3.s:1180   .text.osMutexWait:0000000000000000 osMutexWait
     /tmp/ccMNayS3.s:1303   .text.osMutexWait:000000000000009c $d
     /tmp/ccMNayS3.s:1308   .text.osMutexRelease:0000000000000000 $t
     /tmp/ccMNayS3.s:1315   .text.osMutexRelease:0000000000000000 osMutexRelease
     /tmp/ccMNayS3.s:1404   .text.osMutexRelease:0000000000000068 $d
     /tmp/ccMNayS3.s:1409   .text.osMutexDelete:0000000000000000 $t
     /tmp/ccMNayS3.s:1416   .text.osMutexDelete:0000000000000000 osMutexDelete
     /tmp/ccMNayS3.s:1463   .text.osSemaphoreCreate:0000000000000000 $t
     /tmp/ccMNayS3.s:1470   .text.osSemaphoreCreate:0000000000000000 osSemaphoreCreate
     /tmp/ccMNayS3.s:1530   .text.osSemaphoreWait:0000000000000000 $t
     /tmp/ccMNayS3.s:1537   .text.osSemaphoreWait:0000000000000000 osSemaphoreWait
     /tmp/ccMNayS3.s:1660   .text.osSemaphoreWait:000000000000009c $d
ARM GAS  /tmp/ccMNayS3.s 			page 110


     /tmp/ccMNayS3.s:1665   .text.osSemaphoreRelease:0000000000000000 $t
     /tmp/ccMNayS3.s:1672   .text.osSemaphoreRelease:0000000000000000 osSemaphoreRelease
     /tmp/ccMNayS3.s:1761   .text.osSemaphoreRelease:0000000000000068 $d
     /tmp/ccMNayS3.s:1766   .text.osSemaphoreDelete:0000000000000000 $t
     /tmp/ccMNayS3.s:1773   .text.osSemaphoreDelete:0000000000000000 osSemaphoreDelete
     /tmp/ccMNayS3.s:1820   .text.osPoolCreate:0000000000000000 $t
     /tmp/ccMNayS3.s:1827   .text.osPoolCreate:0000000000000000 osPoolCreate
     /tmp/ccMNayS3.s:1961   .text.osPoolAlloc:0000000000000000 $t
     /tmp/ccMNayS3.s:1968   .text.osPoolAlloc:0000000000000000 osPoolAlloc
     /tmp/ccMNayS3.s:2131   .text.osPoolCAlloc:0000000000000000 $t
     /tmp/ccMNayS3.s:2138   .text.osPoolCAlloc:0000000000000000 osPoolCAlloc
     /tmp/ccMNayS3.s:2186   .text.osPoolFree:0000000000000000 $t
     /tmp/ccMNayS3.s:2193   .text.osPoolFree:0000000000000000 osPoolFree
     /tmp/ccMNayS3.s:2301   .text.osMessageCreate:0000000000000000 $t
     /tmp/ccMNayS3.s:2308   .text.osMessageCreate:0000000000000000 osMessageCreate
     /tmp/ccMNayS3.s:2350   .text.osMessagePut:0000000000000000 $t
     /tmp/ccMNayS3.s:2357   .text.osMessagePut:0000000000000000 osMessagePut
     /tmp/ccMNayS3.s:2457   .text.osMessagePut:000000000000007c $d
     /tmp/ccMNayS3.s:2462   .text.osMessageGet:0000000000000000 $t
     /tmp/ccMNayS3.s:2469   .text.osMessageGet:0000000000000000 osMessageGet
     /tmp/ccMNayS3.s:2633   .text.osMessageGet:00000000000000e4 $d
     /tmp/ccMNayS3.s:2638   .text.osMailCreate:0000000000000000 $t
     /tmp/ccMNayS3.s:2645   .text.osMailCreate:0000000000000000 osMailCreate
     /tmp/ccMNayS3.s:2771   .text.osMailAlloc:0000000000000000 $t
     /tmp/ccMNayS3.s:2778   .text.osMailAlloc:0000000000000000 osMailAlloc
     /tmp/ccMNayS3.s:2828   .text.osMailCAlloc:0000000000000000 $t
     /tmp/ccMNayS3.s:2835   .text.osMailCAlloc:0000000000000000 osMailCAlloc
     /tmp/ccMNayS3.s:2903   .text.osMailPut:0000000000000000 $t
     /tmp/ccMNayS3.s:2910   .text.osMailPut:0000000000000000 osMailPut
     /tmp/ccMNayS3.s:3008   .text.osMailPut:0000000000000078 $d
     /tmp/ccMNayS3.s:3013   .text.osMailGet:0000000000000000 $t
     /tmp/ccMNayS3.s:3020   .text.osMailGet:0000000000000000 osMailGet
     /tmp/ccMNayS3.s:3183   .text.osMailGet:00000000000000e4 $d
     /tmp/ccMNayS3.s:3188   .text.osMailFree:0000000000000000 $t
     /tmp/ccMNayS3.s:3195   .text.osMailFree:0000000000000000 osMailFree
     /tmp/ccMNayS3.s:3244   .text.osSystickHandler:0000000000000000 $t
     /tmp/ccMNayS3.s:3251   .text.osSystickHandler:0000000000000000 osSystickHandler
     /tmp/ccMNayS3.s:3280   .text.osThreadSuspend:0000000000000000 $t
     /tmp/ccMNayS3.s:3287   .text.osThreadSuspend:0000000000000000 osThreadSuspend
     /tmp/ccMNayS3.s:3324   .text.osThreadResume:0000000000000000 $t
     /tmp/ccMNayS3.s:3331   .text.osThreadResume:0000000000000000 osThreadResume
     /tmp/ccMNayS3.s:3394   .text.osThreadResume:0000000000000040 $d
     /tmp/ccMNayS3.s:3399   .text.osThreadSuspendAll:0000000000000000 $t
     /tmp/ccMNayS3.s:3406   .text.osThreadSuspendAll:0000000000000000 osThreadSuspendAll
     /tmp/ccMNayS3.s:3431   .text.osThreadResumeAll:0000000000000000 $t
     /tmp/ccMNayS3.s:3438   .text.osThreadResumeAll:0000000000000000 osThreadResumeAll
     /tmp/ccMNayS3.s:3471   .text.osDelayUntil:0000000000000000 $t
     /tmp/ccMNayS3.s:3478   .text.osDelayUntil:0000000000000000 osDelayUntil
     /tmp/ccMNayS3.s:3531   .text.osAbortDelay:0000000000000000 $t
     /tmp/ccMNayS3.s:3538   .text.osAbortDelay:0000000000000000 osAbortDelay
     /tmp/ccMNayS3.s:3576   .text.osThreadList:0000000000000000 $t
     /tmp/ccMNayS3.s:3583   .text.osThreadList:0000000000000000 osThreadList
     /tmp/ccMNayS3.s:3621   .text.osMessagePeek:0000000000000000 $t
     /tmp/ccMNayS3.s:3628   .text.osMessagePeek:0000000000000000 osMessagePeek
     /tmp/ccMNayS3.s:3744   .text.osMessageWaiting:0000000000000000 $t
     /tmp/ccMNayS3.s:3751   .text.osMessageWaiting:0000000000000000 osMessageWaiting
     /tmp/ccMNayS3.s:3799   .text.osMessageAvailableSpace:0000000000000000 $t
ARM GAS  /tmp/ccMNayS3.s 			page 111


     /tmp/ccMNayS3.s:3806   .text.osMessageAvailableSpace:0000000000000000 osMessageAvailableSpace
     /tmp/ccMNayS3.s:3842   .text.osMessageDelete:0000000000000000 $t
     /tmp/ccMNayS3.s:3849   .text.osMessageDelete:0000000000000000 osMessageDelete
     /tmp/ccMNayS3.s:3896   .text.osRecursiveMutexCreate:0000000000000000 $t
     /tmp/ccMNayS3.s:3903   .text.osRecursiveMutexCreate:0000000000000000 osRecursiveMutexCreate
     /tmp/ccMNayS3.s:3941   .text.osRecursiveMutexRelease:0000000000000000 $t
     /tmp/ccMNayS3.s:3948   .text.osRecursiveMutexRelease:0000000000000000 osRecursiveMutexRelease
     /tmp/ccMNayS3.s:3986   .text.osRecursiveMutexWait:0000000000000000 $t
     /tmp/ccMNayS3.s:3993   .text.osRecursiveMutexWait:0000000000000000 osRecursiveMutexWait
     /tmp/ccMNayS3.s:4032   .text.osSemaphoreGetCount:0000000000000000 $t
     /tmp/ccMNayS3.s:4039   .text.osSemaphoreGetCount:0000000000000000 osSemaphoreGetCount
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
vTaskStartScheduler
xTaskGetSchedulerState
xTaskGetTickCountFromISR
xTaskGetTickCount
xTaskCreate
vTaskDelete
vTaskPrioritySet
uxTaskPriorityGetFromISR
uxTaskPriorityGet
vTaskDelay
xTaskGenericNotifyFromISR
xTaskGenericNotify
xTaskNotifyWait
xQueueReceiveFromISR
xQueueGenericReceive
xQueueGiveFromISR
xQueueGenericSend
vQueueDelete
xQueueGenericCreate
pvPortMalloc
vPortFree
vPortEnterCritical
vPortExitCritical
memset
xQueueGenericSendFromISR
xPortSysTickHandler
vTaskSuspend
xTaskResumeFromISR
vTaskResume
vTaskSuspendAll
xTaskResumeAll
vTaskDelayUntil
uxQueueMessagesWaitingFromISR
uxQueueMessagesWaiting
uxQueueSpacesAvailable
